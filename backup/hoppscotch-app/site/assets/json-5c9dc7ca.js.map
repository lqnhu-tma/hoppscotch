{"version":3,"file":"json-5c9dc7ca.js","sources":["../../../hoppscotch-common/src/helpers/functional/json.ts"],"sourcesContent":["import * as O from \"fp-ts/Option\"\nimport { flow } from \"fp-ts/function\"\n\ntype SafeParseJSON = {\n  (str: string, convertToArray: true): O.Option<Array<unknown>>\n  (str: string, convertToArray?: false): O.Option<Record<string, unknown>>\n}\n\n/**\n * Checks and Parses JSON string\n * @param str Raw JSON data to be parsed\n * @returns Option type with some(JSON data) or none\n */\nexport const safeParseJSON: SafeParseJSON = (str, convertToArray = false) =>\n  O.tryCatch(() => {\n    const data = JSON.parse(str)\n    if (convertToArray) {\n      return Array.isArray(data) ? data : [data]\n    }\n    return data\n  })\n\n/**\n * Checks if given string is a JSON string\n * @param str Raw string to be checked\n * @returns If string is a JSON string\n */\nexport const isJSON = flow(safeParseJSON, O.isSome)\n"],"names":["safeParseJSON","str","convertToArray","O.tryCatch","data","isJSON","flow","O.isSome"],"mappings":"yDAaO,MAAMA,EAA+B,CAACC,EAAKC,EAAiB,KACjEC,EAAW,IAAM,CACT,MAAAC,EAAO,KAAK,MAAMH,CAAG,EAC3B,OAAIC,EACK,MAAM,QAAQE,CAAI,EAAIA,EAAO,CAACA,CAAI,EAEpCA,CACT,CAAC,EAOUC,EAASC,EAAKN,EAAeO,CAAQ"}