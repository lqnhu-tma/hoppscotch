{"version":3,"file":"index-37a4ebb7.js","sources":["../../../hoppscotch-common/src/services/context-menu/index.ts","../../../hoppscotch-common/src/services/context-menu/menu/environment.menu.ts","../../../hoppscotch-common/src/services/context-menu/menu/parameter.menu.ts","../../../hoppscotch-common/src/services/context-menu/menu/url.menu.ts","../../../hoppscotch-common/src/components/app/ContextMenu.vue","../../../../node_modules/.pnpm/through@2.3.8/node_modules/through/index.js","../../../../node_modules/.pnpm/from@0.1.7/node_modules/from/index.js","../../../../node_modules/.pnpm/duplexer@0.1.2/node_modules/duplexer/index.js","../../../../node_modules/.pnpm/map-stream@0.0.7/node_modules/map-stream/index.js","../../../../node_modules/.pnpm/pause-stream@0.0.11/node_modules/pause-stream/index.js","../../../../node_modules/.pnpm/split@1.0.1/node_modules/split/index.js","../../../../node_modules/.pnpm/stream-combiner@0.2.2/node_modules/stream-combiner/index.js","../../../../node_modules/.pnpm/event-stream@4.0.1/node_modules/event-stream/index.js","../../../../node_modules/.pnpm/form-data@4.0.0/node_modules/form-data/lib/browser.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/form-data.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/ucs2length.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/util.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/schema_obj.js","../../../../node_modules/.pnpm/json-schema-traverse@0.4.1/node_modules/json-schema-traverse/index.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/resolve.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/error_classes.js","../../../../node_modules/.pnpm/fast-json-stable-stringify@2.1.0/node_modules/fast-json-stable-stringify/index.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/validate.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/index.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/cache.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/formats.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/ref.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/allOf.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/anyOf.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/comment.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/const.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/contains.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/dependencies.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/enum.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/format.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/if.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/items.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/_limit.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/_limitItems.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/_limitLength.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/_limitProperties.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/multipleOf.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/not.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/oneOf.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/pattern.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/properties.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/propertyNames.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/required.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/uniqueItems.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/index.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/rules.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/data.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/compile/async.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/dotjs/custom.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/definition_schema.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/keyword.js","../../../../node_modules/.pnpm/ajv@6.12.3/node_modules/ajv/lib/ajv.js","../../../../node_modules/.pnpm/har-schema@2.0.0/node_modules/har-schema/lib/index.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/har-validator.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/headers.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/reducer.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/code-builder.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/escape.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/c/libcurl/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/c/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/clojure/clj_http/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/clojure/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/csharp/httpclient/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/csharp/restsharp/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/csharp/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/go/native/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/go/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/http/http1.1/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/http/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/java/asynchttp/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/java/nethttp/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/java/okhttp/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/java/unirest/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/java/target.js","../../../../node_modules/.pnpm/is-regexp@1.0.0/node_modules/is-regexp/index.js","../../../../node_modules/.pnpm/is-obj@1.0.1/node_modules/is-obj/index.js","../../../../node_modules/.pnpm/get-own-enumerable-property-symbols@3.0.2/node_modules/get-own-enumerable-property-symbols/lib/index.js","../../../../node_modules/.pnpm/stringify-object@3.3.0/node_modules/stringify-object/index.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/javascript/axios/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/javascript/fetch/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/javascript/jquery/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/javascript/xhr/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/javascript/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/kotlin/okhttp/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/kotlin/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/node/axios/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/node/fetch/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/node/native/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/node/request/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/node/unirest/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/node/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/objc/helpers.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/objc/nsurlsession/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/objc/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/ocaml/cohttp/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/ocaml/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/php/helpers.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/php/curl/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/php/guzzle/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/php/http1/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/php/http2/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/php/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/powershell/common.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/powershell/restmethod/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/powershell/webrequest/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/powershell/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/python/python3/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/python/helpers.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/python/requests/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/python/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/r/httr/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/r/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/ruby/native/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/ruby/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/shell.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/shell/curl/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/shell/httpie/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/shell/wget/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/shell/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/swift/helpers.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/swift/nsurlsession/client.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/swift/target.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/targets/targets.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/helpers/utils.js","../../../../node_modules/.pnpm/httpsnippet@3.0.1/node_modules/httpsnippet/dist/httpsnippet.js","../../../hoppscotch-common/src/helpers/typeutils.ts","../../../hoppscotch-common/src/helpers/new-codegen/har.ts","../../../hoppscotch-common/src/helpers/new-codegen/index.ts","../../../hoppscotch-common/src/components/http/Codegen.vue","../../../hoppscotch-common/src/components/share/templates/Link.vue","../../../hoppscotch-common/src/components/share/templates/Button.vue","../../../hoppscotch-common/src/components/share/templates/Embeds.vue","../../../hoppscotch-common/src/components/share/CustomizeModal.vue","../../../hoppscotch-common/src/components/share/CreateModal.vue","../../../hoppscotch-common/src/components/share/Modal.vue","../../../../node_modules/.pnpm/fp-ts@2.16.1/node_modules/fp-ts/lib/function.js","../../../hoppscotch-common/src/components/share/Request.vue","../../../hoppscotch-common/src/helpers/shortcode/ShortcodeListAdapter.ts","../../../hoppscotch-common/src/helpers/backend/mutations/Shortcode.ts","../../../hoppscotch-common/src/components/share/index.vue","../../../hoppscotch-common/src/components/environments/Selector.vue","../../../hoppscotch-common/src/components/environments/Add.vue","../../../hoppscotch-common/src/components/environments/Properties.vue","../../../hoppscotch-common/src/helpers/import-export/import/hoppEnv.ts","../../../hoppscotch-common/src/helpers/import-export/import/postmanEnv.ts","../../../hoppscotch-common/src/helpers/import-export/export/environments.ts","../../../hoppscotch-common/src/components/environments/ImportExport.vue","../../../hoppscotch-common/src/helpers/import-export/export/environment.ts","../../../hoppscotch-common/src/components/environments/teams/Environment.vue","../../../hoppscotch-common/src/components/environments/teams/index.vue","../../../hoppscotch-common/src/components/environments/my/Environment.vue","../../../hoppscotch-common/src/components/environments/my/index.vue","../../../hoppscotch-common/src/components/environments/index.vue","../../../hoppscotch-common/src/components/http/Sidebar.vue","../../../hoppscotch-common/src/components/http/CodegenModal.vue","../../../../node_modules/.pnpm/yargs-parser@21.1.1/node_modules/yargs-parser/build/lib/string-utils.js","../../../../node_modules/.pnpm/yargs-parser@21.1.1/node_modules/yargs-parser/build/lib/tokenize-arg-string.js","../../../../node_modules/.pnpm/yargs-parser@21.1.1/node_modules/yargs-parser/build/lib/yargs-parser-types.js","../../../../node_modules/.pnpm/yargs-parser@21.1.1/node_modules/yargs-parser/build/lib/yargs-parser.js","../../../../node_modules/.pnpm/yargs-parser@21.1.1/node_modules/yargs-parser/browser.js","../../../hoppscotch-common/src/helpers/curl/sub_helpers/auth.ts","../../../hoppscotch-common/src/helpers/curl/sub_helpers/headers.ts","../../../hoppscotch-common/src/helpers/curl/sub_helpers/queries.ts","../../../../node_modules/.pnpm/fp-ts@2.16.1/node_modules/fp-ts/es6/Refinement.js","../../../hoppscotch-common/src/helpers/curl/sub_helpers/method.ts","../../../hoppscotch-common/src/helpers/curl/sub_helpers/url.ts","../../../hoppscotch-common/src/helpers/curl/sub_helpers/preproc.ts","../../../hoppscotch-common/src/helpers/functional/option.ts","../../../hoppscotch-common/src/helpers/curl/sub_helpers/contentParser.ts","../../../hoppscotch-common/src/helpers/curl/sub_helpers/body.ts","../../../hoppscotch-common/src/helpers/curl/curlparser.ts","../../../hoppscotch-common/src/helpers/curl/index.ts","../../../hoppscotch-common/src/components/http/ImportCurl.vue","../../../hoppscotch-common/src/components/http/Request.vue","../../../hoppscotch-common/src/components/http/RequestTab.vue","../../../hoppscotch-common/src/components/http/TabHead.vue","../../../hoppscotch-common/src/helpers/RESTExtURLParams.ts","../../../hoppscotch-common/src/services/inspection/inspectors/header.inspector.ts","../../../hoppscotch-common/src/services/inspection/inspectors/environment.inspector.ts","../../../hoppscotch-common/src/services/inspection/inspectors/response.inspector.ts","../../../hoppscotch-common/src/pages/index.vue"],"sourcesContent":["import { Service } from \"dioc\"\nimport { Component } from \"vue\"\n\n/**\n * Defines how to render the text in a Context Menu Search Result\n */\nexport type ContextMenuTextType<T extends object | Component = never> =\n  | {\n      type: \"text\"\n      text: string\n    }\n  | {\n      type: \"custom\"\n      /**\n       * The component to render in place of the text\n       */\n      component: T\n\n      /**\n       * The props to pass to the component\n       */\n      componentProps: T extends Component<infer Props> ? Props : never\n    }\n\n/**\n * Defines info about a context menu result so the UI can render it\n */\nexport interface ContextMenuResult {\n  /**\n   * The unique ID of the result\n   */\n  id: string\n  /**\n   * The text to render in the result\n   */\n  text: ContextMenuTextType<any>\n  /**\n   * The icon to render as the signifier of the result\n   */\n  icon: object | Component\n  /**\n   * The action to perform when the result is selected\n   */\n  action: () => void\n  /**\n   * Additional metadata about the result\n   */\n  meta?: {\n    /**\n     * The keyboard shortcut to trigger the result\n     */\n    keyboardShortcut?: string[]\n  }\n}\n\n/**\n * Defines the state of a context menu\n */\nexport type ContextMenuState = {\n  results: ContextMenuResult[]\n}\n\n/**\n * Defines a context menu\n */\nexport interface ContextMenu {\n  /**\n   * The unique ID of the context menu\n   * This is used to identify the context menu\n   */\n  menuID: string\n  /**\n   * Gets the context menu for the given text\n   * @param text The text to get the context menu for\n   * @returns The context menu state\n   */\n  getMenuFor: (text: string) => ContextMenuState\n}\n\n/**\n * Defines the context menu service\n * This service is used to register context menus and get context menus for text\n * This service is used by the context menu UI\n */\nexport class ContextMenuService extends Service {\n  public static readonly ID = \"CONTEXT_MENU_SERVICE\"\n\n  private menus: Map<string, ContextMenu> = new Map()\n\n  /**\n   * Registers a menu with the context menu service\n   * @param menu The menu to register\n   */\n  public registerMenu(menu: ContextMenu) {\n    this.menus.set(menu.menuID, menu)\n  }\n\n  /**\n   * Gets the context menu for the given text\n   * @param text The text to get the context menu for\n   */\n  public getMenuFor(text: string): ContextMenuResult[] {\n    const menus = Array.from(this.menus.values()).map((x) => x.getMenuFor(text))\n\n    const result = menus.flatMap((x) => x.results)\n\n    return result\n  }\n}\n","import { Service } from \"dioc\"\nimport {\n  ContextMenu,\n  ContextMenuResult,\n  ContextMenuService,\n  ContextMenuState,\n} from \"../\"\nimport { markRaw, ref } from \"vue\"\nimport { invokeAction } from \"~/helpers/actions\"\nimport IconPlusCircle from \"~icons/lucide/plus-circle\"\nimport { getI18n } from \"~/modules/i18n\"\n\n/**\n * This menu returns a single result that allows the user\n * to add the selected text as an environment variable\n * This menus is shown on all text selections\n */\nexport class EnvironmentMenuService extends Service implements ContextMenu {\n  public static readonly ID = \"ENVIRONMENT_CONTEXT_MENU_SERVICE\"\n\n  private t = getI18n()\n\n  public readonly menuID = \"environment\"\n\n  private readonly contextMenu = this.bind(ContextMenuService)\n\n  override onServiceInit() {\n    this.contextMenu.registerMenu(this)\n  }\n\n  getMenuFor(text: Readonly<string>): ContextMenuState {\n    const results = ref<ContextMenuResult[]>([])\n    results.value = [\n      {\n        id: \"environment\",\n        text: {\n          type: \"text\",\n          text: this.t(\"context_menu.set_environment_variable\"),\n        },\n        icon: markRaw(IconPlusCircle),\n        action: () => {\n          invokeAction(\"modals.environment.add\", {\n            envName: \"\",\n            variableName: text,\n          })\n        },\n      },\n    ]\n    const resultObj = <ContextMenuState>{\n      results: results.value,\n    }\n    return resultObj\n  }\n}\n","import { Service } from \"dioc\"\nimport {\n  ContextMenu,\n  ContextMenuResult,\n  ContextMenuService,\n  ContextMenuState,\n} from \"../\"\nimport { markRaw, ref } from \"vue\"\nimport IconArrowDownRight from \"~icons/lucide/arrow-down-right\"\nimport { getI18n } from \"~/modules/i18n\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport { getService } from \"~/modules/dioc\"\n\n//regex containing both url and parameter\nconst urlAndParameterRegex = new RegExp(\"[^&?]*?=[^&?]*\")\n\ninterface Param {\n  [key: string]: string\n}\n\n/**\n * The extracted parameters from the input\n * with the new URL if it was provided\n */\ninterface ExtractedParams {\n  params: Param\n  newURL?: string\n}\n\n/**\n * This menu returns a single result that allows the user\n * to add the selected text as a parameter\n * if the selected text is a valid URL\n */\nexport class ParameterMenuService extends Service implements ContextMenu {\n  public static readonly ID = \"PARAMETER_CONTEXT_MENU_SERVICE\"\n\n  private t = getI18n()\n\n  public readonly menuID = \"parameter\"\n\n  private readonly contextMenu = this.bind(ContextMenuService)\n\n  override onServiceInit() {\n    this.contextMenu.registerMenu(this)\n  }\n\n  /**\n   *\n   * @param input The input to extract the parameters from\n   * @returns The extracted parameters and the new URL if it was provided\n   */\n  private extractParams(input: string): ExtractedParams {\n    let text = input\n    let newURL: string | undefined\n\n    // if the input is a URL, extract the parameters\n    if (text.startsWith(\"http\")) {\n      const url = new URL(text)\n      newURL = url.origin + url.pathname\n      text = url.search.slice(1)\n    }\n\n    const regex = /(\\w+)=(\\w+)/g\n    const matches = text.matchAll(regex)\n    const params: Param = {}\n\n    // extract the parameters from the input\n    for (const match of matches) {\n      const [, key, value] = match\n      params[key] = value\n    }\n\n    return { params, newURL }\n  }\n\n  /**\n   * Adds the parameters from the input to the current request\n   * parameters and updates the endpoint if a new URL was provided\n   * @param text The input to extract the parameters from\n   */\n  private addParameter(text: string) {\n    const { params, newURL } = this.extractParams(text)\n\n    const queryParams = []\n    for (const [key, value] of Object.entries(params)) {\n      queryParams.push({ key, value, active: true })\n    }\n\n    const tabService = getService(RESTTabService)\n\n    // add the parameters to the current request parameters\n    tabService.currentActiveTab.value.document.request.params = [\n      ...tabService.currentActiveTab.value.document.request.params,\n      ...queryParams,\n    ]\n\n    if (newURL) {\n      tabService.currentActiveTab.value.document.request.endpoint = newURL\n    } else {\n      // remove the parameter from the URL\n      const textRegex = new RegExp(`\\\\b${text.replace(/\\?/g, \"\")}\\\\b`, \"gi\")\n      const sanitizedWord =\n        tabService.currentActiveTab.value.document.request.endpoint\n      const newURL = sanitizedWord.replace(textRegex, \"\")\n      tabService.currentActiveTab.value.document.request.endpoint = newURL\n    }\n  }\n\n  getMenuFor(text: Readonly<string>): ContextMenuState {\n    const results = ref<ContextMenuResult[]>([])\n\n    if (urlAndParameterRegex.test(text)) {\n      results.value = [\n        {\n          id: \"environment\",\n          text: {\n            type: \"text\",\n            text: this.t(\"context_menu.add_parameters\"),\n          },\n          icon: markRaw(IconArrowDownRight),\n          action: () => {\n            this.addParameter(text)\n          },\n        },\n      ]\n    }\n\n    const resultObj = <ContextMenuState>{\n      results: results.value,\n    }\n\n    return resultObj\n  }\n}\n","import { Service } from \"dioc\"\nimport { markRaw, ref } from \"vue\"\nimport { getDefaultRESTRequest } from \"~/helpers/rest/default\"\nimport { getI18n } from \"~/modules/i18n\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport IconCopyPlus from \"~icons/lucide/copy-plus\"\nimport {\n  ContextMenu,\n  ContextMenuResult,\n  ContextMenuService,\n  ContextMenuState,\n} from \"..\"\n\n/**\n * Used to check if a string is a valid URL\n * @param url The string to check\n * @returns Whether the string is a valid URL\n */\nfunction isValidURL(url: string) {\n  try {\n    // Try to create a URL object\n    // this will fail for endpoints like \"localhost:3000\", ie without a protocol\n    new URL(url)\n    return true\n  } catch (error) {\n    // Fallback to regular expression check\n    const pattern = /^(https?:\\/\\/)?([\\w.-]+)(\\.[\\w.-]+)+([/?].*)?$/\n    return pattern.test(url)\n  }\n}\n\nexport class URLMenuService extends Service implements ContextMenu {\n  public static readonly ID = \"URL_CONTEXT_MENU_SERVICE\"\n\n  private t = getI18n()\n\n  public readonly menuID = \"url\"\n\n  private readonly contextMenu = this.bind(ContextMenuService)\n  private readonly restTab = this.bind(RESTTabService)\n\n  override onServiceInit() {\n    this.contextMenu.registerMenu(this)\n  }\n\n  /**\n   * Opens a new tab with the provided URL\n   * @param url The URL to open\n   */\n  private openNewTab(url: string) {\n    //create a new request object\n    const request = {\n      ...getDefaultRESTRequest(),\n      endpoint: url,\n    }\n\n    this.restTab.createNewTab({\n      request: request,\n      isDirty: false,\n    })\n  }\n\n  getMenuFor(text: Readonly<string>): ContextMenuState {\n    const results = ref<ContextMenuResult[]>([])\n\n    if (isValidURL(text)) {\n      results.value = [\n        {\n          id: \"link-tab\",\n          text: {\n            type: \"text\",\n            text: this.t(\"context_menu.open_request_in_new_tab\"),\n          },\n          icon: markRaw(IconCopyPlus),\n          action: () => {\n            this.openNewTab(text)\n          },\n        },\n      ]\n    }\n\n    const resultObj = <ContextMenuState>{\n      results: results.value,\n    }\n\n    return resultObj\n  }\n}\n","<template>\n  <div\n    ref=\"contextMenuRef\"\n    class=\"fixed transform -translate-x-10 -translate-y-8 rounded border border-dividerDark bg-popover p-2 shadow-lg\"\n    :style=\"`top: ${position.top}px; left: ${position.left}px; z-index: 100;`\"\n  >\n    <div v-if=\"contextMenuOptions\" class=\"flex flex-col\">\n      <div\n        v-for=\"option in contextMenuOptions\"\n        :key=\"option.id\"\n        class=\"flex flex-col space-y-2\"\n      >\n        <HoppSmartItem\n          v-if=\"option.text.type === 'text' && option.text\"\n          :icon=\"option.icon\"\n          :label=\"option.text.text\"\n          @click=\"handleClick(option)\"\n        />\n        <component\n          :is=\"option.text.component\"\n          v-else-if=\"option.text.type === 'custom'\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { onClickOutside } from \"@vueuse/core\"\nimport { useService } from \"dioc/vue\"\nimport { ref, watch } from \"vue\"\nimport { ContextMenuResult, ContextMenuService } from \"~/services/context-menu\"\nimport { EnvironmentMenuService } from \"~/services/context-menu/menu/environment.menu\"\nimport { ParameterMenuService } from \"~/services/context-menu/menu/parameter.menu\"\nimport { URLMenuService } from \"~/services/context-menu/menu/url.menu\"\n\nconst props = defineProps<{\n  show: boolean\n  position: { top: number; left: number }\n  text: string | null\n}>()\n\nconst emit = defineEmits<{\n  (e: \"hide-modal\"): void\n}>()\n\nconst contextMenuRef = ref<any | null>(null)\n\nconst contextMenuOptions = ref<ContextMenuResult[]>([])\n\nonClickOutside(contextMenuRef, () => {\n  emit(\"hide-modal\")\n})\n\nconst contextMenuService = useService(ContextMenuService)\n\nuseService(EnvironmentMenuService)\nuseService(ParameterMenuService)\nuseService(URLMenuService)\n\nconst handleClick = (option: { action: () => void }) => {\n  option.action()\n  emit(\"hide-modal\")\n}\n\nwatch(\n  () => [props.show, props.text],\n  (val) => {\n    if (val && props.text) {\n      const options = contextMenuService.getMenuFor(props.text)\n      contextMenuOptions.value = options\n    }\n  },\n  { immediate: true }\n)\n</script>\n","var Stream = require('stream')\n\n// through\n//\n// a stream that does nothing but re-emit the input.\n// useful for aggregating a series of changing but not ending streams into one stream)\n\nexports = module.exports = through\nthrough.through = through\n\n//create a readable writable stream.\n\nfunction through (write, end, opts) {\n  write = write || function (data) { this.queue(data) }\n  end = end || function () { this.queue(null) }\n\n  var ended = false, destroyed = false, buffer = [], _ended = false\n  var stream = new Stream()\n  stream.readable = stream.writable = true\n  stream.paused = false\n\n//  stream.autoPause   = !(opts && opts.autoPause   === false)\n  stream.autoDestroy = !(opts && opts.autoDestroy === false)\n\n  stream.write = function (data) {\n    write.call(this, data)\n    return !stream.paused\n  }\n\n  function drain() {\n    while(buffer.length && !stream.paused) {\n      var data = buffer.shift()\n      if(null === data)\n        return stream.emit('end')\n      else\n        stream.emit('data', data)\n    }\n  }\n\n  stream.queue = stream.push = function (data) {\n//    console.error(ended)\n    if(_ended) return stream\n    if(data === null) _ended = true\n    buffer.push(data)\n    drain()\n    return stream\n  }\n\n  //this will be registered as the first 'end' listener\n  //must call destroy next tick, to make sure we're after any\n  //stream piped from here.\n  //this is only a problem if end is not emitted synchronously.\n  //a nicer way to do this is to make sure this is the last listener for 'end'\n\n  stream.on('end', function () {\n    stream.readable = false\n    if(!stream.writable && stream.autoDestroy)\n      process.nextTick(function () {\n        stream.destroy()\n      })\n  })\n\n  function _end () {\n    stream.writable = false\n    end.call(stream)\n    if(!stream.readable && stream.autoDestroy)\n      stream.destroy()\n  }\n\n  stream.end = function (data) {\n    if(ended) return\n    ended = true\n    if(arguments.length) stream.write(data)\n    _end() // will emit or queue\n    return stream\n  }\n\n  stream.destroy = function () {\n    if(destroyed) return\n    destroyed = true\n    ended = true\n    buffer.length = 0\n    stream.writable = stream.readable = false\n    stream.emit('close')\n    return stream\n  }\n\n  stream.pause = function () {\n    if(stream.paused) return\n    stream.paused = true\n    return stream\n  }\n\n  stream.resume = function () {\n    if(stream.paused) {\n      stream.paused = false\n      stream.emit('resume')\n    }\n    drain()\n    //may have become paused again,\n    //as drain emits 'data'.\n    if(!stream.paused)\n      stream.emit('drain')\n    return stream\n  }\n  return stream\n}\n\n","\n'use strict';\n\nvar Stream = require('stream')\n\n// from\n//\n// a stream that reads from an source.\n// source may be an array, or a function.\n// from handles pause behaviour for you.\n\nmodule.exports =\nfunction from (source) {\n  if(Array.isArray(source)) {\n\t\tvar source_index = 0, source_len = source.length;\n    return from (function (i) {\n      if(source_index < source_len)\n        this.emit('data', source[source_index++])\n      else\n        this.emit('end')\n      return true\n    })\n  }\n  var s = new Stream(), i = 0\n  s.ended = false\n  s.started = false\n  s.readable = true\n  s.writable = false\n  s.paused = false\n  s.ended = false\n  s.pause = function () {\n    s.started = true\n    s.paused = true\n  }\n  function next () {\n    s.started = true\n    if(s.ended) return\n    while(!s.ended && !s.paused && source.call(s, i++, function () {\n      if(!s.ended && !s.paused)\n          process.nextTick(next);\n    }))\n      ;\n  }\n  s.resume = function () {\n    s.started = true\n    s.paused = false\n    next()\n  }\n  s.on('end', function () {\n    s.ended = true\n    s.readable = false\n    process.nextTick(s.destroy)\n  })\n  s.destroy = function () {\n    s.ended = true\n    s.emit('close') \n  }\n  /*\n    by default, the stream will start emitting at nextTick\n    if you want, you can pause it, after pipeing.\n    you can also resume before next tick, and that will also\n    work.\n  */\n  process.nextTick(function () {\n    if(!s.started) s.resume()\n  })\n  return s\n}\n","var Stream = require(\"stream\")\nvar writeMethods = [\"write\", \"end\", \"destroy\"]\nvar readMethods = [\"resume\", \"pause\"]\nvar readEvents = [\"data\", \"close\"]\nvar slice = Array.prototype.slice\n\nmodule.exports = duplex\n\nfunction forEach (arr, fn) {\n    if (arr.forEach) {\n        return arr.forEach(fn)\n    }\n\n    for (var i = 0; i < arr.length; i++) {\n        fn(arr[i], i)\n    }\n}\n\nfunction duplex(writer, reader) {\n    var stream = new Stream()\n    var ended = false\n\n    forEach(writeMethods, proxyWriter)\n\n    forEach(readMethods, proxyReader)\n\n    forEach(readEvents, proxyStream)\n\n    reader.on(\"end\", handleEnd)\n\n    writer.on(\"drain\", function() {\n      stream.emit(\"drain\")\n    })\n\n    writer.on(\"error\", reemit)\n    reader.on(\"error\", reemit)\n\n    stream.writable = writer.writable\n    stream.readable = reader.readable\n\n    return stream\n\n    function proxyWriter(methodName) {\n        stream[methodName] = method\n\n        function method() {\n            return writer[methodName].apply(writer, arguments)\n        }\n    }\n\n    function proxyReader(methodName) {\n        stream[methodName] = method\n\n        function method() {\n            stream.emit(methodName)\n            var func = reader[methodName]\n            if (func) {\n                return func.apply(reader, arguments)\n            }\n            reader.emit(methodName)\n        }\n    }\n\n    function proxyStream(methodName) {\n        reader.on(methodName, reemit)\n\n        function reemit() {\n            var args = slice.call(arguments)\n            args.unshift(methodName)\n            stream.emit.apply(stream, args)\n        }\n    }\n\n    function handleEnd() {\n        if (ended) {\n            return\n        }\n        ended = true\n        var args = slice.call(arguments)\n        args.unshift(\"end\")\n        stream.emit.apply(stream, args)\n    }\n\n    function reemit(err) {\n        stream.emit(\"error\", err)\n    }\n}\n","//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\n\nvar Stream = require('stream').Stream\n\n\n//create an event stream and apply function to each .write\n//emitting each response as data\n//unless it's an empty callback\n\nmodule.exports = function (mapper, opts) {\n\n  var stream = new Stream()\n    , inputs = 0\n    , outputs = 0\n    , ended = false\n    , paused = false\n    , destroyed = false\n    , lastWritten = 0\n    , inNext = false\n\n  opts = opts || {};\n  var errorEventName = opts.failures ? 'failure' : 'error';\n\n  // Items that are not ready to be written yet (because they would come out of\n  // order) get stuck in a queue for later.\n  var writeQueue = {}\n\n  stream.writable = true\n  stream.readable = true\n\n  function queueData (data, number) {\n    var nextToWrite = lastWritten + 1\n\n    if (number === nextToWrite) {\n      // If it's next, and its not undefined write it\n      if (data !== undefined) {\n        stream.emit.apply(stream, ['data', data])\n      }\n      lastWritten ++\n      nextToWrite ++\n    } else {\n      // Otherwise queue it for later.\n      writeQueue[number] = data\n    }\n\n    // If the next value is in the queue, write it\n    if (writeQueue.hasOwnProperty(nextToWrite)) {\n      var dataToWrite = writeQueue[nextToWrite]\n      delete writeQueue[nextToWrite]\n      return queueData(dataToWrite, nextToWrite)\n    }\n\n    outputs ++\n    if(inputs === outputs) {\n      if(paused) paused = false, stream.emit('drain') //written all the incoming events\n      if(ended) end()\n    }\n  }\n\n  function next (err, data, number) {\n    if(destroyed) return\n    inNext = true\n\n    if (!err || opts.failures) {\n      queueData(data, number)\n    }\n\n    if (err) {\n      stream.emit.apply(stream, [ errorEventName, err ]);\n    }\n\n    inNext = false;\n  }\n\n  // Wrap the mapper function by calling its callback with the order number of\n  // the item in the stream.\n  function wrappedMapper (input, number, callback) {\n    return mapper.call(null, input, function(err, data){\n      callback(err, data, number)\n    })\n  }\n\n  stream.write = function (data) {\n    if(ended) throw new Error('map stream is not writable')\n    inNext = false\n    inputs ++\n\n    try {\n      //catch sync errors and handle them like async errors\n      var written = wrappedMapper(data, inputs, next)\n      paused = (written === false)\n      return !paused\n    } catch (err) {\n      //if the callback has been called syncronously, and the error\n      //has occured in an listener, throw it again.\n      if(inNext)\n        throw err\n      next(err)\n      return !paused\n    }\n  }\n\n  function end (data) {\n    //if end was called with args, write it, \n    ended = true //write will emit 'end' if ended is true\n    stream.writable = false\n    if(data !== undefined) {\n      return queueData(data, inputs)\n    } else if (inputs == outputs) { //wait for processing \n      stream.readable = false, stream.emit('end'), stream.destroy() \n    }\n  }\n\n  stream.end = function (data) {\n    if(ended) return\n    end(data)\n  }\n\n  stream.destroy = function () {\n    ended = destroyed = true\n    stream.writable = stream.readable = paused = false\n    process.nextTick(function () {\n      stream.emit('close')\n    })\n  }\n  stream.pause = function () {\n    paused = true\n  }\n\n  stream.resume = function () {\n    paused = false\n  }\n\n  return stream\n}\n\n\n\n\n","//through@2 handles this by default!\nmodule.exports = require('through')\n\n","//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\n\nvar through = require('through')\nvar Decoder = require('string_decoder').StringDecoder\n\nmodule.exports = split\n\n//TODO pass in a function to map across the lines.\n\nfunction split (matcher, mapper, options) {\n  var decoder = new Decoder()\n  var soFar = ''\n  var maxLength = options && options.maxLength;\n  var trailing = options && options.trailing === false ? false : true\n  if('function' === typeof matcher)\n    mapper = matcher, matcher = null\n  if (!matcher)\n    matcher = /\\r?\\n/\n\n  function emit(stream, piece) {\n    if(mapper) {\n      try {\n        piece = mapper(piece)\n      }\n      catch (err) {\n        return stream.emit('error', err)\n      }\n      if('undefined' !== typeof piece)\n        stream.queue(piece)\n    }\n    else\n      stream.queue(piece)\n  }\n\n  function next (stream, buffer) {\n    var pieces = ((soFar != null ? soFar : '') + buffer).split(matcher)\n    soFar = pieces.pop()\n\n    if (maxLength && soFar.length > maxLength)\n      return stream.emit('error', new Error('maximum buffer reached'))\n\n    for (var i = 0; i < pieces.length; i++) {\n      var piece = pieces[i]\n      emit(stream, piece)\n    }\n  }\n\n  return through(function (b) {\n    next(this, decoder.write(b))\n  },\n  function () {\n    if(decoder.end)\n      next(this, decoder.end())\n    if(trailing && soFar != null)\n      emit(this, soFar)\n    this.queue(null)\n  })\n}\n","var duplexer = require('duplexer')\nvar through = require('through')\n\nmodule.exports = function () {\n  var streams\n\n  if(arguments.length == 1 && Array.isArray(arguments[0])) {\n    streams = arguments[0]\n  } else {\n    streams = [].slice.call(arguments)\n  }\n\n  if(streams.length == 0)\n    return through()\n  else if(streams.length == 1)\n    return streams[0]\n\n  var first = streams[0]\n    , last = streams[streams.length - 1]\n    , thepipe = duplexer(first, last)\n\n  //pipe all the streams together\n\n  function recurse (streams) {\n    if(streams.length < 2)\n      return\n    streams[0].pipe(streams[1])\n    recurse(streams.slice(1))\n  }\n\n  recurse(streams)\n\n  function onerror () {\n    var args = [].slice.call(arguments)\n    args.unshift('error')\n    thepipe.emit.apply(thepipe, args)\n  }\n\n  //es.duplex already reemits the error from the first and last stream.\n  //add a listener for the inner streams in the pipeline.\n  for(var i = 1; i < streams.length - 1; i ++)\n    streams[i].on('error', onerror)\n\n  return thepipe\n}\n","//filter will reemit the data if cb(err,pass) pass is truthy\n\n// reduce is more tricky\n// maybe we want to group the reductions or emit progress updates occasionally\n// the most basic reduce just emits one 'data' event after it has recieved 'end'\n\nvar Stream = require('stream').Stream\n  , es = exports\n  , through = require('through')\n  , from = require('from')\n  , duplex = require('duplexer')\n  , map = require('map-stream')\n  , pause = require('pause-stream')\n  , split = require('split')\n  , pipeline = require('stream-combiner')\n  , immediately = global.setImmediate || process.nextTick;\n\nes.Stream = Stream //re-export Stream from core\nes.through = through\nes.from = from\nes.duplex = duplex\nes.map = map\nes.pause = pause\nes.split = split\nes.pipeline = es.connect = es.pipe = pipeline\n// merge / concat\n//\n// combine multiple streams into a single stream.\n// will emit end only once\n\nes.concat = //actually this should be called concat\nes.merge = function (/*streams...*/) {\n  var toMerge = [].slice.call(arguments)\n  if (toMerge.length === 1 && (toMerge[0] instanceof Array)) {\n    toMerge = toMerge[0] //handle array as arguments object\n  }\n  var stream = new Stream()\n  stream.setMaxListeners(0) // allow adding more than 11 streams\n  var endCount = 0\n  stream.writable = stream.readable = true\n\n  if (toMerge.length) {\n    toMerge.forEach(function (e) {\n      e.pipe(stream, {end: false})\n      var ended = false\n      e.on('end', function () {\n        if(ended) return\n        ended = true\n        endCount ++\n        if(endCount == toMerge.length)\n          stream.emit('end')\n      })\n    })\n  } else {\n    process.nextTick(function () {\n      stream.emit('end')\n    })\n  }\n  \n  stream.write = function (data) {\n    this.emit('data', data)\n  }\n  stream.destroy = function () {\n    toMerge.forEach(function (e) {\n      if(e.destroy) e.destroy()\n    })\n  }\n  return stream\n}\n\n\n// writable stream, collects all events into an array\n// and calls back when 'end' occurs\n// mainly I'm using this to test the other functions\n\nes.collect =\nes.writeArray = function (done) {\n  if ('function' !== typeof done)\n    throw new Error('function writeArray (done): done must be function')\n\n  var a = new Stream ()\n    , array = [], isDone = false\n  a.write = function (l) {\n    array.push(l)\n  }\n  a.end = function () {\n    isDone = true\n    done(null, array)\n  }\n  a.writable = true\n  a.readable = false\n  a.destroy = function () {\n    a.writable = a.readable = false\n    if(isDone) return\n    done(new Error('destroyed before end'), array)\n  }\n  return a\n}\n\n//return a Stream that reads the properties of an object\n//respecting pause() and resume()\n\nes.readArray = function (array) {\n  var stream = new Stream()\n    , i = 0\n    , paused = false\n    , ended = false\n\n  stream.readable = true\n  stream.writable = false\n\n  if(!Array.isArray(array))\n    throw new Error('event-stream.read expects an array')\n\n  stream.resume = function () {\n    if(ended) return\n    paused = false\n    var l = array.length\n    while(i < l && !paused && !ended) {\n      stream.emit('data', array[i++])\n    }\n    if(i == l && !ended)\n      ended = true, stream.readable = false, stream.emit('end')\n  }\n  process.nextTick(stream.resume)\n  stream.pause = function () {\n     paused = true\n  }\n  stream.destroy = function () {\n    ended = true\n    stream.emit('close')\n  }\n  return stream\n}\n\n//\n// readable (asyncFunction)\n// return a stream that calls an async function while the stream is not paused.\n//\n// the function must take: (count, callback) {...\n//\n\nes.readable =\nfunction (func, continueOnError) {\n  var stream = new Stream()\n    , i = 0\n    , paused = false\n    , ended = false\n    , reading = false\n\n  stream.readable = true\n  stream.writable = false\n\n  if('function' !== typeof func)\n    throw new Error('event-stream.readable expects async function')\n\n  stream.on('end', function () { ended = true })\n\n  function get (err, data) {\n\n    if(err) {\n      stream.emit('error', err)\n      if(!continueOnError) stream.emit('end')\n    } else if (arguments.length > 1)\n      stream.emit('data', data)\n\n    immediately(function () {\n      if(ended || paused || reading) return\n      try {\n        reading = true\n        func.call(stream, i++, function () {\n          reading = false\n          get.apply(null, arguments)\n        })\n      } catch (err) {\n        stream.emit('error', err)\n      }\n    })\n  }\n  stream.resume = function () {\n    paused = false\n    get()\n  }\n  process.nextTick(get)\n  stream.pause = function () {\n     paused = true\n  }\n  stream.destroy = function () {\n    stream.emit('end')\n    stream.emit('close')\n    ended = true\n  }\n  return stream\n}\n\n\n//\n// map sync\n//\n\nes.mapSync = function (sync) {\n  return es.through(function write(data) {\n    var mappedData\n    try {\n      mappedData = sync(data)\n    } catch (err) {\n      return this.emit('error', err)\n    }\n    if (mappedData !== undefined)\n      this.emit('data', mappedData)\n  })\n}\n\n//\n// filterSync\n//\n\nes.filterSync = function (test) {\n  return es.through(function(data){\n    var s = this\n    if (test(data)) {\n      s.queue(data)\n    }\n  });\n}\n\n//\n// flatmapSync\n//\n\nes.flatmapSync = function (mapper) {\n  return es.through(function(data) {\n    var s = this\n    data.forEach(function(e) {\n      s.queue(mapper(e))\n    })\n  })\n}\n\n//\n// log just print out what is coming through the stream, for debugging\n//\n\nes.log = function (name) {\n  return es.through(function (data) {\n    var args = [].slice.call(arguments)\n    if(name) console.error(name, data)\n    else     console.error(data)\n    this.emit('data', data)\n  })\n}\n\n\n//\n// child -- pipe through a child process\n//\n\nes.child = function (child) {\n\n  return es.duplex(child.stdin, child.stdout)\n\n}\n\n//\n// parse\n//\n// must be used after es.split() to ensure that each chunk represents a line\n// source.pipe(es.split()).pipe(es.parse())\n\nes.parse = function (options) {\n  var emitError = !!(options ? options.error : false)\n  return es.through(function (data) {\n    var obj\n    try {\n      if(data) //ignore empty lines\n        obj = JSON.parse(data.toString())\n    } catch (err) {\n      if (emitError)\n        return this.emit('error', err)\n      return console.error(err, 'attempting to parse:', data)\n    }\n    //ignore lines that where only whitespace.\n    if(obj !== undefined)\n      this.emit('data', obj)\n  })\n}\n//\n// stringify\n//\n\nes.stringify = function () {\n  var Buffer = require('buffer').Buffer\n  return es.mapSync(function (e){\n    return JSON.stringify(Buffer.isBuffer(e) ? e.toString() : e) + '\\n'\n  })\n}\n\n//\n// replace a string within a stream.\n//\n// warn: just concatenates the string and then does str.split().join().\n// probably not optimal.\n// for smallish responses, who cares?\n// I need this for shadow-npm so it's only relatively small json files.\n\nes.replace = function (from, to) {\n  return es.pipeline(es.split(from), es.join(to))\n}\n\n//\n// join chunks with a joiner. just like Array#join\n// also accepts a callback that is passed the chunks appended together\n// this is still supported for legacy reasons.\n//\n\nes.join = function (str) {\n\n  //legacy api\n  if('function' === typeof str)\n    return es.wait(str)\n\n  var first = true\n  return es.through(function (data) {\n    if(!first)\n      this.emit('data', str)\n    first = false\n    this.emit('data', data)\n    return true\n  })\n}\n\n\n//\n// wait. callback when 'end' is emitted, with all chunks appended as string.\n//\n\nes.wait = function (callback) {\n  var arr = []\n  return es.through(function (data) { arr.push(data) },\n    function () {\n      var body = Buffer.isBuffer(arr[0]) ? Buffer.concat(arr)\n        : arr.join('')\n      this.emit('data', body)\n      this.emit('end')\n      if(callback) callback(null, body)\n    })\n}\n\nes.pipeable = function () {\n  throw new Error('[EVENT-STREAM] es.pipeable is deprecated')\n}\n","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","\"use strict\";\n/**\n * @license https://raw.githubusercontent.com/node-fetch/node-fetch/master/LICENSE.md\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 - 2020 Node Fetch Team\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * Extracted from https://github.com/node-fetch/node-fetch/blob/64c5c296a0250b852010746c76144cb9e14698d9/src/utils/form-data.js\n */\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nexports.__esModule = true;\nexports.formDataIterator = exports.isBlob = void 0;\nvar carriage = '\\r\\n';\nvar dashes = '-'.repeat(2);\nvar NAME = Symbol.toStringTag;\nvar isBlob = function (object) {\n    return typeof object === 'object' &&\n        typeof object.arrayBuffer === 'function' &&\n        typeof object.type === 'string' &&\n        typeof object.stream === 'function' &&\n        typeof object.constructor === 'function' &&\n        /^(Blob|File)$/.test(object[NAME]);\n};\nexports.isBlob = isBlob;\nvar getFooter = function (boundary) { return \"\".concat(dashes).concat(boundary).concat(dashes).concat(carriage.repeat(2)); };\nvar getHeader = function (boundary, name, field) {\n    var header = '';\n    header += \"\".concat(dashes).concat(boundary).concat(carriage);\n    header += \"Content-Disposition: form-data; name=\\\"\".concat(name, \"\\\"\");\n    if ((0, exports.isBlob)(field)) {\n        header += \"; filename=\\\"\".concat(field.name, \"\\\"\").concat(carriage);\n        header += \"Content-Type: \".concat(field.type || 'application/octet-stream');\n    }\n    return \"\".concat(header).concat(carriage.repeat(2));\n};\nvar formDataIterator = function (form, boundary) {\n    var form_1, form_1_1, _a, name, value, e_1_1;\n    var e_1, _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _c.trys.push([0, 10, 11, 12]);\n                form_1 = __values(form), form_1_1 = form_1.next();\n                _c.label = 1;\n            case 1:\n                if (!!form_1_1.done) return [3 /*break*/, 9];\n                _a = __read(form_1_1.value, 2), name = _a[0], value = _a[1];\n                return [4 /*yield*/, getHeader(boundary, name, value)];\n            case 2:\n                _c.sent();\n                if (!(0, exports.isBlob)(value)) return [3 /*break*/, 4];\n                return [5 /*yield**/, __values(value.stream())];\n            case 3:\n                _c.sent();\n                return [3 /*break*/, 6];\n            case 4: return [4 /*yield*/, value];\n            case 5:\n                _c.sent();\n                _c.label = 6;\n            case 6: return [4 /*yield*/, carriage];\n            case 7:\n                _c.sent();\n                _c.label = 8;\n            case 8:\n                form_1_1 = form_1.next();\n                return [3 /*break*/, 1];\n            case 9: return [3 /*break*/, 12];\n            case 10:\n                e_1_1 = _c.sent();\n                e_1 = { error: e_1_1 };\n                return [3 /*break*/, 12];\n            case 11:\n                try {\n                    if (form_1_1 && !form_1_1.done && (_b = form_1[\"return\"])) _b.call(form_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n                return [7 /*endfinally*/];\n            case 12: return [4 /*yield*/, getFooter(boundary)];\n            case 13:\n                _c.sent();\n                return [2 /*return*/];\n        }\n    });\n};\nexports.formDataIterator = formDataIterator;\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, strictNumbers, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data +\n                           (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    case 'number': return '(typeof ' + data + EQUAL + '\"' + dataType + '\"' +\n                          (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data, strictNumbers) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, strictNumbers, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, strictNumbers, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/([^\\\\])' \\+ '/g, '$1');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    if ($property == '__proto__') continue;\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if (!($isData || typeof $schema == 'number' || $schema === undefined)) {\n    throw new Error($keyword + ' must be number');\n  }\n  if (!($isDataExcl || $schemaExcl === undefined || typeof $schemaExcl == 'number' || typeof $schemaExcl == 'boolean')) {\n    throw new Error($exclusiveKeyword + ' must be number or boolean');\n  }\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}).filter(notProto),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties).filter(notProto),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {\n    var $requiredHash = it.util.toHash($required);\n  }\n\n  function notProto(p) {\n    return p !== '__proto__';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', it.opts.strictNumbers, true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","'use strict'\n\nmodule.exports = {\n  afterRequest: require('./afterRequest.json'),\n  beforeRequest: require('./beforeRequest.json'),\n  browser: require('./browser.json'),\n  cache: require('./cache.json'),\n  content: require('./content.json'),\n  cookie: require('./cookie.json'),\n  creator: require('./creator.json'),\n  entry: require('./entry.json'),\n  har: require('./har.json'),\n  header: require('./header.json'),\n  log: require('./log.json'),\n  page: require('./page.json'),\n  pageTimings: require('./pageTimings.json'),\n  postData: require('./postData.json'),\n  query: require('./query.json'),\n  request: require('./request.json'),\n  response: require('./response.json'),\n  timings: require('./timings.json')\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.validateHarRequest = exports.HARError = void 0;\nvar ajv_1 = __importDefault(require(\"ajv\"));\nvar schema = __importStar(require(\"har-schema\"));\nvar HARError = /** @class */ (function (_super) {\n    __extends(HARError, _super);\n    function HARError(errors) {\n        var _this = _super.call(this) || this;\n        _this.name = 'HARError';\n        _this.message = 'validation failed';\n        _this.errors = [];\n        _this.errors = errors;\n        Error.captureStackTrace(_this, _this.constructor);\n        return _this;\n    }\n    return HARError;\n}(Error));\nexports.HARError = HARError;\nvar ajv = new ajv_1[\"default\"]({\n    allErrors: true\n});\najv.addSchema(schema);\nvar validateHarRequest = function (request) {\n    var validate = ajv.getSchema('request.json');\n    if (!validate) {\n        throw new Error('failed to find HAR request schema');\n    }\n    var valid = validate(request);\n    if (!valid && validate.errors) {\n        throw new HARError(validate.errors);\n    }\n    return true;\n};\nexports.validateHarRequest = validateHarRequest;\n","\"use strict\";\nexports.__esModule = true;\nexports.isMimeTypeJSON = exports.hasHeader = exports.getHeader = exports.getHeaderName = void 0;\n/**\n * Given a headers object retrieve a specific header out of it via a case-insensitive key.\n */\nvar getHeaderName = function (headers, name) {\n    return Object.keys(headers).find(function (header) { return header.toLowerCase() === name.toLowerCase(); });\n};\nexports.getHeaderName = getHeaderName;\n/**\n * Given a headers object retrieve the contents of a header out of it via a case-insensitive key.\n */\nvar getHeader = function (headers, name) {\n    var headerName = (0, exports.getHeaderName)(headers, name);\n    if (!headerName) {\n        return undefined;\n    }\n    return headers[headerName];\n};\nexports.getHeader = getHeader;\n/**\n * Determine if a given case-insensitive header exists within a header object.\n */\nvar hasHeader = function (headers, name) {\n    return Boolean((0, exports.getHeaderName)(headers, name));\n};\nexports.hasHeader = hasHeader;\nvar mimeTypeJson = [\n    'application/json',\n    'application/x-json',\n    'text/json',\n    'text/x-json',\n    '+json',\n];\n/**\n * Determines if a given mimetype is JSON, or a variant of such.\n */\nvar isMimeTypeJSON = function (mimeType) {\n    return mimeTypeJson.some(function (type) { return mimeType.includes(type); });\n};\nexports.isMimeTypeJSON = isMimeTypeJSON;\n","\"use strict\";\nexports.__esModule = true;\nexports.reducer = void 0;\nvar reducer = function (accumulator, pair) {\n    var currentValue = accumulator[pair.name];\n    if (currentValue === undefined) {\n        accumulator[pair.name] = pair.value;\n        return accumulator;\n    }\n    // If we already have it as array just push the value\n    if (Array.isArray(currentValue)) {\n        currentValue.push(pair.value);\n        return accumulator;\n    }\n    // convert to array since now we have more than one value for this key\n    accumulator[pair.name] = [currentValue, pair.value];\n    return accumulator;\n};\nexports.reducer = reducer;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nexports.__esModule = true;\nexports.CodeBuilder = void 0;\nvar DEFAULT_INDENTATION_CHARACTER = '';\nvar DEFAULT_LINE_JOIN = '\\n';\nvar CodeBuilder = /** @class */ (function () {\n    /**\n     * Helper object to format and aggragate lines of code.\n     * Lines are aggregated in a `code` array, and need to be joined to obtain a proper code snippet.\n     */\n    function CodeBuilder(_a) {\n        var _b = _a === void 0 ? {} : _a, indent = _b.indent, join = _b.join;\n        var _this = this;\n        this.postProcessors = [];\n        this.code = [];\n        this.indentationCharacter = DEFAULT_INDENTATION_CHARACTER;\n        this.lineJoin = DEFAULT_LINE_JOIN;\n        /**\n         * Add given indentation level to given line of code\n         */\n        this.indentLine = function (line, indentationLevel) {\n            if (indentationLevel === void 0) { indentationLevel = 0; }\n            var indent = _this.indentationCharacter.repeat(indentationLevel);\n            return \"\".concat(indent).concat(line);\n        };\n        /**\n         * Add the line at the beginning of the current lines\n         */\n        this.unshift = function (line, indentationLevel) {\n            var newLine = _this.indentLine(line, indentationLevel);\n            _this.code.unshift(newLine);\n        };\n        /**\n         * Add the line at the end of the current lines\n         */\n        this.push = function (line, indentationLevel) {\n            var newLine = _this.indentLine(line, indentationLevel);\n            _this.code.push(newLine);\n        };\n        /**\n         * Add an empty line at the end of current lines\n         */\n        this.blank = function () {\n            _this.code.push('');\n        };\n        /**\n         * Concatenate all current lines using the given lineJoin, then apply any replacers that may have been added\n         */\n        this.join = function () {\n            var unreplacedCode = _this.code.join(_this.lineJoin);\n            var replacedOutput = _this.postProcessors.reduce(function (accumulator, replacer) { return replacer(accumulator); }, unreplacedCode);\n            return replacedOutput;\n        };\n        /**\n         * Often when writing modules you may wish to add a literal tag or bit of metadata that you wish to transform after other processing as a final step.\n         * To do so, you can provide a PostProcessor function and it will be run automatically for you when you call `join()` later on.\n         */\n        this.addPostProcessor = function (postProcessor) {\n            _this.postProcessors = __spreadArray(__spreadArray([], __read(_this.postProcessors), false), [postProcessor], false);\n        };\n        this.indentationCharacter = indent || DEFAULT_INDENTATION_CHARACTER;\n        this.lineJoin = join !== null && join !== void 0 ? join : DEFAULT_LINE_JOIN;\n    }\n    return CodeBuilder;\n}());\nexports.CodeBuilder = CodeBuilder;\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nexports.__esModule = true;\nexports.escapeForDoubleQuotes = exports.escapeForSingleQuotes = exports.escapeString = void 0;\n/**\n * Escape characters within a value to make it safe to insert directly into a\n * snippet. Takes options which define the escape requirements.\n *\n * This is closely based on the JSON-stringify string serialization algorithm,\n * but generalized for other string delimiters (e.g. \" or ') and different escape\n * characters (e.g. Powershell uses `)\n *\n * See https://tc39.es/ecma262/multipage/structured-data.html#sec-quotejsonstring\n * for the complete original algorithm.\n */\nfunction escapeString(rawValue, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.delimiter, delimiter = _a === void 0 ? '\"' : _a, _b = options.escapeChar, escapeChar = _b === void 0 ? '\\\\' : _b, _c = options.escapeNewlines, escapeNewlines = _c === void 0 ? true : _c;\n    var stringValue = rawValue.toString();\n    return __spreadArray([], __read(stringValue), false).map(function (c) {\n        if (c === '\\b') {\n            return escapeChar + 'b';\n        }\n        else if (c === '\\t') {\n            return escapeChar + 't';\n        }\n        else if (c === '\\n') {\n            if (escapeNewlines) {\n                return escapeChar + 'n';\n            }\n            else {\n                return c; // Don't just continue, or this is caught by < \\u0020\n            }\n        }\n        else if (c === '\\f') {\n            return escapeChar + 'f';\n        }\n        else if (c === '\\r') {\n            if (escapeNewlines) {\n                return escapeChar + 'r';\n            }\n            else {\n                return c; // Don't just continue, or this is caught by < \\u0020\n            }\n        }\n        else if (c === escapeChar) {\n            return escapeChar + escapeChar;\n        }\n        else if (c === delimiter) {\n            return escapeChar + delimiter;\n        }\n        else if (c < '\\u0020' || c > '\\u007E') {\n            // Delegate the trickier non-ASCII cases to the normal algorithm. Some of these\n            // are escaped as \\uXXXX, whilst others are represented literally. Since we're\n            // using this primarily for header values that are generally (though not 100%\n            // strictly?) ASCII-only, this should almost never happen.\n            return JSON.stringify(c).slice(1, -1);\n        }\n        else {\n            return c;\n        }\n    }).join('');\n}\nexports.escapeString = escapeString;\n/**\n * Make a string value safe to insert literally into a snippet within single quotes,\n * by escaping problematic characters, including single quotes inside the string,\n * backslashes, newlines, and other special characters.\n *\n * If value is not a string, it will be stringified with .toString() first.\n */\nvar escapeForSingleQuotes = function (value) {\n    return escapeString(value, { delimiter: \"'\" });\n};\nexports.escapeForSingleQuotes = escapeForSingleQuotes;\n/**\n * Make a string value safe to insert literally into a snippet within double quotes,\n * by escaping problematic characters, including double quotes inside the string,\n * backslashes, newlines, and other special characters.\n *\n * If value is not a string, it will be stringified with .toString() first.\n */\nvar escapeForDoubleQuotes = function (value) {\n    return escapeString(value, { delimiter: '\"' });\n};\nexports.escapeForDoubleQuotes = escapeForDoubleQuotes;\n","\"use strict\";\nexports.__esModule = true;\nexports.libcurl = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.libcurl = {\n    info: {\n        key: 'libcurl',\n        title: 'Libcurl',\n        link: 'http://curl.haxx.se/libcurl',\n        description: 'Simple REST and HTTP API Client for C'\n    },\n    convert: function (_a) {\n        var method = _a.method, fullUrl = _a.fullUrl, headersObj = _a.headersObj, allHeaders = _a.allHeaders, postData = _a.postData;\n        var _b = new code_builder_1.CodeBuilder(), push = _b.push, blank = _b.blank, join = _b.join;\n        push('CURL *hnd = curl_easy_init();');\n        blank();\n        push(\"curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, \\\"\".concat(method.toUpperCase(), \"\\\");\"));\n        push(\"curl_easy_setopt(hnd, CURLOPT_URL, \\\"\".concat(fullUrl, \"\\\");\"));\n        // Add headers, including the cookies\n        var headers = Object.keys(headersObj);\n        // construct headers\n        if (headers.length) {\n            blank();\n            push('struct curl_slist *headers = NULL;');\n            headers.forEach(function (header) {\n                push(\"headers = curl_slist_append(headers, \\\"\".concat(header, \": \").concat((0, escape_1.escapeForDoubleQuotes)(headersObj[header]), \"\\\");\"));\n            });\n            push('curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);');\n        }\n        // construct cookies\n        if (allHeaders.cookie) {\n            blank();\n            push(\"curl_easy_setopt(hnd, CURLOPT_COOKIE, \\\"\".concat(allHeaders.cookie, \"\\\");\"));\n        }\n        if (postData.text) {\n            blank();\n            push(\"curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, \".concat(JSON.stringify(postData.text), \");\"));\n        }\n        blank();\n        push('CURLcode ret = curl_easy_perform(hnd);');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.c = void 0;\nvar client_1 = require(\"./libcurl/client\");\nexports.c = {\n    info: {\n        key: 'c',\n        title: 'C',\n        extname: '.c',\n        \"default\": 'libcurl'\n    },\n    clientsById: {\n        libcurl: client_1.libcurl\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Clojure using clj-http.\n *\n * @author\n * @tggreene\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nexports.__esModule = true;\nexports.clj_http = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar headers_1 = require(\"../../../helpers/headers\");\nvar Keyword = /** @class */ (function () {\n    function Keyword(name) {\n        var _this = this;\n        this.name = '';\n        this.toString = function () { return \":\".concat(_this.name); };\n        this.name = name;\n    }\n    return Keyword;\n}());\nvar File = /** @class */ (function () {\n    function File(path) {\n        var _this = this;\n        this.path = '';\n        this.toString = function () { return \"(clojure.java.io/file \\\"\".concat(_this.path, \"\\\")\"); };\n        this.path = path;\n    }\n    return File;\n}());\nvar jsType = function (input) {\n    if (input === undefined) {\n        return null;\n    }\n    if (input === null) {\n        return 'null';\n    }\n    return input.constructor.name.toLowerCase();\n};\nvar objEmpty = function (input) {\n    if (jsType(input) === 'object') {\n        return Object.keys(input).length === 0;\n    }\n    return false;\n};\nvar filterEmpty = function (input) {\n    Object.keys(input)\n        .filter(function (x) { return objEmpty(input[x]); })\n        .forEach(function (x) {\n        delete input[x];\n    });\n    return input;\n};\nvar padBlock = function (padSize, input) {\n    var padding = ' '.repeat(padSize);\n    return input.replace(/\\n/g, \"\\n\".concat(padding));\n};\nvar jsToEdn = function (js) {\n    switch (jsType(js)) {\n        case 'string':\n            return \"\\\"\".concat(js.replace(/\"/g, '\\\\\"'), \"\\\"\");\n        case 'file':\n            return js.toString();\n        case 'keyword':\n            return js.toString();\n        case 'null':\n            return 'nil';\n        case 'regexp':\n            return \"#\\\"\".concat(js.source, \"\\\"\");\n        case 'object': {\n            // simple vertical format\n            var obj = Object.keys(js)\n                .reduce(function (accumulator, key) {\n                var val = padBlock(key.length + 2, jsToEdn(js[key]));\n                return \"\".concat(accumulator, \":\").concat(key, \" \").concat(val, \"\\n \");\n            }, '')\n                .trim();\n            return \"{\".concat(padBlock(1, obj), \"}\");\n        }\n        case 'array': {\n            // simple horizontal format\n            var arr = js\n                .reduce(function (accumulator, value) { return \"\".concat(accumulator, \" \").concat(jsToEdn(value)); }, '')\n                .trim();\n            return \"[\".concat(padBlock(1, arr), \"]\");\n        }\n        default: // 'number' 'boolean'\n            return js.toString();\n    }\n};\nexports.clj_http = {\n    info: {\n        key: 'clj_http',\n        title: 'clj-http',\n        link: 'https://github.com/dakrone/clj-http',\n        description: 'An idiomatic clojure http client wrapping the apache client.'\n    },\n    convert: function (_a, options) {\n        var queryObj = _a.queryObj, method = _a.method, postData = _a.postData, url = _a.url, allHeaders = _a.allHeaders;\n        var _b = new code_builder_1.CodeBuilder({ indent: options === null || options === void 0 ? void 0 : options.indent }), push = _b.push, join = _b.join;\n        var methods = ['get', 'post', 'put', 'delete', 'patch', 'head', 'options'];\n        method = method.toLowerCase();\n        if (!methods.includes(method)) {\n            push('Method not supported');\n            return join();\n        }\n        var params = {\n            headers: allHeaders,\n            'query-params': queryObj\n        };\n        switch (postData.mimeType) {\n            case 'application/json':\n                {\n                    params['content-type'] = new Keyword('json');\n                    params['form-params'] = postData.jsonObj;\n                    var header = (0, headers_1.getHeaderName)(params.headers, 'content-type');\n                    if (header) {\n                        delete params.headers[header];\n                    }\n                }\n                break;\n            case 'application/x-www-form-urlencoded':\n                {\n                    params['form-params'] = postData.paramsObj;\n                    var header = (0, headers_1.getHeaderName)(params.headers, 'content-type');\n                    if (header) {\n                        delete params.headers[header];\n                    }\n                }\n                break;\n            case 'text/plain':\n                {\n                    params.body = postData.text;\n                    var header = (0, headers_1.getHeaderName)(params.headers, 'content-type');\n                    if (header) {\n                        delete params.headers[header];\n                    }\n                }\n                break;\n            case 'multipart/form-data': {\n                if (postData.params) {\n                    params.multipart = postData.params.map(function (param) {\n                        if (param.fileName && !param.value) {\n                            return {\n                                name: param.name,\n                                content: new File(param.fileName)\n                            };\n                        }\n                        return {\n                            name: param.name,\n                            content: param.value\n                        };\n                    });\n                    var header = (0, headers_1.getHeaderName)(params.headers, 'content-type');\n                    if (header) {\n                        delete params.headers[header];\n                    }\n                }\n                break;\n            }\n        }\n        switch ((0, headers_1.getHeader)(params.headers, 'accept')) {\n            case 'application/json':\n                {\n                    params.accept = new Keyword('json');\n                    var header = (0, headers_1.getHeaderName)(params.headers, 'accept');\n                    if (header) {\n                        delete params.headers[header];\n                    }\n                }\n                break;\n        }\n        push(\"(require '[clj-http.client :as client])\\n\");\n        if (objEmpty(filterEmpty(params))) {\n            push(\"(client/\".concat(method, \" \\\"\").concat(url, \"\\\")\"));\n        }\n        else {\n            var padding = 11 + method.length + url.length;\n            var formattedParams = padBlock(padding, jsToEdn(filterEmpty(params)));\n            push(\"(client/\".concat(method, \" \\\"\").concat(url, \"\\\" \").concat(formattedParams, \")\"));\n        }\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.clojure = void 0;\nvar client_1 = require(\"./clj_http/client\");\nexports.clojure = {\n    info: {\n        key: 'clojure',\n        title: 'Clojure',\n        extname: '.clj',\n        \"default\": 'clj_http'\n    },\n    clientsById: {\n        clj_http: client_1.clj_http\n    }\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.httpclient = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nvar headers_1 = require(\"../../../helpers/headers\");\nvar getDecompressionMethods = function (allHeaders) {\n    var acceptEncodings = (0, headers_1.getHeader)(allHeaders, 'accept-encoding');\n    if (!acceptEncodings) {\n        return []; // no decompression\n    }\n    var supportedMethods = {\n        gzip: 'DecompressionMethods.GZip',\n        deflate: 'DecompressionMethods.Deflate'\n    };\n    var methods = [];\n    if (typeof acceptEncodings === 'string') {\n        acceptEncodings = [acceptEncodings];\n    }\n    acceptEncodings.forEach(function (acceptEncoding) {\n        acceptEncoding.split(',').forEach(function (encoding) {\n            var match = /\\s*([^;\\s]+)/.exec(encoding);\n            if (match) {\n                var method = supportedMethods[match[1]];\n                if (method) {\n                    methods.push(method);\n                }\n            }\n        });\n    });\n    return methods;\n};\nexports.httpclient = {\n    info: {\n        key: 'httpclient',\n        title: 'HttpClient',\n        link: 'https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient',\n        description: '.NET Standard HTTP Client'\n    },\n    convert: function (_a, options) {\n        var _b, _c;\n        var allHeaders = _a.allHeaders, postData = _a.postData, method = _a.method, fullUrl = _a.fullUrl;\n        var opts = __assign({ indent: '    ' }, options);\n        var _d = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _d.push, join = _d.join;\n        push('using System.Net.Http.Headers;');\n        var clienthandler = '';\n        var cookies = Boolean(allHeaders.cookie);\n        var decompressionMethods = getDecompressionMethods(allHeaders);\n        if (cookies || decompressionMethods.length) {\n            clienthandler = 'clientHandler';\n            push('var clientHandler = new HttpClientHandler');\n            push('{');\n            if (cookies) {\n                // enable setting the cookie header\n                push('UseCookies = false,', 1);\n            }\n            if (decompressionMethods.length) {\n                // enable decompression for supported methods\n                push(\"AutomaticDecompression = \".concat(decompressionMethods.join(' | '), \",\"), 1);\n            }\n            push('};');\n        }\n        push(\"var client = new HttpClient(\".concat(clienthandler, \");\"));\n        push('var request = new HttpRequestMessage');\n        push('{');\n        var methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS', 'TRACE'];\n        method = method.toUpperCase();\n        if (method && methods.includes(method)) {\n            // buildin method\n            method = \"HttpMethod.\".concat(method[0]).concat(method.substring(1).toLowerCase());\n        }\n        else {\n            // custom method\n            method = \"new HttpMethod(\\\"\".concat(method, \"\\\")\");\n        }\n        push(\"Method = \".concat(method, \",\"), 1);\n        push(\"RequestUri = new Uri(\\\"\".concat(fullUrl, \"\\\"),\"), 1);\n        var headers = Object.keys(allHeaders).filter(function (header) {\n            switch (header.toLowerCase()) {\n                case 'content-type':\n                case 'content-length':\n                case 'accept-encoding':\n                    // skip these headers\n                    return false;\n                default:\n                    return true;\n            }\n        });\n        if (headers.length) {\n            push('Headers =', 1);\n            push('{', 1);\n            headers.forEach(function (key) {\n                push(\"{ \\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\" },\"), 2);\n            });\n            push('},', 1);\n        }\n        if (postData.text) {\n            var contentType = postData.mimeType;\n            switch (contentType) {\n                case 'application/x-www-form-urlencoded':\n                    push('Content = new FormUrlEncodedContent(new Dictionary<string, string>', 1);\n                    push('{', 1);\n                    (_b = postData.params) === null || _b === void 0 ? void 0 : _b.forEach(function (param) {\n                        push(\"{ \\\"\".concat(param.name, \"\\\", \\\"\").concat(param.value, \"\\\" },\"), 2);\n                    });\n                    push('}),', 1);\n                    break;\n                case 'multipart/form-data':\n                    push('Content = new MultipartFormDataContent', 1);\n                    push('{', 1);\n                    (_c = postData.params) === null || _c === void 0 ? void 0 : _c.forEach(function (param) {\n                        push(\"new StringContent(\".concat(JSON.stringify(param.value || ''), \")\"), 2);\n                        push('{', 2);\n                        push('Headers =', 3);\n                        push('{', 3);\n                        if (param.contentType) {\n                            push(\"ContentType = new MediaTypeHeaderValue(\\\"\".concat(param.contentType, \"\\\"),\"), 4);\n                        }\n                        push('ContentDisposition = new ContentDispositionHeaderValue(\"form-data\")', 4);\n                        push('{', 4);\n                        push(\"Name = \\\"\".concat(param.name, \"\\\",\"), 5);\n                        if (param.fileName) {\n                            push(\"FileName = \\\"\".concat(param.fileName, \"\\\",\"), 5);\n                        }\n                        push('}', 4);\n                        push('}', 3);\n                        push('},', 2);\n                    });\n                    push('},', 1);\n                    break;\n                default:\n                    push(\"Content = new StringContent(\".concat(JSON.stringify(postData.text || ''), \")\"), 1);\n                    push('{', 1);\n                    push('Headers =', 2);\n                    push('{', 2);\n                    push(\"ContentType = new MediaTypeHeaderValue(\\\"\".concat(contentType, \"\\\")\"), 3);\n                    push('}', 2);\n                    push('}', 1);\n                    break;\n            }\n        }\n        push('};');\n        // send and read response\n        push('using (var response = await client.SendAsync(request))');\n        push('{');\n        push('response.EnsureSuccessStatusCode();', 1);\n        push('var body = await response.Content.ReadAsStringAsync();', 1);\n        push('Console.WriteLine(body);', 1);\n        push('}');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.restsharp = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nvar headers_1 = require(\"../../../helpers/headers\");\nexports.restsharp = {\n    info: {\n        key: 'restsharp',\n        title: 'RestSharp',\n        link: 'http://restsharp.org/',\n        description: 'Simple REST and HTTP API Client for .NET'\n    },\n    convert: function (_a) {\n        var allHeaders = _a.allHeaders, method = _a.method, fullUrl = _a.fullUrl, headersObj = _a.headersObj, cookies = _a.cookies, postData = _a.postData;\n        var _b = new code_builder_1.CodeBuilder(), push = _b.push, join = _b.join;\n        var isSupportedMethod = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS'].includes(method.toUpperCase());\n        if (!isSupportedMethod) {\n            return 'Method not supported';\n        }\n        push(\"var client = new RestClient(\\\"\".concat(fullUrl, \"\\\");\"));\n        push(\"var request = new RestRequest(Method.\".concat(method.toUpperCase(), \");\"));\n        // Add headers, including the cookies\n        Object.keys(headersObj).forEach(function (key) {\n            push(\"request.AddHeader(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(headersObj[key]), \"\\\");\"));\n        });\n        cookies.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            push(\"request.AddCookie(\\\"\".concat(name, \"\\\", \\\"\").concat(value, \"\\\");\"));\n        });\n        if (postData.text) {\n            var header = (0, headers_1.getHeader)(allHeaders, 'content-type');\n            var text = JSON.stringify(postData.text);\n            push(\"request.AddParameter(\\\"\".concat(header, \"\\\", \").concat(text, \", ParameterType.RequestBody);\"));\n        }\n        push('IRestResponse response = client.Execute(request);');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.csharp = void 0;\nvar client_1 = require(\"./httpclient/client\");\nvar client_2 = require(\"./restsharp/client\");\nexports.csharp = {\n    info: {\n        key: 'csharp',\n        title: 'C#',\n        extname: '.cs',\n        \"default\": 'restsharp'\n    },\n    clientsById: {\n        httpclient: client_1.httpclient,\n        restsharp: client_2.restsharp\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for native Go.\n *\n * @author\n * @montanaflynn\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nexports.__esModule = true;\nexports.native = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.native = {\n    info: {\n        key: 'native',\n        title: 'NewRequest',\n        link: 'http://golang.org/pkg/net/http/#NewRequest',\n        description: 'Golang HTTP client request'\n    },\n    convert: function (_a, options) {\n        var postData = _a.postData, method = _a.method, allHeaders = _a.allHeaders, fullUrl = _a.fullUrl;\n        if (options === void 0) { options = {}; }\n        var _b = new code_builder_1.CodeBuilder({ indent: '\\t' }), blank = _b.blank, push = _b.push, join = _b.join;\n        var _c = options.showBoilerplate, showBoilerplate = _c === void 0 ? true : _c, _d = options.checkErrors, checkErrors = _d === void 0 ? false : _d, _e = options.printBody, printBody = _e === void 0 ? true : _e, _f = options.timeout, timeout = _f === void 0 ? -1 : _f, _g = options.insecureSkipVerify, insecureSkipVerify = _g === void 0 ? false : _g;\n        var errorPlaceholder = checkErrors ? 'err' : '_';\n        var indent = showBoilerplate ? 1 : 0;\n        var errorCheck = function () {\n            if (checkErrors) {\n                push('if err != nil {', indent);\n                push('panic(err)', indent + 1);\n                push('}', indent);\n            }\n        };\n        // Create boilerplate\n        if (showBoilerplate) {\n            push('package main');\n            blank();\n            push('import (');\n            push('\"fmt\"', indent);\n            if (timeout > 0) {\n                push('\"time\"', indent);\n            }\n            if (insecureSkipVerify) {\n                push('\"crypto/tls\"', indent);\n            }\n            if (postData.text) {\n                push('\"strings\"', indent);\n            }\n            push('\"net/http\"', indent);\n            if (printBody) {\n                push('\"io\"', indent);\n            }\n            push(')');\n            blank();\n            push('func main() {');\n            blank();\n        }\n        // Create an insecure transport for the client\n        if (insecureSkipVerify) {\n            push('insecureTransport := http.DefaultTransport.(*http.Transport).Clone()', indent);\n            push('insecureTransport.TLSClientConfig = &tls.Config{InsecureSkipVerify: true}', indent);\n        }\n        // Create client\n        var hasTimeout = timeout > 0;\n        var hasClient = hasTimeout || insecureSkipVerify;\n        var client = hasClient ? 'client' : 'http.DefaultClient';\n        if (hasClient) {\n            push('client := http.Client{', indent);\n            if (hasTimeout) {\n                push(\"Timeout: time.Duration(\".concat(timeout, \" * time.Second),\"), indent + 1);\n            }\n            if (insecureSkipVerify) {\n                push('Transport: insecureTransport,', indent + 1);\n            }\n            push('}', indent);\n            blank();\n        }\n        push(\"url := \\\"\".concat(fullUrl, \"\\\"\"), indent);\n        blank();\n        // If we have body content or not create the var and reader or nil\n        if (postData.text) {\n            push(\"payload := strings.NewReader(\".concat(JSON.stringify(postData.text), \")\"), indent);\n            blank();\n            push(\"req, \".concat(errorPlaceholder, \" := http.NewRequest(\\\"\").concat(method, \"\\\", url, payload)\"), indent);\n            blank();\n        }\n        else {\n            push(\"req, \".concat(errorPlaceholder, \" := http.NewRequest(\\\"\").concat(method, \"\\\", url, nil)\"), indent);\n            blank();\n        }\n        errorCheck();\n        // Add headers\n        if (Object.keys(allHeaders).length) {\n            Object.keys(allHeaders).forEach(function (key) {\n                push(\"req.Header.Add(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\")\"), indent);\n            });\n            blank();\n        }\n        // Make request\n        push(\"res, \".concat(errorPlaceholder, \" := \").concat(client, \".Do(req)\"), indent);\n        errorCheck();\n        // Get Body\n        if (printBody) {\n            blank();\n            push('defer res.Body.Close()', indent);\n            push(\"body, \".concat(errorPlaceholder, \" := io.ReadAll(res.Body)\"), indent);\n            errorCheck();\n        }\n        // Print it\n        blank();\n        push('fmt.Println(res)', indent);\n        if (printBody) {\n            push('fmt.Println(string(body))', indent);\n        }\n        // End main block\n        if (showBoilerplate) {\n            blank();\n            push('}');\n        }\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.go = void 0;\nvar client_1 = require(\"./native/client\");\nexports.go = {\n    info: {\n        key: 'go',\n        title: 'Go',\n        extname: '.go',\n        \"default\": 'native'\n    },\n    clientsById: {\n        native: client_1.native\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator to generate raw HTTP/1.1 request strings,\n * in accordance to the RFC 7230 (and RFC 7231) specifications.\n *\n * @author\n * @irvinlim\n *\n * For any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.http11 = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar CRLF = '\\r\\n';\n/**\n * Request follows the request message format in accordance to RFC 7230, Section 3.\n * Each section is prepended with the RFC and section number.\n * See more at https://tools.ietf.org/html/rfc7230#section-3.\n */\nexports.http11 = {\n    info: {\n        key: 'http1.1',\n        title: 'HTTP/1.1',\n        link: 'https://tools.ietf.org/html/rfc7230',\n        description: 'HTTP/1.1 request string in accordance with RFC 7230'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, fullUrl = _a.fullUrl, uriObj = _a.uriObj, httpVersion = _a.httpVersion, allHeaders = _a.allHeaders, postData = _a.postData;\n        var opts = __assign({ absoluteURI: false, autoContentLength: true, autoHost: true }, options);\n        // RFC 7230 Section 3. Message Format\n        // All lines have no indentation, and should be terminated with CRLF.\n        var _b = new code_builder_1.CodeBuilder({ indent: '', join: CRLF }), blank = _b.blank, push = _b.push, join = _b.join;\n        // RFC 7230 Section 5.3. Request Target\n        // Determines if the Request-Line should use 'absolute-form' or 'origin-form'.\n        // Basically it means whether the \"http://domain.com\" will prepend the full url.\n        var requestUrl = opts.absoluteURI ? fullUrl : uriObj.path;\n        // RFC 7230 Section 3.1.1. Request-Line\n        push(\"\".concat(method, \" \").concat(requestUrl, \" \").concat(httpVersion));\n        var headerKeys = Object.keys(allHeaders);\n        // RFC 7231 Section 5. Header Fields\n        headerKeys.forEach(function (key) {\n            // Capitalize header keys, even though it's not required by the spec.\n            var keyCapitalized = key.toLowerCase().replace(/(^|-)(\\w)/g, function (input) { return input.toUpperCase(); });\n            push(\"\".concat(keyCapitalized, \": \").concat(allHeaders[key]));\n        });\n        // RFC 7230 Section 5.4. Host\n        // Automatically set Host header if option is on and on header already exists.\n        if (opts.autoHost && !headerKeys.includes('host')) {\n            push(\"Host: \".concat(uriObj.host));\n        }\n        // RFC 7230 Section 3.3.3. Message Body Length\n        // Automatically set Content-Length header if option is on, postData is present and no header already exists.\n        if (opts.autoContentLength && postData.text && !headerKeys.includes('content-length')) {\n            var length = Buffer.byteLength(postData.text, 'ascii').toString();\n            push(\"Content-Length: \".concat(length));\n        }\n        // Add extra line after header section.\n        blank();\n        // Separate header section and message body section.\n        var headerSection = join();\n        // RFC 7230 Section 3.3. Message Body\n        var messageBody = postData.text || '';\n        // RFC 7230 Section 3. Message Format\n        // Extra CRLF separating the headers from the body.\n        return \"\".concat(headerSection).concat(CRLF).concat(messageBody);\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.http = void 0;\nvar client_1 = require(\"./http1.1/client\");\nexports.http = {\n    info: {\n        key: 'http',\n        title: 'HTTP',\n        extname: null,\n        \"default\": '1.1'\n    },\n    clientsById: {\n        'http1.1': client_1.http11\n    }\n};\n","\"use strict\";\n/**\n * @description\n * Asynchronous Http and WebSocket Client library for Java\n *\n * @author\n * @windard\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.asynchttp = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.asynchttp = {\n    info: {\n        key: 'asynchttp',\n        title: 'AsyncHttp',\n        link: 'https://github.com/AsyncHttpClient/async-http-client',\n        description: 'Asynchronous Http and WebSocket Client library for Java'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, allHeaders = _a.allHeaders, postData = _a.postData, fullUrl = _a.fullUrl;\n        var opts = __assign({ indent: '  ' }, options);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _b.blank, push = _b.push, join = _b.join;\n        push('AsyncHttpClient client = new DefaultAsyncHttpClient();');\n        push(\"client.prepare(\\\"\".concat(method.toUpperCase(), \"\\\", \\\"\").concat(fullUrl, \"\\\")\"));\n        // Add headers, including the cookies\n        Object.keys(allHeaders).forEach(function (key) {\n            push(\".setHeader(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\")\"), 1);\n        });\n        if (postData.text) {\n            push(\".setBody(\".concat(JSON.stringify(postData.text), \")\"), 1);\n        }\n        push('.execute()', 1);\n        push('.toCompletableFuture()', 1);\n        push('.thenAccept(System.out::println)', 1);\n        push('.join();', 1);\n        blank();\n        push('client.close();');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Java using java.net.http.\n *\n * @author\n * @wtetsu\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.nethttp = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.nethttp = {\n    info: {\n        key: 'nethttp',\n        title: 'java.net.http',\n        link: 'https://openjdk.java.net/groups/net/httpclient/intro.html',\n        description: 'Java Standardized HTTP Client API'\n    },\n    convert: function (_a, options) {\n        var allHeaders = _a.allHeaders, fullUrl = _a.fullUrl, method = _a.method, postData = _a.postData;\n        var opts = __assign({ indent: '  ' }, options);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _b.push, join = _b.join;\n        push('HttpRequest request = HttpRequest.newBuilder()');\n        push(\".uri(URI.create(\\\"\".concat(fullUrl, \"\\\"))\"), 2);\n        Object.keys(allHeaders).forEach(function (key) {\n            push(\".header(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\")\"), 2);\n        });\n        if (postData.text) {\n            push(\".method(\\\"\".concat(method.toUpperCase(), \"\\\", HttpRequest.BodyPublishers.ofString(\").concat(JSON.stringify(postData.text), \"))\"), 2);\n        }\n        else {\n            push(\".method(\\\"\".concat(method.toUpperCase(), \"\\\", HttpRequest.BodyPublishers.noBody())\"), 2);\n        }\n        push('.build();', 2);\n        push('HttpResponse<String> response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());');\n        push('System.out.println(response.body());');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Java using OkHttp.\n *\n * @author\n * @shashiranjan84\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.okhttp = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.okhttp = {\n    info: {\n        key: 'okhttp',\n        title: 'OkHttp',\n        link: 'http://square.github.io/okhttp/',\n        description: 'An HTTP Request Client Library'\n    },\n    convert: function (_a, options) {\n        var postData = _a.postData, method = _a.method, fullUrl = _a.fullUrl, allHeaders = _a.allHeaders;\n        var opts = __assign({ indent: '  ' }, options);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _b.push, blank = _b.blank, join = _b.join;\n        var methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD'];\n        var methodsWithBody = ['POST', 'PUT', 'DELETE', 'PATCH'];\n        push('OkHttpClient client = new OkHttpClient();');\n        blank();\n        if (postData.text) {\n            if (postData.boundary) {\n                push(\"MediaType mediaType = MediaType.parse(\\\"\".concat(postData.mimeType, \"; boundary=\").concat(postData.boundary, \"\\\");\"));\n            }\n            else {\n                push(\"MediaType mediaType = MediaType.parse(\\\"\".concat(postData.mimeType, \"\\\");\"));\n            }\n            push(\"RequestBody body = RequestBody.create(mediaType, \".concat(JSON.stringify(postData.text), \");\"));\n        }\n        push('Request request = new Request.Builder()');\n        push(\".url(\\\"\".concat(fullUrl, \"\\\")\"), 1);\n        if (!methods.includes(method.toUpperCase())) {\n            if (postData.text) {\n                push(\".method(\\\"\".concat(method.toUpperCase(), \"\\\", body)\"), 1);\n            }\n            else {\n                push(\".method(\\\"\".concat(method.toUpperCase(), \"\\\", null)\"), 1);\n            }\n        }\n        else if (methodsWithBody.includes(method.toUpperCase())) {\n            if (postData.text) {\n                push(\".\".concat(method.toLowerCase(), \"(body)\"), 1);\n            }\n            else {\n                push(\".\".concat(method.toLowerCase(), \"(null)\"), 1);\n            }\n        }\n        else {\n            push(\".\".concat(method.toLowerCase(), \"()\"), 1);\n        }\n        // Add headers, including the cookies\n        Object.keys(allHeaders).forEach(function (key) {\n            push(\".addHeader(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\")\"), 1);\n        });\n        push('.build();', 1);\n        blank();\n        push('Response response = client.newCall(request).execute();');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Java using Unirest.\n *\n * @author\n * @shashiranjan84\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.unirest = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.unirest = {\n    info: {\n        key: 'unirest',\n        title: 'Unirest',\n        link: 'http://unirest.io/java.html',\n        description: 'Lightweight HTTP Request Client Library'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, allHeaders = _a.allHeaders, postData = _a.postData, fullUrl = _a.fullUrl;\n        var opts = __assign({ indent: '  ' }, options);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), join = _b.join, push = _b.push;\n        var methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS'];\n        if (!methods.includes(method.toUpperCase())) {\n            push(\"HttpResponse<String> response = Unirest.customMethod(\\\"\".concat(method.toUpperCase(), \"\\\",\\\"\").concat(fullUrl, \"\\\")\"));\n        }\n        else {\n            push(\"HttpResponse<String> response = Unirest.\".concat(method.toLowerCase(), \"(\\\"\").concat(fullUrl, \"\\\")\"));\n        }\n        // Add headers, including the cookies\n        Object.keys(allHeaders).forEach(function (key) {\n            push(\".header(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\")\"), 1);\n        });\n        if (postData.text) {\n            push(\".body(\".concat(JSON.stringify(postData.text), \")\"), 1);\n        }\n        push('.asString();', 1);\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.java = void 0;\nvar client_1 = require(\"./asynchttp/client\");\nvar client_2 = require(\"./nethttp/client\");\nvar client_3 = require(\"./okhttp/client\");\nvar client_4 = require(\"./unirest/client\");\nexports.java = {\n    info: {\n        key: 'java',\n        title: 'Java',\n        extname: '.java',\n        \"default\": 'unirest'\n    },\n    clientsById: {\n        asynchttp: client_1.asynchttp,\n        nethttp: client_2.nethttp,\n        okhttp: client_3.okhttp,\n        unirest: client_4.unirest\n    }\n};\n","'use strict';\nmodule.exports = function (re) {\n\treturn Object.prototype.toString.call(re) === '[object RegExp]';\n};\n","'use strict';\nmodule.exports = function (x) {\n\tvar type = typeof x;\n\treturn x !== null && (type === 'object' || type === 'function');\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (object) => Object\n    .getOwnPropertySymbols(object)\n    .filter((keySymbol) => Object.prototype.propertyIsEnumerable.call(object, keySymbol));\n//# sourceMappingURL=index.js.map","'use strict';\nconst isRegexp = require('is-regexp');\nconst isObj = require('is-obj');\nconst getOwnEnumPropSymbols = require('get-own-enumerable-property-symbols').default;\n\nmodule.exports = (val, opts, pad) => {\n\tconst seen = [];\n\n\treturn (function stringify(val, opts, pad) {\n\t\topts = opts || {};\n\t\topts.indent = opts.indent || '\\t';\n\t\tpad = pad || '';\n\n\t\tlet tokens;\n\n\t\tif (opts.inlineCharacterLimit === undefined) {\n\t\t\ttokens = {\n\t\t\t\tnewLine: '\\n',\n\t\t\t\tnewLineOrSpace: '\\n',\n\t\t\t\tpad,\n\t\t\t\tindent: pad + opts.indent\n\t\t\t};\n\t\t} else {\n\t\t\ttokens = {\n\t\t\t\tnewLine: '@@__STRINGIFY_OBJECT_NEW_LINE__@@',\n\t\t\t\tnewLineOrSpace: '@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@',\n\t\t\t\tpad: '@@__STRINGIFY_OBJECT_PAD__@@',\n\t\t\t\tindent: '@@__STRINGIFY_OBJECT_INDENT__@@'\n\t\t\t};\n\t\t}\n\n\t\tconst expandWhiteSpace = string => {\n\t\t\tif (opts.inlineCharacterLimit === undefined) {\n\t\t\t\treturn string;\n\t\t\t}\n\n\t\t\tconst oneLined = string\n\t\t\t\t.replace(new RegExp(tokens.newLine, 'g'), '')\n\t\t\t\t.replace(new RegExp(tokens.newLineOrSpace, 'g'), ' ')\n\t\t\t\t.replace(new RegExp(tokens.pad + '|' + tokens.indent, 'g'), '');\n\n\t\t\tif (oneLined.length <= opts.inlineCharacterLimit) {\n\t\t\t\treturn oneLined;\n\t\t\t}\n\n\t\t\treturn string\n\t\t\t\t.replace(new RegExp(tokens.newLine + '|' + tokens.newLineOrSpace, 'g'), '\\n')\n\t\t\t\t.replace(new RegExp(tokens.pad, 'g'), pad)\n\t\t\t\t.replace(new RegExp(tokens.indent, 'g'), pad + opts.indent);\n\t\t};\n\n\t\tif (seen.indexOf(val) !== -1) {\n\t\t\treturn '\"[Circular]\"';\n\t\t}\n\n\t\tif (val === null ||\n\t\t\tval === undefined ||\n\t\t\ttypeof val === 'number' ||\n\t\t\ttypeof val === 'boolean' ||\n\t\t\ttypeof val === 'function' ||\n\t\t\ttypeof val === 'symbol' ||\n\t\t\tisRegexp(val)) {\n\t\t\treturn String(val);\n\t\t}\n\n\t\tif (val instanceof Date) {\n\t\t\treturn `new Date('${val.toISOString()}')`;\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tif (val.length === 0) {\n\t\t\t\treturn '[]';\n\t\t\t}\n\n\t\t\tseen.push(val);\n\n\t\t\tconst ret = '[' + tokens.newLine + val.map((el, i) => {\n\t\t\t\tconst eol = val.length - 1 === i ? tokens.newLine : ',' + tokens.newLineOrSpace;\n\t\t\t\tlet value = stringify(el, opts, pad + opts.indent);\n\t\t\t\tif (opts.transform) {\n\t\t\t\t\tvalue = opts.transform(val, i, value);\n\t\t\t\t}\n\t\t\t\treturn tokens.indent + value + eol;\n\t\t\t}).join('') + tokens.pad + ']';\n\n\t\t\tseen.pop();\n\n\t\t\treturn expandWhiteSpace(ret);\n\t\t}\n\n\t\tif (isObj(val)) {\n\t\t\tlet objKeys = Object.keys(val).concat(getOwnEnumPropSymbols(val));\n\n\t\t\tif (opts.filter) {\n\t\t\t\tobjKeys = objKeys.filter(el => opts.filter(val, el));\n\t\t\t}\n\n\t\t\tif (objKeys.length === 0) {\n\t\t\t\treturn '{}';\n\t\t\t}\n\n\t\t\tseen.push(val);\n\n\t\t\tconst ret = '{' + tokens.newLine + objKeys.map((el, i) => {\n\t\t\t\tconst eol = objKeys.length - 1 === i ? tokens.newLine : ',' + tokens.newLineOrSpace;\n\t\t\t\tconst isSymbol = typeof el === 'symbol';\n\t\t\t\tconst isClassic = !isSymbol && /^[a-z$_][a-z$_0-9]*$/i.test(el);\n\t\t\t\tconst key = isSymbol || isClassic ? el : stringify(el, opts);\n\t\t\t\tlet value = stringify(val[el], opts, pad + opts.indent);\n\t\t\t\tif (opts.transform) {\n\t\t\t\t\tvalue = opts.transform(val, el, value);\n\t\t\t\t}\n\t\t\t\treturn tokens.indent + String(key) + ': ' + value + eol;\n\t\t\t}).join('') + tokens.pad + '}';\n\n\t\t\tseen.pop();\n\n\t\t\treturn expandWhiteSpace(ret);\n\t\t}\n\n\t\tval = String(val).replace(/[\\r\\n]/g, x => x === '\\n' ? '\\\\n' : '\\\\r');\n\n\t\tif (opts.singleQuotes === false) {\n\t\t\tval = val.replace(/\"/g, '\\\\\"');\n\t\t\treturn `\"${val}\"`;\n\t\t}\n\n\t\tval = val.replace(/\\\\?'/g, '\\\\\\'');\n\t\treturn `'${val}'`;\n\t})(val, opts, pad);\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Javascript & Node.js using Axios.\n *\n * @author\n * @rohit-gohri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.axios = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nexports.axios = {\n    info: {\n        key: 'axios',\n        title: 'Axios',\n        link: 'https://github.com/axios/axios',\n        description: 'Promise based HTTP client for the browser and node.js'\n    },\n    convert: function (_a, options) {\n        var allHeaders = _a.allHeaders, method = _a.method, url = _a.url, queryObj = _a.queryObj, postData = _a.postData;\n        var opts = __assign({ indent: '  ' }, options);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _b.blank, push = _b.push, join = _b.join, addPostProcessor = _b.addPostProcessor;\n        push(\"import axios from 'axios';\");\n        blank();\n        var requestOptions = {\n            method: method,\n            url: url\n        };\n        if (Object.keys(queryObj).length) {\n            requestOptions.params = queryObj;\n        }\n        if (Object.keys(allHeaders).length) {\n            requestOptions.headers = allHeaders;\n        }\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                if (postData.params) {\n                    push('const encodedParams = new URLSearchParams();');\n                    postData.params.forEach(function (param) {\n                        push(\"encodedParams.set('\".concat(param.name, \"', '\").concat(param.value, \"');\"));\n                    });\n                    blank();\n                    requestOptions.data = 'encodedParams,';\n                    addPostProcessor(function (code) { return code.replace(/'encodedParams,'/, 'encodedParams,'); });\n                }\n                break;\n            case 'application/json':\n                if (postData.jsonObj) {\n                    requestOptions.data = postData.jsonObj;\n                }\n                break;\n            case 'multipart/form-data':\n                if (!postData.params) {\n                    break;\n                }\n                push('const form = new FormData();');\n                postData.params.forEach(function (param) {\n                    push(\"form.append('\".concat(param.name, \"', '\").concat(param.value || param.fileName || '', \"');\"));\n                });\n                blank();\n                requestOptions.data = '[form]';\n                break;\n            default:\n                if (postData.text) {\n                    requestOptions.data = postData.text;\n                }\n        }\n        var optionString = (0, stringify_object_1[\"default\"])(requestOptions, {\n            indent: '  ',\n            inlineCharacterLimit: 80\n        }).replace('\"[form]\"', 'form');\n        push(\"const options = \".concat(optionString, \";\"));\n        blank();\n        push('try {');\n        push('const { data } = await axios.request(options);', 1);\n        push('console.log(data);', 1);\n        push('} catch (error) {');\n        push('console.error(error);', 1);\n        push('}');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for fetch\n *\n * @author\n * @pmdroid\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.fetch = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar headers_1 = require(\"../../../helpers/headers\");\nexports.fetch = {\n    info: {\n        key: 'fetch',\n        title: 'fetch',\n        link: 'https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch',\n        description: 'Perform asynchronous HTTP requests with the Fetch API'\n    },\n    convert: function (_a, inputOpts) {\n        var method = _a.method, allHeaders = _a.allHeaders, postData = _a.postData, fullUrl = _a.fullUrl;\n        var opts = __assign({ indent: '  ', credentials: null }, inputOpts);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _b.blank, join = _b.join, push = _b.push;\n        var options = {\n            method: method\n        };\n        if (Object.keys(allHeaders).length) {\n            options.headers = allHeaders;\n        }\n        if (opts.credentials !== null) {\n            options.credentials = opts.credentials;\n        }\n        push(\"const url = '\".concat(fullUrl, \"';\"));\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                options.body = postData.paramsObj ? postData.paramsObj : postData.text;\n                break;\n            case 'application/json':\n                options.body = JSON.stringify(postData.jsonObj);\n                break;\n            case 'multipart/form-data':\n                if (!postData.params) {\n                    break;\n                }\n                // The FormData API automatically adds a `Content-Type` header for `multipart/form-data` content and if we add our own here data won't be correctly transmitted.\n                // eslint-disable-next-line no-case-declarations -- We're only using `contentTypeHeader` within this block.\n                var contentTypeHeader = (0, headers_1.getHeaderName)(allHeaders, 'content-type');\n                if (contentTypeHeader) {\n                    delete allHeaders[contentTypeHeader];\n                }\n                push('const form = new FormData();');\n                postData.params.forEach(function (param) {\n                    push(\"form.append('\".concat(param.name, \"', '\").concat(param.value || param.fileName || '', \"');\"));\n                });\n                blank();\n                break;\n            default:\n                if (postData.text) {\n                    options.body = postData.text;\n                }\n        }\n        // If we ultimately don't have any headers to send then we shouldn't add an empty object into the request options.\n        if (options.headers && !Object.keys(options.headers).length) {\n            delete options.headers;\n        }\n        push(\"const options = \".concat((0, stringify_object_1[\"default\"])(options, {\n            indent: opts.indent,\n            inlineCharacterLimit: 80,\n            transform: function (_, property, originalResult) {\n                if (property === 'body' && postData.mimeType === 'application/x-www-form-urlencoded') {\n                    return \"new URLSearchParams(\".concat(originalResult, \")\");\n                }\n                return originalResult;\n            }\n        }), \";\"));\n        blank();\n        if (postData.params && postData.mimeType === 'multipart/form-data') {\n            push('options.body = form;');\n            blank();\n        }\n        push('try {');\n        push(\"const response = await fetch(url, options);\", 1);\n        push('const data = await response.json();', 1);\n        push('console.log(data);', 1);\n        push('} catch (error) {');\n        push('console.error(error);', 1);\n        push('}');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for native XMLHttpRequest\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.jquery = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar headers_1 = require(\"../../../helpers/headers\");\nexports.jquery = {\n    info: {\n        key: 'jquery',\n        title: 'jQuery',\n        link: 'http://api.jquery.com/jquery.ajax/',\n        description: 'Perform an asynchronous HTTP (Ajax) requests with jQuery'\n    },\n    convert: function (_a, options) {\n        var _b;\n        var fullUrl = _a.fullUrl, method = _a.method, allHeaders = _a.allHeaders, postData = _a.postData;\n        var opts = __assign({ indent: '  ' }, options);\n        var _c = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _c.blank, push = _c.push, join = _c.join;\n        var settings = {\n            async: true,\n            crossDomain: true,\n            url: fullUrl,\n            method: method,\n            headers: allHeaders\n        };\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                settings.data = postData.paramsObj ? postData.paramsObj : postData.text;\n                break;\n            case 'application/json':\n                settings.processData = false;\n                settings.data = postData.text;\n                break;\n            case 'multipart/form-data':\n                if (!postData.params) {\n                    break;\n                }\n                push('const form = new FormData();');\n                postData.params.forEach(function (param) {\n                    push(\"form.append('\".concat(param.name, \"', '\").concat(param.value || param.fileName || '', \"');\"));\n                });\n                settings.processData = false;\n                settings.contentType = false;\n                settings.mimeType = 'multipart/form-data';\n                settings.data = '[form]';\n                // remove the contentType header\n                if ((0, headers_1.hasHeader)(allHeaders, 'content-type')) {\n                    if ((_b = (0, headers_1.getHeader)(allHeaders, 'content-type')) === null || _b === void 0 ? void 0 : _b.includes('boundary')) {\n                        var headerName = (0, headers_1.getHeaderName)(allHeaders, 'content-type');\n                        if (headerName) {\n                            delete settings.headers[headerName];\n                        }\n                    }\n                }\n                blank();\n                break;\n            default:\n                if (postData.text) {\n                    settings.data = postData.text;\n                }\n        }\n        var stringifiedSettings = (0, stringify_object_1[\"default\"])(settings, { indent: opts.indent }).replace(\"'[form]'\", 'form');\n        push(\"const settings = \".concat(stringifiedSettings, \";\"));\n        blank();\n        push('$.ajax(settings).done(function (response) {');\n        push('console.log(response);', 1);\n        push('});');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for native XMLHttpRequest\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.xhr = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nvar headers_1 = require(\"../../../helpers/headers\");\nexports.xhr = {\n    info: {\n        key: 'xhr',\n        title: 'XMLHttpRequest',\n        link: 'https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest',\n        description: 'W3C Standard API that provides scripted client functionality'\n    },\n    convert: function (_a, options) {\n        var _b;\n        var postData = _a.postData, allHeaders = _a.allHeaders, method = _a.method, fullUrl = _a.fullUrl;\n        var opts = __assign({ indent: '  ', cors: true }, options);\n        var _c = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _c.blank, push = _c.push, join = _c.join;\n        switch (postData.mimeType) {\n            case 'application/json':\n                push(\"const data = JSON.stringify(\".concat((0, stringify_object_1[\"default\"])(postData.jsonObj, {\n                    indent: opts.indent\n                }), \");\"));\n                blank();\n                break;\n            case 'multipart/form-data':\n                if (!postData.params) {\n                    break;\n                }\n                push('const data = new FormData();');\n                postData.params.forEach(function (param) {\n                    push(\"data.append('\".concat(param.name, \"', '\").concat(param.value || param.fileName || '', \"');\"));\n                });\n                // remove the contentType header\n                if ((0, headers_1.hasHeader)(allHeaders, 'content-type')) {\n                    if ((_b = (0, headers_1.getHeader)(allHeaders, 'content-type')) === null || _b === void 0 ? void 0 : _b.includes('boundary')) {\n                        var headerName = (0, headers_1.getHeaderName)(allHeaders, 'content-type');\n                        if (headerName) {\n                            delete allHeaders[headerName];\n                        }\n                    }\n                }\n                blank();\n                break;\n            default:\n                push(\"const data = \".concat(postData.text ? \"'\".concat(postData.text, \"'\") : 'null', \";\"));\n                blank();\n        }\n        push('const xhr = new XMLHttpRequest();');\n        if (opts.cors) {\n            push('xhr.withCredentials = true;');\n        }\n        blank();\n        push(\"xhr.addEventListener('readystatechange', function () {\");\n        push('if (this.readyState === this.DONE) {', 1);\n        push('console.log(this.responseText);', 2);\n        push('}', 1);\n        push('});');\n        blank();\n        push(\"xhr.open('\".concat(method, \"', '\").concat(fullUrl, \"');\"));\n        Object.keys(allHeaders).forEach(function (key) {\n            push(\"xhr.setRequestHeader('\".concat(key, \"', '\").concat((0, escape_1.escapeForSingleQuotes)(allHeaders[key]), \"');\"));\n        });\n        blank();\n        push('xhr.send(data);');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.javascript = void 0;\nvar client_1 = require(\"./axios/client\");\nvar client_2 = require(\"./fetch/client\");\nvar client_3 = require(\"./jquery/client\");\nvar client_4 = require(\"./xhr/client\");\nexports.javascript = {\n    info: {\n        key: 'javascript',\n        title: 'JavaScript',\n        extname: '.js',\n        \"default\": 'xhr'\n    },\n    clientsById: {\n        xhr: client_4.xhr,\n        axios: client_1.axios,\n        fetch: client_2.fetch,\n        jquery: client_3.jquery\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Kotlin using OkHttp.\n *\n * @author\n * @seanghay\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.okhttp = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.okhttp = {\n    info: {\n        key: 'okhttp',\n        title: 'OkHttp',\n        link: 'http://square.github.io/okhttp/',\n        description: 'An HTTP Request Client Library'\n    },\n    convert: function (_a, options) {\n        var postData = _a.postData, fullUrl = _a.fullUrl, method = _a.method, allHeaders = _a.allHeaders;\n        var opts = __assign({ indent: '  ' }, options);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _b.blank, join = _b.join, push = _b.push;\n        var methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD'];\n        var methodsWithBody = ['POST', 'PUT', 'DELETE', 'PATCH'];\n        push('val client = OkHttpClient()');\n        blank();\n        if (postData.text) {\n            if (postData.boundary) {\n                push(\"val mediaType = MediaType.parse(\\\"\".concat(postData.mimeType, \"; boundary=\").concat(postData.boundary, \"\\\")\"));\n            }\n            else {\n                push(\"val mediaType = MediaType.parse(\\\"\".concat(postData.mimeType, \"\\\")\"));\n            }\n            push(\"val body = RequestBody.create(mediaType, \".concat(JSON.stringify(postData.text), \")\"));\n        }\n        push('val request = Request.Builder()');\n        push(\".url(\\\"\".concat(fullUrl, \"\\\")\"), 1);\n        if (!methods.includes(method.toUpperCase())) {\n            if (postData.text) {\n                push(\".method(\\\"\".concat(method.toUpperCase(), \"\\\", body)\"), 1);\n            }\n            else {\n                push(\".method(\\\"\".concat(method.toUpperCase(), \"\\\", null)\"), 1);\n            }\n        }\n        else if (methodsWithBody.includes(method.toUpperCase())) {\n            if (postData.text) {\n                push(\".\".concat(method.toLowerCase(), \"(body)\"), 1);\n            }\n            else {\n                push(\".\".concat(method.toLowerCase(), \"(null)\"), 1);\n            }\n        }\n        else {\n            push(\".\".concat(method.toLowerCase(), \"()\"), 1);\n        }\n        // Add headers, including the cookies\n        Object.keys(allHeaders).forEach(function (key) {\n            push(\".addHeader(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\")\"), 1);\n        });\n        push('.build()', 1);\n        blank();\n        push('val response = client.newCall(request).execute()');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.kotlin = void 0;\nvar client_1 = require(\"./okhttp/client\");\nexports.kotlin = {\n    info: {\n        key: 'kotlin',\n        title: 'Kotlin',\n        extname: '.kt',\n        \"default\": 'okhttp'\n    },\n    clientsById: {\n        okhttp: client_1.okhttp\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Javascript & Node.js using Axios.\n *\n * @author\n * @rohit-gohri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.axios = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nexports.axios = {\n    info: {\n        key: 'axios',\n        title: 'Axios',\n        link: 'https://github.com/axios/axios',\n        description: 'Promise based HTTP client for the browser and node.js'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, url = _a.url, queryObj = _a.queryObj, allHeaders = _a.allHeaders, postData = _a.postData;\n        var opts = __assign({ indent: '  ' }, options);\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _b.blank, join = _b.join, push = _b.push, addPostProcessor = _b.addPostProcessor;\n        push(\"const axios = require('axios').default;\");\n        var reqOpts = {\n            method: method,\n            url: url\n        };\n        if (Object.keys(queryObj).length) {\n            reqOpts.params = queryObj;\n        }\n        if (Object.keys(allHeaders).length) {\n            reqOpts.headers = allHeaders;\n        }\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                if (postData.params) {\n                    push(\"const { URLSearchParams } = require('url');\");\n                    blank();\n                    push('const encodedParams = new URLSearchParams();');\n                    postData.params.forEach(function (param) {\n                        push(\"encodedParams.set('\".concat(param.name, \"', '\").concat(param.value, \"');\"));\n                    });\n                    blank();\n                    reqOpts.data = 'encodedParams,';\n                    addPostProcessor(function (code) { return code.replace(/'encodedParams,'/, 'encodedParams,'); });\n                }\n                break;\n            case 'application/json':\n                blank();\n                if (postData.jsonObj) {\n                    reqOpts.data = postData.jsonObj;\n                }\n                break;\n            default:\n                blank();\n                if (postData.text) {\n                    reqOpts.data = postData.text;\n                }\n        }\n        var stringifiedOptions = (0, stringify_object_1[\"default\"])(reqOpts, { indent: '  ', inlineCharacterLimit: 80 });\n        push(\"const options = \".concat(stringifiedOptions, \";\"));\n        blank();\n        push('try {');\n        push('const { data } = await axios.request(options);', 1);\n        push('console.log(data);', 1);\n        push('} catch (error) {');\n        push('console.error(error);', 1);\n        push('}');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Node.js using node-fetch.\n *\n * @author\n * @hirenoble\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.fetch = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar headers_1 = require(\"../../../helpers/headers\");\nexports.fetch = {\n    info: {\n        key: 'fetch',\n        title: 'Fetch',\n        link: 'https://github.com/bitinn/node-fetch',\n        description: 'Simplified HTTP node-fetch client'\n    },\n    convert: function (_a, options) {\n        var _b;\n        var method = _a.method, fullUrl = _a.fullUrl, postData = _a.postData, headersObj = _a.headersObj, cookies = _a.cookies;\n        var opts = __assign({ indent: '  ' }, options);\n        var includeFS = false;\n        var _c = new code_builder_1.CodeBuilder({ indent: opts.indent }), blank = _c.blank, push = _c.push, join = _c.join, unshift = _c.unshift;\n        push(\"const fetch = require('node-fetch');\");\n        blank();\n        var reqOpts = {\n            method: method\n        };\n        if (Object.keys(headersObj).length) {\n            reqOpts.headers = headersObj;\n        }\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                unshift(\"const { URLSearchParams } = require('url');\");\n                push('const encodedParams = new URLSearchParams();');\n                (_b = postData.params) === null || _b === void 0 ? void 0 : _b.forEach(function (param) {\n                    push(\"encodedParams.set('\".concat(param.name, \"', '\").concat(param.value, \"');\"));\n                });\n                blank();\n                reqOpts.body = 'encodedParams';\n                break;\n            case 'application/json':\n                if (postData.jsonObj) {\n                    reqOpts.body = JSON.stringify(postData.jsonObj);\n                }\n                break;\n            case 'multipart/form-data':\n                if (!postData.params) {\n                    break;\n                }\n                // The `form-data` module automatically adds a `Content-Type` header for `multipart/form-data` content and if we add our own here data won't be correctly transmitted.\n                // eslint-disable-next-line no-case-declarations -- We're only using `contentTypeHeader` within this block.\n                var contentTypeHeader = (0, headers_1.getHeaderName)(headersObj, 'content-type');\n                if (contentTypeHeader) {\n                    delete headersObj[contentTypeHeader];\n                }\n                unshift(\"const FormData = require('form-data');\");\n                push('const formData = new FormData();');\n                postData.params.forEach(function (param) {\n                    if (!param.fileName && !param.fileName && !param.contentType) {\n                        push(\"formData.append('\".concat(param.name, \"', '\").concat(param.value, \"');\"));\n                        return;\n                    }\n                    if (param.fileName) {\n                        includeFS = true;\n                        push(\"formData.append('\".concat(param.name, \"', fs.createReadStream('\").concat(param.fileName, \"'));\"));\n                    }\n                });\n                blank();\n                break;\n            default:\n                if (postData.text) {\n                    reqOpts.body = postData.text;\n                }\n        }\n        // construct cookies argument\n        if (cookies.length) {\n            var cookiesString = cookies\n                .map(function (cookie) { return \"\".concat(encodeURIComponent(cookie.name), \"=\").concat(encodeURIComponent(cookie.value)); })\n                .join('; ');\n            if (reqOpts.headers) {\n                reqOpts.headers.cookie = cookiesString;\n            }\n            else {\n                reqOpts.headers = {};\n                reqOpts.headers.cookie = cookiesString;\n            }\n        }\n        push(\"const url = '\".concat(fullUrl, \"';\"));\n        // If we ultimately don't have any headers to send then we shouldn't add an empty object into the request options.\n        if (reqOpts.headers && !Object.keys(reqOpts.headers).length) {\n            delete reqOpts.headers;\n        }\n        var stringifiedOptions = (0, stringify_object_1[\"default\"])(reqOpts, { indent: '  ', inlineCharacterLimit: 80 });\n        push(\"const options = \".concat(stringifiedOptions, \";\"));\n        if (includeFS) {\n            unshift(\"const fs = require('fs');\");\n        }\n        if (postData.params && postData.mimeType === 'multipart/form-data') {\n            push('options.body = formData;');\n        }\n        blank();\n        push('try {');\n        push(\"const response = await fetch(url, options);\", 1);\n        push('const data = await response.json();', 1);\n        push('console.log(data);', 1);\n        push('} catch (error) {');\n        push('console.error(error);', 1);\n        push('}');\n        return join()\n            .replace(/'encodedParams'/, 'encodedParams')\n            .replace(/\"fs\\.createReadStream\\(\\\\\"(.+)\\\\\"\\)\"/, 'fs.createReadStream(\"$1\")');\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for native Node.js.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.native = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nexports.native = {\n    info: {\n        key: 'native',\n        title: 'HTTP',\n        link: 'http://nodejs.org/api/http.html#http_http_request_options_callback',\n        description: 'Node.js native HTTP interface'\n    },\n    convert: function (_a, options) {\n        var uriObj = _a.uriObj, method = _a.method, allHeaders = _a.allHeaders, postData = _a.postData;\n        if (options === void 0) { options = {}; }\n        var _b = options.indent, indent = _b === void 0 ? '  ' : _b, _c = options.insecureSkipVerify, insecureSkipVerify = _c === void 0 ? false : _c;\n        var _d = new code_builder_1.CodeBuilder({ indent: indent }), blank = _d.blank, join = _d.join, push = _d.push, unshift = _d.unshift;\n        var reqOpts = __assign({ method: method, hostname: uriObj.hostname, port: uriObj.port, path: uriObj.path, headers: allHeaders }, (insecureSkipVerify ? { rejectUnauthorized: false } : {}));\n        // @ts-expect-error TODO seems like a legit error\n        push(\"const http = require('\".concat(uriObj.protocol.replace(':', ''), \"');\"));\n        blank();\n        push(\"const options = \".concat((0, stringify_object_1[\"default\"])(reqOpts, { indent: indent }), \";\"));\n        blank();\n        push('const req = http.request(options, function (res) {');\n        push('const chunks = [];', 1);\n        blank();\n        push(\"res.on('data', function (chunk) {\", 1);\n        push('chunks.push(chunk);', 2);\n        push('});', 1);\n        blank();\n        push(\"res.on('end', function () {\", 1);\n        push('const body = Buffer.concat(chunks);', 2);\n        push('console.log(body.toString());', 2);\n        push('});', 1);\n        push('});');\n        blank();\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                if (postData.paramsObj) {\n                    unshift(\"const qs = require('querystring');\");\n                    push(\"req.write(qs.stringify(\".concat((0, stringify_object_1[\"default\"])(postData.paramsObj, {\n                        indent: '  ',\n                        inlineCharacterLimit: 80\n                    }), \"));\"));\n                }\n                break;\n            case 'application/json':\n                if (postData.jsonObj) {\n                    push(\"req.write(JSON.stringify(\".concat((0, stringify_object_1[\"default\"])(postData.jsonObj, {\n                        indent: '  ',\n                        inlineCharacterLimit: 80\n                    }), \"));\"));\n                }\n                break;\n            default:\n                if (postData.text) {\n                    push(\"req.write(\".concat((0, stringify_object_1[\"default\"])(postData.text, { indent: indent }), \");\"));\n                }\n        }\n        push('req.end();');\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Node.js using Request.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.request = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nexports.request = {\n    info: {\n        key: 'request',\n        title: 'Request',\n        link: 'https://github.com/request/request',\n        description: 'Simplified HTTP request client'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, url = _a.url, queryObj = _a.queryObj, postData = _a.postData, headersObj = _a.headersObj, cookies = _a.cookies;\n        var opts = __assign({ indent: '  ' }, options);\n        var includeFS = false;\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _b.push, blank = _b.blank, join = _b.join, unshift = _b.unshift;\n        push(\"const request = require('request');\");\n        blank();\n        var reqOpts = {\n            method: method,\n            url: url\n        };\n        if (Object.keys(queryObj).length) {\n            reqOpts.qs = queryObj;\n        }\n        if (Object.keys(headersObj).length) {\n            reqOpts.headers = headersObj;\n        }\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                reqOpts.form = postData.paramsObj;\n                break;\n            case 'application/json':\n                if (postData.jsonObj) {\n                    reqOpts.body = postData.jsonObj;\n                    reqOpts.json = true;\n                }\n                break;\n            case 'multipart/form-data':\n                if (!postData.params) {\n                    break;\n                }\n                reqOpts.formData = {};\n                postData.params.forEach(function (param) {\n                    if (!param.fileName && !param.fileName && !param.contentType) {\n                        reqOpts.formData[param.name] = param.value;\n                        return;\n                    }\n                    var attachment = {};\n                    if (param.fileName) {\n                        includeFS = true;\n                        attachment = {\n                            value: \"fs.createReadStream(\".concat(param.fileName, \")\"),\n                            options: {\n                                filename: param.fileName,\n                                contentType: param.contentType ? param.contentType : null\n                            }\n                        };\n                    }\n                    else if (param.value) {\n                        attachment.value = param.value;\n                    }\n                    reqOpts.formData[param.name] = attachment;\n                });\n                break;\n            default:\n                if (postData.text) {\n                    reqOpts.body = postData.text;\n                }\n        }\n        // construct cookies argument\n        if (cookies.length) {\n            reqOpts.jar = 'JAR';\n            push('const jar = request.jar();');\n            cookies.forEach(function (cookie) {\n                push(\"jar.setCookie(request.cookie('\".concat(encodeURIComponent(cookie.name), \"=\").concat(encodeURIComponent(cookie.value), \"'), '\").concat(url, \"');\"));\n            });\n            blank();\n        }\n        if (includeFS) {\n            unshift(\"const fs = require('fs');\");\n        }\n        push(\"const options = \".concat((0, stringify_object_1[\"default\"])(reqOpts, { indent: '  ', inlineCharacterLimit: 80 }), \";\"));\n        blank();\n        push('request(options, function (error, response, body) {');\n        push('if (error) throw new Error(error);', 1);\n        blank();\n        push('console.log(body);', 1);\n        push('});');\n        return join()\n            .replace(\"'JAR'\", 'jar')\n            .replace(/'fs\\.createReadStream\\((.*)\\)'/, \"fs.createReadStream('$1')\");\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Node.js using Unirest.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.unirest = void 0;\nvar stringify_object_1 = __importDefault(require(\"stringify-object\"));\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nexports.unirest = {\n    info: {\n        key: 'unirest',\n        title: 'Unirest',\n        link: 'http://unirest.io/nodejs.html',\n        description: 'Lightweight HTTP Request Client Library'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, url = _a.url, cookies = _a.cookies, queryObj = _a.queryObj, postData = _a.postData, headersObj = _a.headersObj;\n        var opts = __assign({ indent: '  ' }, options);\n        var includeFS = false;\n        var _b = new code_builder_1.CodeBuilder({\n            indent: opts.indent\n        }), addPostProcessor = _b.addPostProcessor, blank = _b.blank, join = _b.join, push = _b.push, unshift = _b.unshift;\n        push(\"const unirest = require('unirest');\");\n        blank();\n        push(\"const req = unirest('\".concat(method, \"', '\").concat(url, \"');\"));\n        blank();\n        if (cookies.length) {\n            push('const CookieJar = unirest.jar();');\n            cookies.forEach(function (cookie) {\n                push(\"CookieJar.add('\".concat(encodeURIComponent(cookie.name), \"=\").concat(encodeURIComponent(cookie.value), \"', '\").concat(url, \"');\"));\n            });\n            push('req.jar(CookieJar);');\n            blank();\n        }\n        if (Object.keys(queryObj).length) {\n            push(\"req.query(\".concat((0, stringify_object_1[\"default\"])(queryObj, { indent: opts.indent }), \");\"));\n            blank();\n        }\n        if (Object.keys(headersObj).length) {\n            push(\"req.headers(\".concat((0, stringify_object_1[\"default\"])(headersObj, { indent: opts.indent }), \");\"));\n            blank();\n        }\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                if (postData.paramsObj) {\n                    push(\"req.form(\".concat((0, stringify_object_1[\"default\"])(postData.paramsObj, { indent: opts.indent }), \");\"));\n                    blank();\n                }\n                break;\n            case 'application/json':\n                if (postData.jsonObj) {\n                    push(\"req.type('json');\");\n                    push(\"req.send(\".concat((0, stringify_object_1[\"default\"])(postData.jsonObj, { indent: opts.indent }), \");\"));\n                    blank();\n                }\n                break;\n            case 'multipart/form-data': {\n                if (!postData.params) {\n                    break;\n                }\n                var multipart_1 = [];\n                postData.params.forEach(function (param) {\n                    var part = {};\n                    if (param.fileName && !param.value) {\n                        includeFS = true;\n                        part.body = \"fs.createReadStream('\".concat(param.fileName, \"')\");\n                        addPostProcessor(function (code) {\n                            return code.replace(/'fs\\.createReadStream\\(\\\\'(.+)\\\\'\\)'/, \"fs.createReadStream('$1')\");\n                        });\n                    }\n                    else if (param.value) {\n                        part.body = param.value;\n                    }\n                    if (part.body) {\n                        if (param.contentType) {\n                            part['content-type'] = param.contentType;\n                        }\n                        multipart_1.push(part);\n                    }\n                });\n                push(\"req.multipart(\".concat((0, stringify_object_1[\"default\"])(multipart_1, { indent: opts.indent }), \");\"));\n                blank();\n                break;\n            }\n            default:\n                if (postData.text) {\n                    push(\"req.send(\".concat((0, stringify_object_1[\"default\"])(postData.text, { indent: opts.indent }), \");\"));\n                    blank();\n                }\n        }\n        if (includeFS) {\n            unshift(\"const fs = require('fs');\");\n        }\n        push('req.end(function (res) {');\n        push('if (res.error) throw new Error(res.error);', 1);\n        blank();\n        push('console.log(res.body);', 1);\n        push('});');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.node = void 0;\nvar client_1 = require(\"./axios/client\");\nvar client_2 = require(\"./fetch/client\");\nvar client_3 = require(\"./native/client\");\nvar client_4 = require(\"./request/client\");\nvar client_5 = require(\"./unirest/client\");\nexports.node = {\n    info: {\n        key: 'node',\n        title: 'Node.js',\n        extname: '.js',\n        \"default\": 'native'\n    },\n    clientsById: {\n        native: client_3.native,\n        request: client_4.request,\n        unirest: client_5.unirest,\n        axios: client_1.axios,\n        fetch: client_2.fetch\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.literalRepresentation = exports.nsDeclaration = void 0;\n/**\n * Create a string corresponding to a valid declaration and initialization of an Objective-C object literal.\n *\n * @param nsClass Class of the litteral\n * @param name Desired name of the instance\n * @param parameters Key-value object of parameters to translate to an Objective-C object litearal\n * @param indent If true, will declare the litteral by indenting each new key/value pair.\n * @return A valid Objective-C declaration and initialization of an Objective-C object litteral.\n *\n * @example\n *   nsDeclaration('NSDictionary', 'params', {a: 'b', c: 'd'}, true)\n *   // returns:\n *   NSDictionary *params = @{ @\"a\": @\"b\",\n *                             @\"c\": @\"d\" };\n *\n *   nsDeclaration('NSDictionary', 'params', {a: 'b', c: 'd'})\n *   // returns:\n *   NSDictionary *params = @{ @\"a\": @\"b\", @\"c\": @\"d\" };\n */\nvar nsDeclaration = function (nsClass, name, parameters, indent) {\n    var opening = \"\".concat(nsClass, \" *\").concat(name, \" = \");\n    var literal = (0, exports.literalRepresentation)(parameters, indent ? opening.length : undefined);\n    return \"\".concat(opening).concat(literal, \";\");\n};\nexports.nsDeclaration = nsDeclaration;\n/**\n * Create a valid Objective-C string of a literal value according to its type.\n *\n * @param value Any JavaScript literal\n */\nvar literalRepresentation = function (value, indentation) {\n    var join = indentation === undefined ? ', ' : \",\\n   \".concat(' '.repeat(indentation));\n    switch (Object.prototype.toString.call(value)) {\n        case '[object Number]':\n            return \"@\".concat(value);\n        case '[object Array]': {\n            var valuesRepresentation = value.map(function (value) { return (0, exports.literalRepresentation)(value); });\n            return \"@[ \".concat(valuesRepresentation.join(join), \" ]\");\n        }\n        case '[object Object]': {\n            var keyValuePairs = [];\n            for (var key in value) {\n                keyValuePairs.push(\"@\\\"\".concat(key, \"\\\": \").concat((0, exports.literalRepresentation)(value[key])));\n            }\n            return \"@{ \".concat(keyValuePairs.join(join), \" }\");\n        }\n        case '[object Boolean]':\n            return value ? '@YES' : '@NO';\n        default:\n            if (value === null || value === undefined) {\n                return '';\n            }\n            return \"@\\\"\".concat(value.toString().replace(/\"/g, '\\\\\"'), \"\\\"\");\n    }\n};\nexports.literalRepresentation = literalRepresentation;\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Objective-C using NSURLSession.\n *\n * @author\n * @thibaultCha\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nexports.__esModule = true;\nexports.nsurlsession = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar helpers_1 = require(\"../helpers\");\nexports.nsurlsession = {\n    info: {\n        key: 'nsurlsession',\n        title: 'NSURLSession',\n        link: 'https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html',\n        description: \"Foundation's NSURLSession request\"\n    },\n    convert: function (_a, options) {\n        var _b;\n        var allHeaders = _a.allHeaders, postData = _a.postData, method = _a.method, fullUrl = _a.fullUrl;\n        var opts = __assign({ indent: '    ', pretty: true, timeout: 10 }, options);\n        var _c = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _c.push, join = _c.join, blank = _c.blank;\n        // Markers for headers to be created as literal objects and later be set on the NSURLRequest if exist\n        var req = {\n            hasHeaders: false,\n            hasBody: false\n        };\n        // We just want to make sure people understand that is the only dependency\n        push('#import <Foundation/Foundation.h>');\n        if (Object.keys(allHeaders).length) {\n            req.hasHeaders = true;\n            blank();\n            push((0, helpers_1.nsDeclaration)('NSDictionary', 'headers', allHeaders, opts.pretty));\n        }\n        if (postData.text || postData.jsonObj || postData.params) {\n            req.hasBody = true;\n            switch (postData.mimeType) {\n                case 'application/x-www-form-urlencoded':\n                    if ((_b = postData.params) === null || _b === void 0 ? void 0 : _b.length) {\n                        // By appending parameters one by one in the resulting snippet,\n                        // we make it easier for the user to edit it according to his or her needs after pasting.\n                        // The user can just add/remove lines adding/removing body parameters.\n                        blank();\n                        var _d = __read(postData.params), head = _d[0], tail = _d.slice(1);\n                        push(\"NSMutableData *postData = [[NSMutableData alloc] initWithData:[@\\\"\".concat(head.name, \"=\").concat(head.value, \"\\\" dataUsingEncoding:NSUTF8StringEncoding]];\"));\n                        tail.forEach(function (_a) {\n                            var name = _a.name, value = _a.value;\n                            push(\"[postData appendData:[@\\\"&\".concat(name, \"=\").concat(value, \"\\\" dataUsingEncoding:NSUTF8StringEncoding]];\"));\n                        });\n                    }\n                    else {\n                        req.hasBody = false;\n                    }\n                    break;\n                case 'application/json':\n                    if (postData.jsonObj) {\n                        push((0, helpers_1.nsDeclaration)('NSDictionary', 'parameters', postData.jsonObj, opts.pretty));\n                        blank();\n                        push('NSData *postData = [NSJSONSerialization dataWithJSONObject:parameters options:0 error:nil];');\n                    }\n                    break;\n                case 'multipart/form-data':\n                    // By appending multipart parameters one by one in the resulting snippet,\n                    // we make it easier for the user to edit it according to his or her needs after pasting.\n                    // The user can just edit the parameters NSDictionary or put this part of a snippet in a multipart builder method.\n                    push((0, helpers_1.nsDeclaration)('NSArray', 'parameters', postData.params || [], opts.pretty));\n                    push(\"NSString *boundary = @\\\"\".concat(postData.boundary, \"\\\";\"));\n                    blank();\n                    push('NSError *error;');\n                    push('NSMutableString *body = [NSMutableString string];');\n                    push('for (NSDictionary *param in parameters) {');\n                    push('[body appendFormat:@\"--%@\\\\r\\\\n\", boundary];', 1);\n                    push('if (param[@\"fileName\"]) {', 1);\n                    push('[body appendFormat:@\"Content-Disposition:form-data; name=\\\\\"%@\\\\\"; filename=\\\\\"%@\\\\\"\\\\r\\\\n\", param[@\"name\"], param[@\"fileName\"]];', 2);\n                    push('[body appendFormat:@\"Content-Type: %@\\\\r\\\\n\\\\r\\\\n\", param[@\"contentType\"]];', 2);\n                    push('[body appendFormat:@\"%@\", [NSString stringWithContentsOfFile:param[@\"fileName\"] encoding:NSUTF8StringEncoding error:&error]];', 2);\n                    push('if (error) {', 2);\n                    push('NSLog(@\"%@\", error);', 3);\n                    push('}', 2);\n                    push('} else {', 1);\n                    push('[body appendFormat:@\"Content-Disposition:form-data; name=\\\\\"%@\\\\\"\\\\r\\\\n\\\\r\\\\n\", param[@\"name\"]];', 2);\n                    push('[body appendFormat:@\"%@\", param[@\"value\"]];', 2);\n                    push('}', 1);\n                    push('}');\n                    push('[body appendFormat:@\"\\\\r\\\\n--%@--\\\\r\\\\n\", boundary];');\n                    push('NSData *postData = [body dataUsingEncoding:NSUTF8StringEncoding];');\n                    break;\n                default:\n                    blank();\n                    push(\"NSData *postData = [[NSData alloc] initWithData:[@\\\"\".concat(postData.text, \"\\\" dataUsingEncoding:NSUTF8StringEncoding]];\"));\n            }\n        }\n        blank();\n        push(\"NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@\\\"\".concat(fullUrl, \"\\\"]\"));\n        // NSURLRequestUseProtocolCachePolicy is the default policy, let's just always set it to avoid confusion.\n        push('                                                       cachePolicy:NSURLRequestUseProtocolCachePolicy');\n        push(\"                                                   timeoutInterval:\".concat(opts.timeout.toFixed(1), \"];\"));\n        push(\"[request setHTTPMethod:@\\\"\".concat(method, \"\\\"];\"));\n        if (req.hasHeaders) {\n            push('[request setAllHTTPHeaderFields:headers];');\n        }\n        if (req.hasBody) {\n            push('[request setHTTPBody:postData];');\n        }\n        blank();\n        // Retrieving the shared session will be less verbose than creating a new one.\n        push('NSURLSession *session = [NSURLSession sharedSession];');\n        push('NSURLSessionDataTask *dataTask = [session dataTaskWithRequest:request');\n        push('                                            completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {');\n        push('                                            if (error) {', 1);\n        push('                                            NSLog(@\"%@\", error);', 2);\n        push('                                            } else {', 1);\n        // Casting the NSURLResponse to NSHTTPURLResponse so the user can see the status     .\n        push('                                            NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *) response;', 2);\n        push('                                            NSLog(@\"%@\", httpResponse);', 2);\n        push('                                            }', 1);\n        push('                                            }];');\n        push('[dataTask resume];');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.objc = void 0;\nvar client_1 = require(\"./nsurlsession/client\");\nexports.objc = {\n    info: {\n        key: 'objc',\n        title: 'Objective-C',\n        extname: '.m',\n        \"default\": 'nsurlsession'\n    },\n    clientsById: {\n        nsurlsession: client_1.nsurlsession\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for OCaml using CoHTTP.\n *\n * @author\n * @SGrondin\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.cohttp = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.cohttp = {\n    info: {\n        key: 'cohttp',\n        title: 'CoHTTP',\n        link: 'https://github.com/mirage/ocaml-cohttp',\n        description: 'Cohttp is a very lightweight HTTP server using Lwt or Async for OCaml'\n    },\n    convert: function (_a, options) {\n        var fullUrl = _a.fullUrl, allHeaders = _a.allHeaders, postData = _a.postData, method = _a.method;\n        var opts = __assign({ indent: '  ' }, options);\n        var methods = ['get', 'post', 'head', 'delete', 'patch', 'put', 'options'];\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _b.push, blank = _b.blank, join = _b.join;\n        push('open Cohttp_lwt_unix');\n        push('open Cohttp');\n        push('open Lwt');\n        blank();\n        push(\"let uri = Uri.of_string \\\"\".concat(fullUrl, \"\\\" in\"));\n        // Add headers, including the cookies\n        var headers = Object.keys(allHeaders);\n        if (headers.length === 1) {\n            push(\"let headers = Header.add (Header.init ()) \\\"\".concat(headers[0], \"\\\" \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[headers[0]]), \"\\\" in\"));\n        }\n        else if (headers.length > 1) {\n            push('let headers = Header.add_list (Header.init ()) [');\n            headers.forEach(function (key) {\n                push(\"(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(allHeaders[key]), \"\\\");\"), 1);\n            });\n            push('] in');\n        }\n        // Add body\n        if (postData.text) {\n            // Just text\n            push(\"let body = Cohttp_lwt_body.of_string \".concat(JSON.stringify(postData.text), \" in\"));\n        }\n        // Do the request\n        blank();\n        var h = headers.length ? '~headers ' : '';\n        var b = postData.text ? '~body ' : '';\n        var m = methods.includes(method.toLowerCase())\n            ? \"`\".concat(method.toUpperCase())\n            : \"(Code.method_of_string \\\"\".concat(method, \"\\\")\");\n        push(\"Client.call \".concat(h).concat(b).concat(m, \" uri\"));\n        // Catch result\n        push('>>= fun (res, body_stream) ->');\n        push('(* Do stuff with the result *)', 1);\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.ocaml = void 0;\nvar client_1 = require(\"./cohttp/client\");\nexports.ocaml = {\n    info: {\n        key: 'ocaml',\n        title: 'OCaml',\n        extname: '.ml',\n        \"default\": 'cohttp'\n    },\n    clientsById: {\n        cohttp: client_1.cohttp\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.supportedMethods = exports.convertType = void 0;\nvar escape_1 = require(\"../../helpers/escape\");\nvar convertType = function (obj, indent, lastIndent) {\n    lastIndent = lastIndent || '';\n    indent = indent || '';\n    switch (Object.prototype.toString.call(obj)) {\n        case '[object Null]':\n            return 'null';\n        case '[object Undefined]':\n            return 'null';\n        case '[object String]':\n            return \"'\".concat((0, escape_1.escapeString)(obj, { delimiter: \"'\", escapeNewlines: false }), \"'\");\n        case '[object Number]':\n            return obj.toString();\n        case '[object Array]': {\n            var contents = obj\n                .map(function (item) { return (0, exports.convertType)(item, \"\".concat(indent).concat(indent), indent); })\n                .join(\",\\n\".concat(indent));\n            return \"[\\n\".concat(indent).concat(contents, \"\\n\").concat(lastIndent, \"]\");\n        }\n        case '[object Object]': {\n            var result = [];\n            for (var i in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, i)) {\n                    result.push(\"\".concat((0, exports.convertType)(i, indent), \" => \").concat((0, exports.convertType)(obj[i], \"\".concat(indent).concat(indent), indent)));\n                }\n            }\n            return \"[\\n\".concat(indent).concat(result.join(\",\\n\".concat(indent)), \"\\n\").concat(lastIndent, \"]\");\n        }\n        default:\n            return 'null';\n    }\n};\nexports.convertType = convertType;\nexports.supportedMethods = [\n    'ACL',\n    'BASELINE_CONTROL',\n    'CHECKIN',\n    'CHECKOUT',\n    'CONNECT',\n    'COPY',\n    'DELETE',\n    'GET',\n    'HEAD',\n    'LABEL',\n    'LOCK',\n    'MERGE',\n    'MKACTIVITY',\n    'MKCOL',\n    'MKWORKSPACE',\n    'MOVE',\n    'OPTIONS',\n    'POST',\n    'PROPFIND',\n    'PROPPATCH',\n    'PUT',\n    'REPORT',\n    'TRACE',\n    'UNCHECKOUT',\n    'UNLOCK',\n    'UPDATE',\n    'VERSION_CONTROL',\n];\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for PHP using curl-ext.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nexports.__esModule = true;\nexports.curl = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nvar helpers_1 = require(\"../helpers\");\nexports.curl = {\n    info: {\n        key: 'curl',\n        title: 'cURL',\n        link: 'http://php.net/manual/en/book.curl.php',\n        description: 'PHP with ext-curl'\n    },\n    convert: function (_a, options) {\n        var uriObj = _a.uriObj, postData = _a.postData, fullUrl = _a.fullUrl, method = _a.method, httpVersion = _a.httpVersion, cookies = _a.cookies, headersObj = _a.headersObj;\n        if (options === void 0) { options = {}; }\n        var _b = options.closingTag, closingTag = _b === void 0 ? false : _b, _c = options.indent, indent = _c === void 0 ? '  ' : _c, _d = options.maxRedirects, maxRedirects = _d === void 0 ? 10 : _d, _e = options.namedErrors, namedErrors = _e === void 0 ? false : _e, _f = options.noTags, noTags = _f === void 0 ? false : _f, _g = options.shortTags, shortTags = _g === void 0 ? false : _g, _h = options.timeout, timeout = _h === void 0 ? 30 : _h;\n        var _j = new code_builder_1.CodeBuilder({ indent: indent }), push = _j.push, blank = _j.blank, join = _j.join;\n        if (!noTags) {\n            push(shortTags ? '<?' : '<?php');\n            blank();\n        }\n        push('$curl = curl_init();');\n        blank();\n        var curlOptions = [\n            {\n                escape: true,\n                name: 'CURLOPT_PORT',\n                value: uriObj.port\n            },\n            {\n                escape: true,\n                name: 'CURLOPT_URL',\n                value: fullUrl\n            },\n            {\n                escape: false,\n                name: 'CURLOPT_RETURNTRANSFER',\n                value: 'true'\n            },\n            {\n                escape: true,\n                name: 'CURLOPT_ENCODING',\n                value: ''\n            },\n            {\n                escape: false,\n                name: 'CURLOPT_MAXREDIRS',\n                value: maxRedirects\n            },\n            {\n                escape: false,\n                name: 'CURLOPT_TIMEOUT',\n                value: timeout\n            },\n            {\n                escape: false,\n                name: 'CURLOPT_HTTP_VERSION',\n                value: httpVersion === 'HTTP/1.0' ? 'CURL_HTTP_VERSION_1_0' : 'CURL_HTTP_VERSION_1_1'\n            },\n            {\n                escape: true,\n                name: 'CURLOPT_CUSTOMREQUEST',\n                value: method\n            },\n            {\n                escape: !postData.jsonObj,\n                name: 'CURLOPT_POSTFIELDS',\n                value: postData\n                    ? postData.jsonObj\n                        ? \"json_encode(\".concat((0, helpers_1.convertType)(postData.jsonObj, indent.repeat(2), indent), \")\")\n                        : postData.text\n                    : undefined\n            },\n        ];\n        push('curl_setopt_array($curl, [');\n        var curlopts = new code_builder_1.CodeBuilder({ indent: indent, join: \"\\n\".concat(indent) });\n        curlOptions.forEach(function (_a) {\n            var value = _a.value, name = _a.name, escape = _a.escape;\n            if (value !== null && value !== undefined) {\n                curlopts.push(\"\".concat(name, \" => \").concat(escape ? JSON.stringify(value) : value, \",\"));\n            }\n        });\n        // construct cookies\n        var curlCookies = cookies.map(function (cookie) { return \"\".concat(encodeURIComponent(cookie.name), \"=\").concat(encodeURIComponent(cookie.value)); });\n        if (curlCookies.length) {\n            curlopts.push(\"CURLOPT_COOKIE => \\\"\".concat(curlCookies.join('; '), \"\\\",\"));\n        }\n        // construct cookies\n        var headers = Object.keys(headersObj)\n            .sort()\n            .map(function (key) { return \"\\\"\".concat(key, \": \").concat((0, escape_1.escapeForDoubleQuotes)(headersObj[key]), \"\\\"\"); });\n        if (headers.length) {\n            curlopts.push('CURLOPT_HTTPHEADER => [');\n            curlopts.push(headers.join(\",\\n\".concat(indent).concat(indent)), 1);\n            curlopts.push('],');\n        }\n        push(curlopts.join(), 1);\n        push(']);');\n        blank();\n        push('$response = curl_exec($curl);');\n        push('$err = curl_error($curl);');\n        blank();\n        push('curl_close($curl);');\n        blank();\n        push('if ($err) {');\n        if (namedErrors) {\n            push('echo array_flip(get_defined_constants(true)[\"curl\"])[$err];', 1);\n        }\n        else {\n            push('echo \"cURL Error #:\" . $err;', 1);\n        }\n        push('} else {');\n        push('echo $response;', 1);\n        push('}');\n        if (!noTags && closingTag) {\n            blank();\n            push('?>');\n        }\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for PHP using Guzzle.\n *\n * @author @RobertoArruda\n * @author @erunion\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.guzzle = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nvar headers_1 = require(\"../../../helpers/headers\");\nvar helpers_1 = require(\"../helpers\");\nexports.guzzle = {\n    info: {\n        key: 'guzzle',\n        title: 'Guzzle',\n        link: 'http://docs.guzzlephp.org/en/stable/',\n        description: 'PHP with Guzzle'\n    },\n    convert: function (_a, options) {\n        var _b;\n        var postData = _a.postData, fullUrl = _a.fullUrl, method = _a.method, cookies = _a.cookies, headersObj = _a.headersObj;\n        var opts = __assign({ closingTag: false, indent: '  ', noTags: false, shortTags: false }, options);\n        var _c = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _c.push, blank = _c.blank, join = _c.join;\n        var _d = new code_builder_1.CodeBuilder({ indent: opts.indent }), requestCode = _d.code, requestPush = _d.push, requestJoin = _d.join;\n        if (!opts.noTags) {\n            push(opts.shortTags ? '<?' : '<?php');\n            blank();\n        }\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                requestPush(\"'form_params' => \".concat((0, helpers_1.convertType)(postData.paramsObj, opts.indent + opts.indent, opts.indent), \",\"), 1);\n                break;\n            case 'multipart/form-data': {\n                var fields_1 = [];\n                if (postData.params) {\n                    postData.params.forEach(function (param) {\n                        if (param.fileName) {\n                            var field = {\n                                name: param.name,\n                                filename: param.fileName,\n                                contents: param.value\n                            };\n                            if (param.contentType) {\n                                field.headers = { 'Content-Type': param.contentType };\n                            }\n                            fields_1.push(field);\n                        }\n                        else if (param.value) {\n                            fields_1.push({\n                                name: param.name,\n                                contents: param.value\n                            });\n                        }\n                    });\n                }\n                if (fields_1.length) {\n                    requestPush(\"'multipart' => \".concat((0, helpers_1.convertType)(fields_1, opts.indent + opts.indent, opts.indent)), 1);\n                    // Guzzle adds its own boundary for multipart requests.\n                    if ((0, headers_1.hasHeader)(headersObj, 'content-type')) {\n                        if ((_b = (0, headers_1.getHeader)(headersObj, 'content-type')) === null || _b === void 0 ? void 0 : _b.indexOf('boundary')) {\n                            var headerName = (0, headers_1.getHeaderName)(headersObj, 'content-type');\n                            if (headerName) {\n                                delete headersObj[headerName];\n                            }\n                        }\n                    }\n                }\n                break;\n            }\n            default:\n                if (postData.text) {\n                    requestPush(\"'body' => \".concat((0, helpers_1.convertType)(postData.text), \",\"), 1);\n                }\n        }\n        // construct headers\n        var headers = Object.keys(headersObj)\n            .sort()\n            .map(function (key) {\n            return \"\".concat(opts.indent).concat(opts.indent, \"'\").concat(key, \"' => '\").concat((0, escape_1.escapeForSingleQuotes)(headersObj[key]), \"',\");\n        });\n        // construct cookies\n        var cookieString = cookies\n            .map(function (cookie) { return \"\".concat(encodeURIComponent(cookie.name), \"=\").concat(encodeURIComponent(cookie.value)); })\n            .join('; ');\n        if (cookieString.length) {\n            headers.push(\"\".concat(opts.indent).concat(opts.indent, \"'cookie' => '\").concat((0, escape_1.escapeForSingleQuotes)(cookieString), \"',\"));\n        }\n        if (headers.length) {\n            requestPush(\"'headers' => [\", 1);\n            requestPush(headers.join('\\n'));\n            requestPush('],', 1);\n        }\n        push('$client = new \\\\GuzzleHttp\\\\Client();');\n        blank();\n        if (requestCode.length) {\n            push(\"$response = $client->request('\".concat(method, \"', '\").concat(fullUrl, \"', [\"));\n            push(requestJoin());\n            push(']);');\n        }\n        else {\n            push(\"$response = $client->request('\".concat(method, \"', '\").concat(fullUrl, \"');\"));\n        }\n        blank();\n        push('echo $response->getBody();');\n        if (!opts.noTags && opts.closingTag) {\n            blank();\n            push('?>');\n        }\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for PHP using curl-ext.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nexports.__esModule = true;\nexports.http1 = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar helpers_1 = require(\"../helpers\");\nexports.http1 = {\n    info: {\n        key: 'http1',\n        title: 'HTTP v1',\n        link: 'http://php.net/manual/en/book.http.php',\n        description: 'PHP with pecl/http v1'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, url = _a.url, postData = _a.postData, queryObj = _a.queryObj, headersObj = _a.headersObj, cookiesObj = _a.cookiesObj;\n        if (options === void 0) { options = {}; }\n        var _b = options.closingTag, closingTag = _b === void 0 ? false : _b, _c = options.indent, indent = _c === void 0 ? '  ' : _c, _d = options.noTags, noTags = _d === void 0 ? false : _d, _e = options.shortTags, shortTags = _e === void 0 ? false : _e;\n        var _f = new code_builder_1.CodeBuilder({ indent: indent }), push = _f.push, blank = _f.blank, join = _f.join;\n        if (!noTags) {\n            push(shortTags ? '<?' : '<?php');\n            blank();\n        }\n        if (!helpers_1.supportedMethods.includes(method.toUpperCase())) {\n            push(\"HttpRequest::methodRegister('\".concat(method, \"');\"));\n        }\n        push('$request = new HttpRequest();');\n        push(\"$request->setUrl(\".concat((0, helpers_1.convertType)(url), \");\"));\n        if (helpers_1.supportedMethods.includes(method.toUpperCase())) {\n            push(\"$request->setMethod(HTTP_METH_\".concat(method.toUpperCase(), \");\"));\n        }\n        else {\n            push(\"$request->setMethod(HttpRequest::HTTP_METH_\".concat(method.toUpperCase(), \");\"));\n        }\n        blank();\n        if (Object.keys(queryObj).length) {\n            push(\"$request->setQueryData(\".concat((0, helpers_1.convertType)(queryObj, indent), \");\"));\n            blank();\n        }\n        if (Object.keys(headersObj).length) {\n            push(\"$request->setHeaders(\".concat((0, helpers_1.convertType)(headersObj, indent), \");\"));\n            blank();\n        }\n        if (Object.keys(cookiesObj).length) {\n            push(\"$request->setCookies(\".concat((0, helpers_1.convertType)(cookiesObj, indent), \");\"));\n            blank();\n        }\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                push(\"$request->setContentType(\".concat((0, helpers_1.convertType)(postData.mimeType), \");\"));\n                push(\"$request->setPostFields(\".concat((0, helpers_1.convertType)(postData.paramsObj, indent), \");\"));\n                blank();\n                break;\n            case 'application/json':\n                push(\"$request->setContentType(\".concat((0, helpers_1.convertType)(postData.mimeType), \");\"));\n                push(\"$request->setBody(json_encode(\".concat((0, helpers_1.convertType)(postData.jsonObj, indent), \"));\"));\n                blank();\n                break;\n            default:\n                if (postData.text) {\n                    push(\"$request->setBody(\".concat((0, helpers_1.convertType)(postData.text), \");\"));\n                    blank();\n                }\n        }\n        push('try {');\n        push('$response = $request->send();', 1);\n        blank();\n        push('echo $response->getBody();', 1);\n        push('} catch (HttpException $ex) {');\n        push('echo $ex;', 1);\n        push('}');\n        if (!noTags && closingTag) {\n            blank();\n            push('?>');\n        }\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for PHP using curl-ext.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nexports.__esModule = true;\nexports.http2 = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar headers_1 = require(\"../../../helpers/headers\");\nvar helpers_1 = require(\"../helpers\");\nexports.http2 = {\n    info: {\n        key: 'http2',\n        title: 'HTTP v2',\n        link: 'http://devel-m6w6.rhcloud.com/mdref/http',\n        description: 'PHP with pecl/http v2'\n    },\n    convert: function (_a, options) {\n        var _b;\n        var postData = _a.postData, headersObj = _a.headersObj, method = _a.method, queryObj = _a.queryObj, cookiesObj = _a.cookiesObj, url = _a.url;\n        if (options === void 0) { options = {}; }\n        var _c = options.closingTag, closingTag = _c === void 0 ? false : _c, _d = options.indent, indent = _d === void 0 ? '  ' : _d, _e = options.noTags, noTags = _e === void 0 ? false : _e, _f = options.shortTags, shortTags = _f === void 0 ? false : _f;\n        var _g = new code_builder_1.CodeBuilder({ indent: indent }), push = _g.push, blank = _g.blank, join = _g.join;\n        var hasBody = false;\n        if (!noTags) {\n            push(shortTags ? '<?' : '<?php');\n            blank();\n        }\n        push('$client = new http\\\\Client;');\n        push('$request = new http\\\\Client\\\\Request;');\n        blank();\n        switch (postData.mimeType) {\n            case 'application/x-www-form-urlencoded':\n                push('$body = new http\\\\Message\\\\Body;');\n                push(\"$body->append(new http\\\\QueryString(\".concat((0, helpers_1.convertType)(postData.paramsObj, indent), \"));\"));\n                blank();\n                hasBody = true;\n                break;\n            case 'multipart/form-data': {\n                if (!postData.params) {\n                    break;\n                }\n                var files_1 = [];\n                var fields_1 = {};\n                postData.params.forEach(function (_a) {\n                    var name = _a.name, fileName = _a.fileName, value = _a.value, contentType = _a.contentType;\n                    if (fileName) {\n                        files_1.push({\n                            name: name,\n                            type: contentType,\n                            file: fileName,\n                            data: value\n                        });\n                        return;\n                    }\n                    if (value) {\n                        fields_1[name] = value;\n                    }\n                });\n                var field = Object.keys(fields_1).length ? (0, helpers_1.convertType)(fields_1, indent) : 'null';\n                var formValue = files_1.length ? (0, helpers_1.convertType)(files_1, indent) : 'null';\n                push('$body = new http\\\\Message\\\\Body;');\n                push(\"$body->addForm(\".concat(field, \", \").concat(formValue, \");\"));\n                // remove the contentType header\n                if ((0, headers_1.hasHeader)(headersObj, 'content-type')) {\n                    if ((_b = (0, headers_1.getHeader)(headersObj, 'content-type')) === null || _b === void 0 ? void 0 : _b.indexOf('boundary')) {\n                        var headerName = (0, headers_1.getHeaderName)(headersObj, 'content-type');\n                        if (headerName) {\n                            delete headersObj[headerName];\n                        }\n                    }\n                }\n                blank();\n                hasBody = true;\n                break;\n            }\n            case 'application/json':\n                push('$body = new http\\\\Message\\\\Body;');\n                push(\"$body->append(json_encode(\".concat((0, helpers_1.convertType)(postData.jsonObj, indent), \"));\"));\n                hasBody = true;\n                break;\n            default:\n                if (postData.text) {\n                    push('$body = new http\\\\Message\\\\Body;');\n                    push(\"$body->append(\".concat((0, helpers_1.convertType)(postData.text), \");\"));\n                    blank();\n                    hasBody = true;\n                }\n        }\n        push(\"$request->setRequestUrl(\".concat((0, helpers_1.convertType)(url), \");\"));\n        push(\"$request->setRequestMethod(\".concat((0, helpers_1.convertType)(method), \");\"));\n        if (hasBody) {\n            push('$request->setBody($body);');\n            blank();\n        }\n        if (Object.keys(queryObj).length) {\n            push(\"$request->setQuery(new http\\\\QueryString(\".concat((0, helpers_1.convertType)(queryObj, indent), \"));\"));\n            blank();\n        }\n        if (Object.keys(headersObj).length) {\n            push(\"$request->setHeaders(\".concat((0, helpers_1.convertType)(headersObj, indent), \");\"));\n            blank();\n        }\n        if (Object.keys(cookiesObj).length) {\n            blank();\n            push(\"$client->setCookies(\".concat((0, helpers_1.convertType)(cookiesObj, indent), \");\"));\n            blank();\n        }\n        push('$client->enqueue($request)->send();');\n        push('$response = $client->getResponse();');\n        blank();\n        push('echo $response->getBody();');\n        if (!noTags && closingTag) {\n            blank();\n            push('?>');\n        }\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.php = void 0;\nvar client_1 = require(\"./curl/client\");\nvar client_2 = require(\"./guzzle/client\");\nvar client_3 = require(\"./http1/client\");\nvar client_4 = require(\"./http2/client\");\nexports.php = {\n    info: {\n        key: 'php',\n        title: 'PHP',\n        extname: '.php',\n        \"default\": 'curl'\n    },\n    clientsById: {\n        curl: client_1.curl,\n        guzzle: client_2.guzzle,\n        http1: client_3.http1,\n        http2: client_4.http2\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.generatePowershellConvert = void 0;\nvar code_builder_1 = require(\"../../helpers/code-builder\");\nvar escape_1 = require(\"../../helpers/escape\");\nvar headers_1 = require(\"../../helpers/headers\");\nvar generatePowershellConvert = function (command) {\n    var convert = function (_a) {\n        var method = _a.method, headersObj = _a.headersObj, cookies = _a.cookies, uriObj = _a.uriObj, fullUrl = _a.fullUrl, postData = _a.postData, allHeaders = _a.allHeaders;\n        var _b = new code_builder_1.CodeBuilder(), push = _b.push, join = _b.join;\n        var methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD', 'OPTIONS'];\n        if (!methods.includes(method.toUpperCase())) {\n            return 'Method not supported';\n        }\n        var commandOptions = [];\n        // Add headers, including the cookies\n        var headers = Object.keys(headersObj);\n        // construct headers\n        if (headers.length) {\n            push('$headers=@{}');\n            headers.forEach(function (key) {\n                if (key !== 'connection') {\n                    // Not allowed\n                    push(\"$headers.Add(\\\"\".concat(key, \"\\\", \\\"\").concat((0, escape_1.escapeString)(headersObj[key], { escapeChar: '`' }), \"\\\")\"));\n                }\n            });\n            commandOptions.push('-Headers $headers');\n        }\n        // construct cookies\n        if (cookies.length) {\n            push('$session = New-Object Microsoft.PowerShell.Commands.WebRequestSession');\n            cookies.forEach(function (cookie) {\n                push('$cookie = New-Object System.Net.Cookie');\n                push(\"$cookie.Name = '\".concat(cookie.name, \"'\"));\n                push(\"$cookie.Value = '\".concat(cookie.value, \"'\"));\n                push(\"$cookie.Domain = '\".concat(uriObj.host, \"'\"));\n                push('$session.Cookies.Add($cookie)');\n            });\n            commandOptions.push('-WebSession $session');\n        }\n        if (postData.text) {\n            commandOptions.push(\"-ContentType '\".concat((0, escape_1.escapeString)((0, headers_1.getHeader)(allHeaders, 'content-type'), { delimiter: \"'\", escapeChar: '`' }), \"'\"));\n            commandOptions.push(\"-Body '\".concat(postData.text, \"'\"));\n        }\n        push(\"$response = \".concat(command, \" -Uri '\").concat(fullUrl, \"' -Method \").concat(method, \" \").concat(commandOptions.join(' ')));\n        return join();\n    };\n    return convert;\n};\nexports.generatePowershellConvert = generatePowershellConvert;\n","\"use strict\";\nexports.__esModule = true;\nexports.restmethod = void 0;\nvar common_1 = require(\"../common\");\nexports.restmethod = {\n    info: {\n        key: 'restmethod',\n        title: 'Invoke-RestMethod',\n        link: 'https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-RestMethod',\n        description: 'Powershell Invoke-RestMethod client'\n    },\n    convert: (0, common_1.generatePowershellConvert)('Invoke-RestMethod')\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.webrequest = void 0;\nvar common_1 = require(\"../common\");\nexports.webrequest = {\n    info: {\n        key: 'webrequest',\n        title: 'Invoke-WebRequest',\n        link: 'https://docs.microsoft.com/en-us/powershell/module/Microsoft.PowerShell.Utility/Invoke-WebRequest',\n        description: 'Powershell Invoke-WebRequest client'\n    },\n    convert: (0, common_1.generatePowershellConvert)('Invoke-WebRequest')\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.powershell = void 0;\nvar client_1 = require(\"./restmethod/client\");\nvar client_2 = require(\"./webrequest/client\");\nexports.powershell = {\n    info: {\n        key: 'powershell',\n        title: 'Powershell',\n        extname: '.ps1',\n        \"default\": 'webrequest'\n    },\n    clientsById: {\n        webrequest: client_2.webrequest,\n        restmethod: client_1.restmethod\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for native Python3.\n *\n * @author\n * @montanaflynn\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nexports.__esModule = true;\nexports.python3 = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.python3 = {\n    info: {\n        key: 'python3',\n        title: 'http.client',\n        link: 'https://docs.python.org/3/library/http.client.html',\n        description: 'Python3 HTTP Client'\n    },\n    convert: function (_a, options) {\n        var _b = _a.uriObj, path = _b.path, protocol = _b.protocol, host = _b.host, postData = _a.postData, allHeaders = _a.allHeaders, method = _a.method;\n        if (options === void 0) { options = {}; }\n        var _c = options.insecureSkipVerify, insecureSkipVerify = _c === void 0 ? false : _c;\n        var _d = new code_builder_1.CodeBuilder(), push = _d.push, blank = _d.blank, join = _d.join;\n        // Start Request\n        push('import http.client');\n        if (insecureSkipVerify) {\n            push('import ssl');\n        }\n        blank();\n        // Check which protocol to be used for the client connection\n        if (protocol === 'https:') {\n            var sslContext = insecureSkipVerify ? ', context = ssl._create_unverified_context()' : '';\n            push(\"conn = http.client.HTTPSConnection(\\\"\".concat(host, \"\\\"\").concat(sslContext, \")\"));\n            blank();\n        }\n        else {\n            push(\"conn = http.client.HTTPConnection(\\\"\".concat(host, \"\\\")\"));\n            blank();\n        }\n        // Create payload string if it exists\n        var payload = JSON.stringify(postData.text);\n        if (payload) {\n            push(\"payload = \".concat(payload));\n            blank();\n        }\n        // Create Headers\n        var headers = allHeaders;\n        var headerCount = Object.keys(headers).length;\n        if (headerCount === 1) {\n            for (var header in headers) {\n                push(\"headers = { '\".concat(header, \"': \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(headers[header]), \"\\\" }\"));\n                blank();\n            }\n        }\n        else if (headerCount > 1) {\n            var count = 1;\n            push('headers = {');\n            for (var header in headers) {\n                if (count++ !== headerCount) {\n                    push(\"    '\".concat(header, \"': \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(headers[header]), \"\\\",\"));\n                }\n                else {\n                    push(\"    '\".concat(header, \"': \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(headers[header]), \"\\\"\"));\n                }\n            }\n            push('}');\n            blank();\n        }\n        // Make Request\n        if (payload && headerCount) {\n            push(\"conn.request(\\\"\".concat(method, \"\\\", \\\"\").concat(path, \"\\\", payload, headers)\"));\n        }\n        else if (payload && !headerCount) {\n            push(\"conn.request(\\\"\".concat(method, \"\\\", \\\"\").concat(path, \"\\\", payload)\"));\n        }\n        else if (!payload && headerCount) {\n            push(\"conn.request(\\\"\".concat(method, \"\\\", \\\"\").concat(path, \"\\\", headers=headers)\"));\n        }\n        else {\n            push(\"conn.request(\\\"\".concat(method, \"\\\", \\\"\").concat(path, \"\\\")\"));\n        }\n        // Get Response\n        blank();\n        push('res = conn.getresponse()');\n        push('data = res.read()');\n        blank();\n        push('print(data.decode(\"utf-8\"))');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.literalRepresentation = void 0;\n/**\n * Create a string corresponding to a Dictionary or Array literal representation with pretty option\n * and indentation.\n */\nfunction concatValues(concatType, values, pretty, indentation, indentLevel) {\n    var currentIndent = indentation.repeat(indentLevel);\n    var closingBraceIndent = indentation.repeat(indentLevel - 1);\n    var join = pretty ? \",\\n\".concat(currentIndent) : ', ';\n    var openingBrace = concatType === 'object' ? '{' : '[';\n    var closingBrace = concatType === 'object' ? '}' : ']';\n    if (pretty) {\n        return \"\".concat(openingBrace, \"\\n\").concat(currentIndent).concat(values.join(join), \"\\n\").concat(closingBraceIndent).concat(closingBrace);\n    }\n    if (concatType === 'object' && values.length > 0) {\n        return \"\".concat(openingBrace, \" \").concat(values.join(join), \" \").concat(closingBrace);\n    }\n    return \"\".concat(openingBrace).concat(values.join(join)).concat(closingBrace);\n}\n/**\n * Create a valid Python string of a literal value according to its type.\n *\n * @param {*} value Any JavaScript literal\n * @param {Object} opts Target options\n * @return {string}\n */\nvar literalRepresentation = function (value, opts, indentLevel) {\n    indentLevel = indentLevel === undefined ? 1 : indentLevel + 1;\n    switch (Object.prototype.toString.call(value)) {\n        case '[object Number]':\n            return value;\n        case '[object Array]': {\n            var pretty_1 = false;\n            var valuesRepresentation = value.map(function (v) {\n                // Switch to prettify if the value is a dictionary with multiple keys\n                if (Object.prototype.toString.call(v) === '[object Object]') {\n                    pretty_1 = Object.keys(v).length > 1;\n                }\n                return (0, exports.literalRepresentation)(v, opts, indentLevel);\n            });\n            return concatValues('array', valuesRepresentation, pretty_1, opts.indent, indentLevel);\n        }\n        case '[object Object]': {\n            var keyValuePairs = [];\n            for (var key in value) {\n                keyValuePairs.push(\"\\\"\".concat(key, \"\\\": \").concat((0, exports.literalRepresentation)(value[key], opts, indentLevel)));\n            }\n            return concatValues('object', keyValuePairs, opts.pretty && keyValuePairs.length > 1, opts.indent, indentLevel);\n        }\n        case '[object Null]':\n            return 'None';\n        case '[object Boolean]':\n            return value ? 'True' : 'False';\n        default:\n            if (value === null || value === undefined) {\n                return '';\n            }\n            return \"\\\"\".concat(value.toString().replace(/\"/g, '\\\\\"'), \"\\\"\");\n    }\n};\nexports.literalRepresentation = literalRepresentation;\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Python using Requests\n *\n * @author\n * @montanaflynn\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.requests = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nvar headers_1 = require(\"../../../helpers/headers\");\nvar helpers_1 = require(\"../helpers\");\nvar builtInMethods = ['HEAD', 'GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'];\nexports.requests = {\n    info: {\n        key: 'requests',\n        title: 'Requests',\n        link: 'http://docs.python-requests.org/en/latest/api/#requests.request',\n        description: 'Requests HTTP library'\n    },\n    convert: function (_a, options) {\n        var queryObj = _a.queryObj, url = _a.url, postData = _a.postData, allHeaders = _a.allHeaders, method = _a.method;\n        var opts = __assign({ indent: '    ', pretty: true }, options);\n        // Start snippet\n        var _b = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _b.push, blank = _b.blank, join = _b.join;\n        // Import requests\n        push('import requests');\n        blank();\n        // Set URL\n        push(\"url = \\\"\".concat(url, \"\\\"\"));\n        blank();\n        // Construct query string\n        var qs;\n        if (Object.keys(queryObj).length) {\n            qs = \"querystring = \".concat(JSON.stringify(queryObj));\n            push(qs);\n            blank();\n        }\n        var headers = allHeaders;\n        // Construct payload\n        var payload = {};\n        var files = {};\n        var hasFiles = false;\n        var hasPayload = false;\n        var jsonPayload = false;\n        switch (postData.mimeType) {\n            case 'application/json':\n                if (postData.jsonObj) {\n                    push(\"payload = \".concat((0, helpers_1.literalRepresentation)(postData.jsonObj, opts)));\n                    jsonPayload = true;\n                    hasPayload = true;\n                }\n                break;\n            case 'multipart/form-data':\n                if (!postData.params) {\n                    break;\n                }\n                payload = {};\n                postData.params.forEach(function (p) {\n                    if (p.fileName) {\n                        files[p.name] = \"open('\".concat(p.fileName, \"', 'rb')\");\n                        hasFiles = true;\n                    }\n                    else {\n                        payload[p.name] = p.value;\n                        hasPayload = true;\n                    }\n                });\n                if (hasFiles) {\n                    push(\"files = \".concat((0, helpers_1.literalRepresentation)(files, opts)));\n                    if (hasPayload) {\n                        push(\"payload = \".concat((0, helpers_1.literalRepresentation)(payload, opts)));\n                    }\n                    // The requests library will only automatically add a `multipart/form-data` header if there are files being sent. If we're **only** sending form data we still need to send the boundary ourselves.\n                    var headerName = (0, headers_1.getHeaderName)(headers, 'content-type');\n                    if (headerName) {\n                        delete headers[headerName];\n                    }\n                }\n                else {\n                    var nonFilePayload = JSON.stringify(postData.text);\n                    if (nonFilePayload) {\n                        push(\"payload = \".concat(nonFilePayload));\n                        hasPayload = true;\n                    }\n                }\n                break;\n            default: {\n                if (postData.mimeType === 'application/x-www-form-urlencoded' && postData.paramsObj) {\n                    push(\"payload = \".concat((0, helpers_1.literalRepresentation)(postData.paramsObj, opts)));\n                    hasPayload = true;\n                    break;\n                }\n                var payload_1 = JSON.stringify(postData.text);\n                if (payload_1) {\n                    push(\"payload = \".concat(payload_1));\n                    hasPayload = true;\n                }\n            }\n        }\n        // Construct headers\n        var headerCount = Object.keys(headers).length;\n        if (headerCount === 0 && (hasPayload || hasFiles)) {\n            // If we don't have any heads but we do have a payload we should put a blank line here between that payload consturction and our execution of the requests library.\n            blank();\n        }\n        else if (headerCount === 1) {\n            for (var header in headers) {\n                push(\"headers = {\\\"\".concat(header, \"\\\": \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(headers[header]), \"\\\"}\"));\n                blank();\n            }\n        }\n        else if (headerCount > 1) {\n            var count = 1;\n            push('headers = {');\n            for (var header in headers) {\n                if (count !== headerCount) {\n                    push(\"\\\"\".concat(header, \"\\\": \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(headers[header]), \"\\\",\"), 1);\n                }\n                else {\n                    push(\"\\\"\".concat(header, \"\\\": \\\"\").concat((0, escape_1.escapeForDoubleQuotes)(headers[header]), \"\\\"\"), 1);\n                }\n                count += 1;\n            }\n            push('}');\n            blank();\n        }\n        // Construct request\n        var request = builtInMethods.includes(method)\n            ? \"response = requests.\".concat(method.toLowerCase(), \"(url\")\n            : \"response = requests.request(\\\"\".concat(method, \"\\\", url\");\n        if (hasPayload) {\n            if (jsonPayload) {\n                request += ', json=payload';\n            }\n            else {\n                request += ', data=payload';\n            }\n        }\n        if (hasFiles) {\n            request += ', files=files';\n        }\n        if (headerCount > 0) {\n            request += ', headers=headers';\n        }\n        if (qs) {\n            request += ', params=querystring';\n        }\n        request += ')';\n        push(request);\n        blank();\n        // Print response\n        push('print(response.json())');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.python = void 0;\nvar client_1 = require(\"./python3/client\");\nvar client_2 = require(\"./requests/client\");\nexports.python = {\n    info: {\n        key: 'python',\n        title: 'Python',\n        extname: '.py',\n        \"default\": 'python3'\n    },\n    clientsById: {\n        python3: client_1.python3,\n        requests: client_2.requests\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for R using httr\n *\n * @author\n * @gabrielakoreeda\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nexports.__esModule = true;\nexports.httr = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nvar headers_1 = require(\"../../../helpers/headers\");\nexports.httr = {\n    info: {\n        key: 'httr',\n        title: 'httr',\n        link: 'https://cran.r-project.org/web/packages/httr/vignettes/quickstart.html',\n        description: 'httr: Tools for Working with URLs and HTTP'\n    },\n    convert: function (_a, options) {\n        var _b;\n        var url = _a.url, queryObj = _a.queryObj, queryString = _a.queryString, postData = _a.postData, allHeaders = _a.allHeaders, method = _a.method;\n        if (options === void 0) { options = {}; }\n        // Start snippet\n        var _c = new code_builder_1.CodeBuilder({\n            indent: (_b = options.indent) !== null && _b !== void 0 ? _b : '  '\n        }), push = _c.push, blank = _c.blank, join = _c.join;\n        // Import httr\n        push('library(httr)');\n        blank();\n        // Set URL\n        push(\"url <- \\\"\".concat(url, \"\\\"\"));\n        blank();\n        // Construct query string\n        var qs = queryObj;\n        delete queryObj.key;\n        var entries = Object.entries(qs);\n        var entriesCount = entries.length;\n        if (entriesCount === 1) {\n            var entry = entries[0];\n            push(\"queryString <- list(\".concat(entry[0], \" = \\\"\").concat(entry[1], \"\\\")\"));\n            blank();\n        }\n        else if (entriesCount > 1) {\n            push('queryString <- list(');\n            entries.forEach(function (_a, i) {\n                var _b = __read(_a, 2), key = _b[0], value = _b[1];\n                var isLastItem = i !== entriesCount - 1;\n                var maybeComma = isLastItem ? ',' : '';\n                push(\"\".concat(key, \" = \\\"\").concat(value, \"\\\"\").concat(maybeComma), 1);\n            });\n            push(')');\n            blank();\n        }\n        // Construct payload\n        var payload = JSON.stringify(postData.text);\n        if (payload) {\n            push(\"payload <- \".concat(payload));\n            blank();\n        }\n        // Define encode\n        if (postData.text || postData.jsonObj || postData.params) {\n            switch (postData.mimeType) {\n                case 'application/x-www-form-urlencoded':\n                    push('encode <- \"form\"');\n                    blank();\n                    break;\n                case 'application/json':\n                    push('encode <- \"json\"');\n                    blank();\n                    break;\n                case 'multipart/form-data':\n                    push('encode <- \"multipart\"');\n                    blank();\n                    break;\n                default:\n                    push('encode <- \"raw\"');\n                    blank();\n                    break;\n            }\n        }\n        // Construct headers\n        var cookieHeader = (0, headers_1.getHeader)(allHeaders, 'cookie');\n        var acceptHeader = (0, headers_1.getHeader)(allHeaders, 'accept');\n        var setCookies = cookieHeader\n            ? \"set_cookies(`\".concat(String(cookieHeader)\n                .replace(/;/g, '\", `')\n                .replace(/` /g, '`')\n                .replace(/[=]/g, '` = \"'), \"\\\")\")\n            : undefined;\n        var setAccept = acceptHeader\n            ? \"accept(\\\"\".concat((0, escape_1.escapeForDoubleQuotes)(acceptHeader), \"\\\")\")\n            : undefined;\n        var setContentType = \"content_type(\\\"\".concat((0, escape_1.escapeForDoubleQuotes)(postData.mimeType), \"\\\")\");\n        var otherHeaders = Object.entries(allHeaders)\n            // These headers are all handled separately:\n            .filter(function (_a) {\n            var _b = __read(_a, 1), key = _b[0];\n            return !['cookie', 'accept', 'content-type'].includes(key.toLowerCase());\n        })\n            .map(function (_a) {\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\n            return \"'\".concat(key, \"' = '\").concat((0, escape_1.escapeForSingleQuotes)(value), \"'\");\n        })\n            .join(', ');\n        var setHeaders = otherHeaders\n            ? \"add_headers(\".concat(otherHeaders, \")\")\n            : undefined;\n        // Construct request\n        var request = \"response <- VERB(\\\"\".concat(method, \"\\\", url\");\n        if (payload) {\n            request += ', body = payload';\n        }\n        if (queryString.length) {\n            request += ', query = queryString';\n        }\n        var headerAdditions = [setHeaders, setContentType, setAccept, setCookies].filter(function (x) { return !!x; }).join(', ');\n        if (headerAdditions) {\n            request += ', ' + headerAdditions;\n        }\n        if (postData.text || postData.jsonObj || postData.params) {\n            request += ', encode = encode';\n        }\n        request += ')';\n        push(request);\n        blank();\n        // Print response\n        push('content(response, \"text\")');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.r = void 0;\nvar client_1 = require(\"./httr/client\");\nexports.r = {\n    info: {\n        key: 'r',\n        title: 'R',\n        extname: '.r',\n        \"default\": 'httr'\n    },\n    clientsById: {\n        httr: client_1.httr\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.native = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar escape_1 = require(\"../../../helpers/escape\");\nexports.native = {\n    info: {\n        key: 'native',\n        title: 'net::http',\n        link: 'http://ruby-doc.org/stdlib-2.2.1/libdoc/net/http/rdoc/Net/HTTP.html',\n        description: 'Ruby HTTP client'\n    },\n    convert: function (_a, options) {\n        var uriObj = _a.uriObj, rawMethod = _a.method, fullUrl = _a.fullUrl, postData = _a.postData, allHeaders = _a.allHeaders;\n        if (options === void 0) { options = {}; }\n        var _b = options.insecureSkipVerify, insecureSkipVerify = _b === void 0 ? false : _b;\n        var _c = new code_builder_1.CodeBuilder(), push = _c.push, blank = _c.blank, join = _c.join;\n        push(\"require 'uri'\");\n        push(\"require 'net/http'\");\n        blank();\n        // To support custom methods we check for the supported methods\n        // and if doesn't exist then we build a custom class for it\n        var method = rawMethod.toUpperCase();\n        var methods = [\n            'GET',\n            'POST',\n            'HEAD',\n            'DELETE',\n            'PATCH',\n            'PUT',\n            'OPTIONS',\n            'COPY',\n            'LOCK',\n            'UNLOCK',\n            'MOVE',\n            'TRACE',\n        ];\n        var capMethod = method.charAt(0) + method.substring(1).toLowerCase();\n        if (!methods.includes(method)) {\n            push(\"class Net::HTTP::\".concat(capMethod, \" < Net::HTTPRequest\"));\n            push(\"  METHOD = '\".concat(method.toUpperCase(), \"'\"));\n            push(\"  REQUEST_HAS_BODY = '\".concat(postData.text ? 'true' : 'false', \"'\"));\n            push('  RESPONSE_HAS_BODY = true');\n            push('end');\n            blank();\n        }\n        push(\"url = URI(\\\"\".concat(fullUrl, \"\\\")\"));\n        blank();\n        push('http = Net::HTTP.new(url.host, url.port)');\n        if (uriObj.protocol === 'https:') {\n            push('http.use_ssl = true');\n            if (insecureSkipVerify) {\n                push('http.verify_mode = OpenSSL::SSL::VERIFY_NONE');\n            }\n        }\n        blank();\n        push(\"request = Net::HTTP::\".concat(capMethod, \".new(url)\"));\n        var headers = Object.keys(allHeaders);\n        if (headers.length) {\n            headers.forEach(function (key) {\n                push(\"request[\\\"\".concat(key, \"\\\"] = '\").concat((0, escape_1.escapeForSingleQuotes)(allHeaders[key]), \"'\"));\n            });\n        }\n        if (postData.text) {\n            push(\"request.body = \".concat(JSON.stringify(postData.text)));\n        }\n        blank();\n        push('response = http.request(request)');\n        push('puts response.read_body');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.ruby = void 0;\nvar client_1 = require(\"./native/client\");\nexports.ruby = {\n    info: {\n        key: 'ruby',\n        title: 'Ruby',\n        extname: '.rb',\n        \"default\": 'native'\n    },\n    clientsById: {\n        native: client_1.native\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.escape = exports.quote = void 0;\n/**\n * Use 'strong quoting' using single quotes so that we only need to deal with nested single quote characters.\n * see: http://wiki.bash-hackers.org/syntax/quoting#strong_quoting\n */\nvar quote = function (value) {\n    if (value === void 0) { value = ''; }\n    var safe = /^[a-z0-9-_/.@%^=:]+$/i;\n    var isShellSafe = safe.test(value);\n    if (isShellSafe) {\n        return value;\n    }\n    // if the value is not shell safe, then quote it\n    return \"'\".concat(value.replace(/'/g, \"'\\\\''\"), \"'\");\n};\nexports.quote = quote;\nvar escape = function (value) { return value.replace(/\\r/g, '\\\\r').replace(/\\n/g, '\\\\n'); };\nexports.escape = escape;\n","\"use strict\";\n/**\n * @description\n *\n * HTTP code snippet generator for the Shell using cURL.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.curl = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar headers_1 = require(\"../../../helpers/headers\");\nvar shell_1 = require(\"../../../helpers/shell\");\n/**\n * This is a const record with keys that correspond to the long names and values that correspond to the short names for cURL arguments.\n */\nvar params = {\n    'http1.0': '0',\n    'url ': '',\n    cookie: 'b',\n    data: 'd',\n    form: 'F',\n    globoff: 'g',\n    header: 'H',\n    insecure: 'k',\n    request: 'X'\n};\nvar getArg = function (short) { return function (longName) {\n    if (short) {\n        var shortName = params[longName];\n        if (!shortName) {\n            return '';\n        }\n        return \"-\".concat(shortName);\n    }\n    return \"--\".concat(longName);\n}; };\nexports.curl = {\n    info: {\n        key: 'curl',\n        title: 'cURL',\n        link: 'http://curl.haxx.se/',\n        description: 'cURL is a command line tool and library for transferring data with URL syntax'\n    },\n    convert: function (_a, options) {\n        var _b;\n        var fullUrl = _a.fullUrl, method = _a.method, httpVersion = _a.httpVersion, headersObj = _a.headersObj, allHeaders = _a.allHeaders, postData = _a.postData;\n        if (options === void 0) { options = {}; }\n        var _c = options.binary, binary = _c === void 0 ? false : _c, _d = options.globOff, globOff = _d === void 0 ? false : _d, _e = options.indent, indent = _e === void 0 ? '  ' : _e, _f = options.insecureSkipVerify, insecureSkipVerify = _f === void 0 ? false : _f, _g = options.prettifyJson, prettifyJson = _g === void 0 ? false : _g, _h = options.short, short = _h === void 0 ? false : _h;\n        var _j = new code_builder_1.CodeBuilder(__assign(__assign({}, (typeof indent === 'string' ? { indent: indent } : {})), { join: indent !== false ? \" \\\\\\n\".concat(indent) : ' ' })), push = _j.push, join = _j.join;\n        var arg = getArg(short);\n        var formattedUrl = (0, shell_1.quote)(fullUrl);\n        push(\"curl \".concat(arg('request'), \" \").concat(method));\n        if (globOff) {\n            formattedUrl = unescape(formattedUrl);\n            push(arg('globoff'));\n        }\n        push(\"\".concat(arg('url ')).concat(formattedUrl));\n        if (insecureSkipVerify) {\n            push(arg('insecure'));\n        }\n        if (httpVersion === 'HTTP/1.0') {\n            push(arg('http1.0'));\n        }\n        if ((0, headers_1.getHeader)(allHeaders, 'accept-encoding')) {\n            // note: there is no shorthand for this cURL option\n            push('--compressed');\n        }\n        // if multipart form data, we want to remove the boundary\n        if (postData.mimeType === 'multipart/form-data') {\n            var contentTypeHeaderName = (0, headers_1.getHeaderName)(headersObj, 'content-type');\n            if (contentTypeHeaderName) {\n                var contentTypeHeader = headersObj[contentTypeHeaderName];\n                if (contentTypeHeaderName && contentTypeHeader) {\n                    // remove the leading semi colon and boundary\n                    // up to the next semi colon or the end of string\n                    // @ts-expect-error it is a reality that the headersObj can have values which are string arrays.  This is a genuine bug that this case isn't handled or tested.  It is, however tested in `reducer.test.ts`.  Go check that out to see more.\n                    var noBoundary = contentTypeHeader.replace(/; boundary.+?(?=(;|$))/, '');\n                    // replace the content-type header with no boundary in both headersObj and allHeaders\n                    headersObj[contentTypeHeaderName] = noBoundary;\n                    allHeaders[contentTypeHeaderName] = noBoundary;\n                }\n            }\n        }\n        // construct headers\n        Object.keys(headersObj)\n            .sort()\n            .forEach(function (key) {\n            var header = \"\".concat(key, \": \").concat(headersObj[key]);\n            push(\"\".concat(arg('header'), \" \").concat((0, shell_1.quote)(header)));\n        });\n        if (allHeaders.cookie) {\n            push(\"\".concat(arg('cookie'), \" \").concat((0, shell_1.quote)(allHeaders.cookie)));\n        }\n        // construct post params\n        switch (postData.mimeType) {\n            case 'multipart/form-data':\n                (_b = postData.params) === null || _b === void 0 ? void 0 : _b.forEach(function (param) {\n                    var post = '';\n                    if (param.fileName) {\n                        post = \"\".concat(param.name, \"=@\").concat(param.fileName);\n                    }\n                    else {\n                        post = \"\".concat(param.name, \"=\").concat(param.value);\n                    }\n                    push(\"\".concat(arg('form'), \" \").concat((0, shell_1.quote)(post)));\n                });\n                break;\n            case 'application/x-www-form-urlencoded':\n                if (postData.params) {\n                    postData.params.forEach(function (param) {\n                        var unencoded = param.name;\n                        var encoded = encodeURIComponent(param.name);\n                        var needsEncoding = encoded !== unencoded;\n                        var name = needsEncoding ? encoded : unencoded;\n                        var flag = binary ? '--data-binary' : \"--data\".concat(needsEncoding ? '-urlencode' : '');\n                        push(\"\".concat(flag, \" \").concat((0, shell_1.quote)(\"\".concat(name, \"=\").concat(param.value))));\n                    });\n                }\n                else {\n                    push(\"\".concat(binary ? '--data-binary' : arg('data'), \" \").concat((0, shell_1.quote)(postData.text)));\n                }\n                break;\n            default: {\n                // raw request body\n                if (!postData.text) {\n                    break;\n                }\n                var flag = binary ? '--data-binary' : arg('data');\n                var builtPayload = false;\n                // If we're dealing with a JSON variant, and our payload is JSON let's make it look a little nicer.\n                if ((0, headers_1.isMimeTypeJSON)(postData.mimeType)) {\n                    // If our postData is less than 20 characters, let's keep it all on one line so as to not make the snippet overly lengthy.\n                    var couldBeJSON = postData.text.length > 2;\n                    if (couldBeJSON && prettifyJson) {\n                        try {\n                            var jsonPayload = JSON.parse(postData.text);\n                            // If the JSON object has a single quote we should prepare it inside of a HEREDOC because the single quote in something like `string's` can't be escaped when used with `--data`.\n                            //\n                            // Basically this boils down to `--data @- <<EOF...EOF` vs `--data '...'`.\n                            builtPayload = true;\n                            var payload = JSON.stringify(jsonPayload, undefined, indent);\n                            if (postData.text.indexOf(\"'\") > 0) {\n                                push(\"\".concat(flag, \" @- <<EOF\\n\").concat(payload, \"\\nEOF\"));\n                            }\n                            else {\n                                push(\"\".concat(flag, \" '\\n\").concat(payload, \"\\n'\"));\n                            }\n                        }\n                        catch (err) {\n                            // no-op\n                        }\n                    }\n                }\n                if (!builtPayload) {\n                    push(\"\".concat(flag, \" \").concat((0, shell_1.quote)(postData.text)));\n                }\n            }\n        }\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for the Shell using HTTPie.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.httpie = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar shell_1 = require(\"../../../helpers/shell\");\nexports.httpie = {\n    info: {\n        key: 'httpie',\n        title: 'HTTPie',\n        link: 'http://httpie.org/',\n        description: 'a CLI, cURL-like tool for humans'\n    },\n    convert: function (_a, options) {\n        var allHeaders = _a.allHeaders, postData = _a.postData, queryObj = _a.queryObj, fullUrl = _a.fullUrl, method = _a.method, url = _a.url;\n        var opts = __assign({ body: false, cert: false, headers: false, indent: '  ', pretty: false, print: false, queryParams: false, short: false, style: false, timeout: false, verbose: false, verify: false }, options);\n        var _b = new code_builder_1.CodeBuilder({\n            indent: opts.indent,\n            // @ts-expect-error SEEMS LEGIT\n            join: opts.indent !== false ? \" \\\\\\n\".concat(opts.indent) : ' '\n        }), push = _b.push, join = _b.join, unshift = _b.unshift;\n        var raw = false;\n        var flags = [];\n        if (opts.headers) {\n            flags.push(opts.short ? '-h' : '--headers');\n        }\n        if (opts.body) {\n            flags.push(opts.short ? '-b' : '--body');\n        }\n        if (opts.verbose) {\n            flags.push(opts.short ? '-v' : '--verbose');\n        }\n        if (opts.print) {\n            flags.push(\"\".concat(opts.short ? '-p' : '--print', \"=\").concat(opts.print));\n        }\n        if (opts.verify) {\n            flags.push(\"--verify=\".concat(opts.verify));\n        }\n        if (opts.cert) {\n            flags.push(\"--cert=\".concat(opts.cert));\n        }\n        if (opts.pretty) {\n            flags.push(\"--pretty=\".concat(opts.pretty));\n        }\n        if (opts.style) {\n            flags.push(\"--style=\".concat(opts.style));\n        }\n        if (opts.timeout) {\n            flags.push(\"--timeout=\".concat(opts.timeout));\n        }\n        // construct query params\n        if (opts.queryParams) {\n            Object.keys(queryObj).forEach(function (name) {\n                var value = queryObj[name];\n                if (Array.isArray(value)) {\n                    value.forEach(function (val) {\n                        push(\"\".concat(name, \"==\").concat((0, shell_1.quote)(val)));\n                    });\n                }\n                else {\n                    push(\"\".concat(name, \"==\").concat((0, shell_1.quote)(value)));\n                }\n            });\n        }\n        // construct headers\n        Object.keys(allHeaders)\n            .sort()\n            .forEach(function (key) {\n            push(\"\".concat(key, \":\").concat((0, shell_1.quote)(allHeaders[key])));\n        });\n        if (postData.mimeType === 'application/x-www-form-urlencoded') {\n            // construct post params\n            if (postData.params && postData.params.length) {\n                flags.push(opts.short ? '-f' : '--form');\n                postData.params.forEach(function (param) {\n                    push(\"\".concat(param.name, \"=\").concat((0, shell_1.quote)(param.value)));\n                });\n            }\n        }\n        else {\n            raw = true;\n        }\n        var cliFlags = flags.length ? \"\".concat(flags.join(' '), \" \") : '';\n        url = (0, shell_1.quote)(opts.queryParams ? url : fullUrl);\n        unshift(\"http \".concat(cliFlags).concat(method, \" \").concat(url));\n        if (raw && postData.text) {\n            var postDataText = (0, shell_1.quote)(postData.text);\n            unshift(\"echo \".concat(postDataText, \" | \"));\n        }\n        return join();\n    }\n};\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for the Shell using Wget.\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.wget = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar shell_1 = require(\"../../../helpers/shell\");\nexports.wget = {\n    info: {\n        key: 'wget',\n        title: 'Wget',\n        link: 'https://www.gnu.org/software/wget/',\n        description: 'a free software package for retrieving files using HTTP, HTTPS'\n    },\n    convert: function (_a, options) {\n        var method = _a.method, postData = _a.postData, allHeaders = _a.allHeaders, fullUrl = _a.fullUrl;\n        var opts = __assign({ indent: '  ', short: false, verbose: false }, options);\n        var _b = new code_builder_1.CodeBuilder({\n            indent: opts.indent,\n            // @ts-expect-error SEEMS LEGIT\n            join: opts.indent !== false ? \" \\\\\\n\".concat(opts.indent) : ' '\n        }), push = _b.push, join = _b.join;\n        if (opts.verbose) {\n            push(\"wget \".concat(opts.short ? '-v' : '--verbose'));\n        }\n        else {\n            push(\"wget \".concat(opts.short ? '-q' : '--quiet'));\n        }\n        push(\"--method \".concat((0, shell_1.quote)(method)));\n        Object.keys(allHeaders).forEach(function (key) {\n            var header = \"\".concat(key, \": \").concat(allHeaders[key]);\n            push(\"--header \".concat((0, shell_1.quote)(header)));\n        });\n        if (postData.text) {\n            push(\"--body-data \".concat((0, shell_1.escape)((0, shell_1.quote)(postData.text))));\n        }\n        push(opts.short ? '-O' : '--output-document');\n        push(\"- \".concat((0, shell_1.quote)(fullUrl)));\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.shell = void 0;\nvar client_1 = require(\"./curl/client\");\nvar client_2 = require(\"./httpie/client\");\nvar client_3 = require(\"./wget/client\");\nexports.shell = {\n    info: {\n        key: 'shell',\n        title: 'Shell',\n        extname: '.sh',\n        \"default\": 'curl'\n    },\n    clientsById: {\n        curl: client_1.curl,\n        httpie: client_2.httpie,\n        wget: client_3.wget\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.literalRepresentation = exports.literalDeclaration = void 0;\n/**\n * Create an string of given length filled with blank spaces\n *\n * @param length Length of the array to return\n * @param str String to pad out with\n */\nvar buildString = function (length, str) { return str.repeat(length); };\n/**\n * Create a string corresponding to a Dictionary or Array literal representation with pretty option and indentation.\n */\nvar concatArray = function (arr, pretty, indentation, indentLevel) {\n    var currentIndent = buildString(indentLevel, indentation);\n    var closingBraceIndent = buildString(indentLevel - 1, indentation);\n    var join = pretty ? \",\\n\".concat(currentIndent) : ', ';\n    if (pretty) {\n        return \"[\\n\".concat(currentIndent).concat(arr.join(join), \"\\n\").concat(closingBraceIndent, \"]\");\n    }\n    return \"[\".concat(arr.join(join), \"]\");\n};\n/**\n * Create a string corresponding to a valid declaration and initialization of a Swift array or dictionary literal\n *\n * @param name Desired name of the instance\n * @param parameters Key-value object of parameters to translate to a Swift object litearal\n * @param opts Target options\n * @return {string}\n */\nvar literalDeclaration = function (name, parameters, opts) {\n    return \"let \".concat(name, \" = \").concat((0, exports.literalRepresentation)(parameters, opts));\n};\nexports.literalDeclaration = literalDeclaration;\n/**\n * Create a valid Swift string of a literal value according to its type.\n *\n * @param value Any JavaScript literal\n * @param opts Target options\n */\nvar literalRepresentation = function (value, opts, indentLevel) {\n    indentLevel = indentLevel === undefined ? 1 : indentLevel + 1;\n    switch (Object.prototype.toString.call(value)) {\n        case '[object Number]':\n            return value;\n        case '[object Array]': {\n            // Don't prettify arrays nto not take too much space\n            var pretty_1 = false;\n            var valuesRepresentation = value.map(function (v) {\n                // Switch to prettify if the value is a dictionary with multiple keys\n                if (Object.prototype.toString.call(v) === '[object Object]') {\n                    pretty_1 = Object.keys(v).length > 1;\n                }\n                return (0, exports.literalRepresentation)(v, opts, indentLevel);\n            });\n            // @ts-expect-error needs better types\n            return concatArray(valuesRepresentation, pretty_1, opts.indent, indentLevel);\n        }\n        case '[object Object]': {\n            var keyValuePairs = [];\n            for (var key in value) {\n                keyValuePairs.push(\"\\\"\".concat(key, \"\\\": \").concat((0, exports.literalRepresentation)(value[key], opts, indentLevel)));\n            }\n            return concatArray(keyValuePairs, \n            // @ts-expect-error needs better types\n            opts.pretty && keyValuePairs.length > 1, \n            // @ts-expect-error needs better types\n            opts.indent, indentLevel);\n        }\n        case '[object Boolean]':\n            return value.toString();\n        default:\n            if (value === null || value === undefined) {\n                return '';\n            }\n            return \"\\\"\".concat(value.toString().replace(/\"/g, '\\\\\"'), \"\\\"\");\n    }\n};\nexports.literalRepresentation = literalRepresentation;\n","\"use strict\";\n/**\n * @description\n * HTTP code snippet generator for Swift using NSURLSession.\n *\n * @author\n * @thibaultCha\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nexports.__esModule = true;\nexports.nsurlsession = void 0;\nvar code_builder_1 = require(\"../../../helpers/code-builder\");\nvar helpers_1 = require(\"../helpers\");\nexports.nsurlsession = {\n    info: {\n        key: 'nsurlsession',\n        title: 'NSURLSession',\n        link: 'https://developer.apple.com/library/mac/documentation/Foundation/Reference/NSURLSession_class/index.html',\n        description: \"Foundation's NSURLSession request\"\n    },\n    convert: function (_a, options) {\n        var _b;\n        var allHeaders = _a.allHeaders, postData = _a.postData, fullUrl = _a.fullUrl, method = _a.method;\n        var opts = __assign({ indent: '  ', pretty: true, timeout: '10' }, options);\n        var _c = new code_builder_1.CodeBuilder({ indent: opts.indent }), push = _c.push, blank = _c.blank, join = _c.join;\n        // Markers for headers to be created as litteral objects and later be set on the NSURLRequest if exist\n        var req = {\n            hasHeaders: false,\n            hasBody: false\n        };\n        // We just want to make sure people understand that is the only dependency\n        push('import Foundation');\n        if (Object.keys(allHeaders).length) {\n            req.hasHeaders = true;\n            blank();\n            push((0, helpers_1.literalDeclaration)('headers', allHeaders, opts));\n        }\n        if (postData.text || postData.jsonObj || postData.params) {\n            req.hasBody = true;\n            switch (postData.mimeType) {\n                case 'application/x-www-form-urlencoded':\n                    // By appending parameters one by one in the resulting snippet,\n                    // we make it easier for the user to edit it according to his or her needs after pasting.\n                    // The user can just add/remove lines adding/removing body parameters.\n                    blank();\n                    if ((_b = postData.params) === null || _b === void 0 ? void 0 : _b.length) {\n                        var _d = __read(postData.params), head = _d[0], tail = _d.slice(1);\n                        push(\"let postData = NSMutableData(data: \\\"\".concat(head.name, \"=\").concat(head.value, \"\\\".data(using: String.Encoding.utf8)!)\"));\n                        tail.forEach(function (_a) {\n                            var name = _a.name, value = _a.value;\n                            push(\"postData.append(\\\"&\".concat(name, \"=\").concat(value, \"\\\".data(using: String.Encoding.utf8)!)\"));\n                        });\n                    }\n                    else {\n                        req.hasBody = false;\n                    }\n                    break;\n                case 'application/json':\n                    if (postData.jsonObj) {\n                        push(\"\".concat((0, helpers_1.literalDeclaration)('parameters', postData.jsonObj, opts), \" as [String : Any]\"));\n                        blank();\n                        push('let postData = JSONSerialization.data(withJSONObject: parameters, options: [])');\n                    }\n                    break;\n                case 'multipart/form-data':\n                    /**\n                     * By appending multipart parameters one by one in the resulting snippet,\n                     * we make it easier for the user to edit it according to his or her needs after pasting.\n                     * The user can just edit the parameters NSDictionary or put this part of a snippet in a multipart builder method.\n                     */\n                    push((0, helpers_1.literalDeclaration)('parameters', postData.params, opts));\n                    blank();\n                    push(\"let boundary = \\\"\".concat(postData.boundary, \"\\\"\"));\n                    blank();\n                    push('var body = \"\"');\n                    push('var error: NSError? = nil');\n                    push('for param in parameters {');\n                    push('let paramName = param[\"name\"]!', 1);\n                    push('body += \"--\\\\(boundary)\\\\r\\\\n\"', 1);\n                    push('body += \"Content-Disposition:form-data; name=\\\\\"\\\\(paramName)\\\\\"\"', 1);\n                    push('if let filename = param[\"fileName\"] {', 1);\n                    push('let contentType = param[\"content-type\"]!', 2);\n                    push('let fileContent = String(contentsOfFile: filename, encoding: String.Encoding.utf8)', 2);\n                    push('if (error != nil) {', 2);\n                    push('print(error as Any)', 3);\n                    push('}', 2);\n                    push('body += \"; filename=\\\\\"\\\\(filename)\\\\\"\\\\r\\\\n\"', 2);\n                    push('body += \"Content-Type: \\\\(contentType)\\\\r\\\\n\\\\r\\\\n\"', 2);\n                    push('body += fileContent', 2);\n                    push('} else if let paramValue = param[\"value\"] {', 1);\n                    push('body += \"\\\\r\\\\n\\\\r\\\\n\\\\(paramValue)\"', 2);\n                    push('}', 1);\n                    push('}');\n                    break;\n                default:\n                    blank();\n                    push(\"let postData = NSData(data: \\\"\".concat(postData.text, \"\\\".data(using: String.Encoding.utf8)!)\"));\n            }\n        }\n        blank();\n        // NSURLRequestUseProtocolCachePolicy is the default policy, let's just always set it to avoid confusion.\n        push(\"let request = NSMutableURLRequest(url: NSURL(string: \\\"\".concat(fullUrl, \"\\\")! as URL,\"));\n        push('                                        cachePolicy: .useProtocolCachePolicy,');\n        push(\n        // @ts-expect-error needs better types\n        \"                                    timeoutInterval: \".concat(parseInt(opts.timeout, 10).toFixed(1), \")\"));\n        push(\"request.httpMethod = \\\"\".concat(method, \"\\\"\"));\n        if (req.hasHeaders) {\n            push('request.allHTTPHeaderFields = headers');\n        }\n        if (req.hasBody) {\n            push('request.httpBody = postData as Data');\n        }\n        blank();\n        // Retrieving the shared session will be less verbose than creating a new one.\n        push('let session = URLSession.shared');\n        push('let dataTask = session.dataTask(with: request as URLRequest, completionHandler: { (data, response, error) -> Void in');\n        push('if (error != nil) {', 1);\n        push('print(error as Any)', 2);\n        push('} else {', 1); // Casting the NSURLResponse to NSHTTPURLResponse so the user can see the status     .\n        push('let httpResponse = response as? HTTPURLResponse', 2);\n        push('print(httpResponse)', 2);\n        push('}', 1);\n        push('})');\n        blank();\n        push('dataTask.resume()');\n        return join();\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.swift = void 0;\nvar client_1 = require(\"./nsurlsession/client\");\nexports.swift = {\n    info: {\n        key: 'swift',\n        title: 'Swift',\n        extname: '.swift',\n        \"default\": 'nsurlsession'\n    },\n    clientsById: {\n        nsurlsession: client_1.nsurlsession\n    }\n};\n","\"use strict\";\nexports.__esModule = true;\nexports.addTargetClient = exports.isClient = exports.addTarget = exports.isTarget = exports.targets = void 0;\nvar target_1 = require(\"./c/target\");\nvar target_2 = require(\"./clojure/target\");\nvar target_3 = require(\"./csharp/target\");\nvar target_4 = require(\"./go/target\");\nvar target_5 = require(\"./http/target\");\nvar target_6 = require(\"./java/target\");\nvar target_7 = require(\"./javascript/target\");\nvar target_8 = require(\"./kotlin/target\");\nvar target_9 = require(\"./node/target\");\nvar target_10 = require(\"./objc/target\");\nvar target_11 = require(\"./ocaml/target\");\nvar target_12 = require(\"./php/target\");\nvar target_13 = require(\"./powershell/target\");\nvar target_14 = require(\"./python/target\");\nvar target_15 = require(\"./r/target\");\nvar target_16 = require(\"./ruby/target\");\nvar target_17 = require(\"./shell/target\");\nvar target_18 = require(\"./swift/target\");\nexports.targets = {\n    c: target_1.c,\n    clojure: target_2.clojure,\n    csharp: target_3.csharp,\n    go: target_4.go,\n    http: target_5.http,\n    java: target_6.java,\n    javascript: target_7.javascript,\n    kotlin: target_8.kotlin,\n    node: target_9.node,\n    objc: target_10.objc,\n    ocaml: target_11.ocaml,\n    php: target_12.php,\n    powershell: target_13.powershell,\n    python: target_14.python,\n    r: target_15.r,\n    ruby: target_16.ruby,\n    shell: target_17.shell,\n    swift: target_18.swift\n};\nvar isTarget = function (target) {\n    if (typeof target !== 'object' || target === null || Array.isArray(target)) {\n        var got = target === null ? 'null' : Array.isArray(target) ? 'array' : typeof target;\n        throw new Error(\"you tried to add a target which is not an object, got type: \\\"\".concat(got, \"\\\"\"));\n    }\n    if (!Object.prototype.hasOwnProperty.call(target, 'info')) {\n        throw new Error('targets must contain an `info` object');\n    }\n    if (!Object.prototype.hasOwnProperty.call(target.info, 'key')) {\n        throw new Error('targets must have an `info` object with the property `key`');\n    }\n    if (!target.info.key) {\n        throw new Error('target key must be a unique string');\n    }\n    if (Object.prototype.hasOwnProperty.call(exports.targets, target.info.key)) {\n        throw new Error(\"a target already exists with this key, `\".concat(target.info.key, \"`\"));\n    }\n    if (!Object.prototype.hasOwnProperty.call(target.info, 'title')) {\n        throw new Error('targets must have an `info` object with the property `title`');\n    }\n    if (!target.info.title) {\n        throw new Error('target title must be a non-zero-length string');\n    }\n    if (!Object.prototype.hasOwnProperty.call(target.info, 'extname')) {\n        throw new Error('targets must have an `info` object with the property `extname`');\n    }\n    if (!Object.prototype.hasOwnProperty.call(target, 'clientsById') ||\n        !target.clientsById ||\n        Object.keys(target.clientsById).length === 0) {\n        throw new Error(\"No clients provided in target \".concat(target.info.key, \".  You must provide the property `clientsById` containg your clients.\"));\n    }\n    if (!Object.prototype.hasOwnProperty.call(target.info, 'default')) {\n        throw new Error('targets must have an `info` object with the property `default`');\n    }\n    if (!Object.prototype.hasOwnProperty.call(target.clientsById, target.info[\"default\"])) {\n        throw new Error(\"target \".concat(target.info.key, \" is configured with a default client \").concat(target.info[\"default\"], \", but no such client was found in the property `clientsById` (found \").concat(JSON.stringify(Object.keys(target.clientsById)), \")\"));\n    }\n    Object.values(target.clientsById).forEach(exports.isClient);\n    return true;\n};\nexports.isTarget = isTarget;\nvar addTarget = function (target) {\n    if (!(0, exports.isTarget)(target)) {\n        return;\n    }\n    exports.targets[target.info.key] = target;\n};\nexports.addTarget = addTarget;\nvar isClient = function (client) {\n    if (!client) {\n        throw new Error('clients must be objects');\n    }\n    if (!Object.prototype.hasOwnProperty.call(client, 'info')) {\n        throw new Error('targets client must contain an `info` object');\n    }\n    if (!Object.prototype.hasOwnProperty.call(client.info, 'key')) {\n        throw new Error('targets client must have an `info` object with property `key`');\n    }\n    if (!client.info.key) {\n        throw new Error('client.info.key must contain an identifier unique to this target');\n    }\n    if (!Object.prototype.hasOwnProperty.call(client.info, 'title')) {\n        throw new Error('targets client must have an `info` object with property `title`');\n    }\n    if (!Object.prototype.hasOwnProperty.call(client.info, 'description')) {\n        throw new Error('targets client must have an `info` object with property `description`');\n    }\n    if (!Object.prototype.hasOwnProperty.call(client.info, 'link')) {\n        throw new Error('targets client must have an `info` object with property `link`');\n    }\n    if (!Object.prototype.hasOwnProperty.call(client, 'convert') ||\n        typeof client.convert !== 'function') {\n        throw new Error('targets client must have a `convert` property containing a conversion function');\n    }\n    return true;\n};\nexports.isClient = isClient;\nvar addTargetClient = function (targetId, client) {\n    if (!(0, exports.isClient)(client)) {\n        return;\n    }\n    if (!Object.prototype.hasOwnProperty.call(exports.targets, targetId)) {\n        throw new Error(\"Sorry, but no \".concat(targetId, \" target exists to add clients to\"));\n    }\n    if (Object.prototype.hasOwnProperty.call(exports.targets[targetId], client.info.key)) {\n        throw new Error(\"the target \".concat(targetId, \" already has a client with the key \").concat(client.info.key, \", please use a different key\"));\n    }\n    exports.targets[targetId].clientsById[client.info.key] = client;\n};\nexports.addTargetClient = addTargetClient;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nexports.extname = exports.availableTargets = void 0;\nvar targets_1 = require(\"../targets/targets\");\nvar availableTargets = function () {\n    return Object.keys(targets_1.targets).map(function (targetId) { return (__assign(__assign({}, targets_1.targets[targetId].info), { clients: Object.keys(targets_1.targets[targetId].clientsById).map(function (clientId) { return targets_1.targets[targetId].clientsById[clientId].info; }) })); });\n};\nexports.availableTargets = availableTargets;\nvar extname = function (targetId) { var _a; return ((_a = targets_1.targets[targetId]) === null || _a === void 0 ? void 0 : _a.info.extname) || ''; };\nexports.extname = extname;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nexports.__esModule = true;\nexports.HTTPSnippet = exports.addTargetClient = exports.addTarget = exports.extname = exports.availableTargets = void 0;\nvar event_stream_1 = require(\"event-stream\");\nvar form_data_1 = __importDefault(require(\"form-data\"));\nvar querystring_1 = require(\"querystring\");\nvar url_1 = require(\"url\");\nvar form_data_2 = require(\"./helpers/form-data\");\nvar har_validator_1 = require(\"./helpers/har-validator\");\nvar headers_1 = require(\"./helpers/headers\");\nvar reducer_1 = require(\"./helpers/reducer\");\nvar targets_1 = require(\"./targets/targets\");\nvar utils_1 = require(\"./helpers/utils\");\n__createBinding(exports, utils_1, \"availableTargets\");\n__createBinding(exports, utils_1, \"extname\");\nvar targets_2 = require(\"./targets/targets\");\n__createBinding(exports, targets_2, \"addTarget\");\n__createBinding(exports, targets_2, \"addTargetClient\");\nvar DEBUG_MODE = false;\nvar debug = {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function -- intentional noop\n    info: DEBUG_MODE ? console.info : function () { }\n};\nvar isHarEntry = function (value) {\n    return typeof value === 'object' &&\n        'log' in value &&\n        typeof value.log === 'object' &&\n        'entries' in value.log &&\n        Array.isArray(value.log.entries);\n};\nvar HTTPSnippet = /** @class */ (function () {\n    function HTTPSnippet(input) {\n        var _this = this;\n        this.requests = [];\n        this.prepare = function (harRequest) {\n            var e_1, _a;\n            var _b, _c, _d;\n            var request = __assign(__assign({}, harRequest), { fullUrl: '', uriObj: {}, queryObj: {}, headersObj: {}, cookiesObj: {}, allHeaders: {} });\n            // construct query objects\n            if (request.queryString && request.queryString.length) {\n                debug.info('queryString found, constructing queryString pair map');\n                request.queryObj = request.queryString.reduce(reducer_1.reducer, {});\n            }\n            // construct headers objects\n            if (request.headers && request.headers.length) {\n                var http2VersionRegex_1 = /^HTTP\\/2/;\n                request.headersObj = request.headers.reduce(function (accumulator, _a) {\n                    var _b;\n                    var name = _a.name, value = _a.value;\n                    var headerName = http2VersionRegex_1.exec(request.httpVersion)\n                        ? name.toLocaleLowerCase()\n                        : name;\n                    return __assign(__assign({}, accumulator), (_b = {}, _b[headerName] = value, _b));\n                }, {});\n            }\n            // construct headers objects\n            if (request.cookies && request.cookies.length) {\n                request.cookiesObj = request.cookies.reduceRight(function (accumulator, _a) {\n                    var _b;\n                    var name = _a.name, value = _a.value;\n                    return (__assign(__assign({}, accumulator), (_b = {}, _b[name] = value, _b)));\n                }, {});\n            }\n            // construct Cookie header\n            var cookies = (_b = request.cookies) === null || _b === void 0 ? void 0 : _b.map(function (_a) {\n                var name = _a.name, value = _a.value;\n                return \"\".concat(encodeURIComponent(name), \"=\").concat(encodeURIComponent(value));\n            });\n            if (cookies === null || cookies === void 0 ? void 0 : cookies.length) {\n                request.allHeaders.cookie = cookies.join('; ');\n            }\n            switch (request.postData.mimeType) {\n                case 'multipart/mixed':\n                case 'multipart/related':\n                case 'multipart/form-data':\n                case 'multipart/alternative':\n                    // reset values\n                    request.postData.text = '';\n                    request.postData.mimeType = 'multipart/form-data';\n                    if ((_c = request.postData) === null || _c === void 0 ? void 0 : _c.params) {\n                        var form_1 = new form_data_1[\"default\"]();\n                        // The `form-data` module returns one of two things: a native FormData object, or its own polyfill\n                        // Since the polyfill does not support the full API of the native FormData object, when this library is running in a browser environment it'll fail on two things:\n                        //\n                        //  1. The API for `form.append()` has three arguments and the third should only be present when the second is a\n                        //    Blob or USVString.\n                        //  1. `FormData.pipe()` isn't a function.\n                        //\n                        // Since the native FormData object is iterable, we easily detect what version of `form-data` we're working with here to allow `multipart/form-data` requests to be compiled under both browser and Node environments.\n                        //\n                        // This hack is pretty awful but it's the only way we can use this library in the browser as if we code this against just the native FormData object, we can't polyfill that back into Node because Blob and File objects, which something like `formdata-polyfill` requires, don't exist there.\n                        // @ts-expect-error TODO\n                        var isNativeFormData_1 = typeof form_1[Symbol.iterator] === 'function';\n                        // TODO: THIS ABSOLUTELY MUST BE REMOVED.\n                        // IT BREAKS SOME USE-CASES FOR MULTIPART FORMS THAT DEPEND ON BEING ABLE TO SET THE BOUNDARY.\n                        // easter egg\n                        var boundary = '---011000010111000001101001'; // this is binary for \"api\". yep.\n                        if (!isNativeFormData_1) {\n                            // @ts-expect-error THIS IS WRONG.  VERY WRONG.\n                            form_1._boundary = boundary;\n                        }\n                        (_d = request.postData) === null || _d === void 0 ? void 0 : _d.params.forEach(function (param) {\n                            var name = param.name;\n                            var value = param.value || '';\n                            var filename = param.fileName || null;\n                            if (isNativeFormData_1) {\n                                if ((0, form_data_2.isBlob)(value)) {\n                                    // @ts-expect-error TODO\n                                    form_1.append(name, value, filename);\n                                }\n                                else {\n                                    form_1.append(name, value);\n                                }\n                            }\n                            else {\n                                form_1.append(name, value, {\n                                    // @ts-expect-error TODO\n                                    filename: filename,\n                                    // @ts-expect-error TODO\n                                    contentType: param.contentType || null\n                                });\n                            }\n                        });\n                        if (isNativeFormData_1) {\n                            try {\n                                for (var _e = __values((0, form_data_2.formDataIterator)(form_1, boundary)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                                    var data_1 = _f.value;\n                                    request.postData.text += data_1;\n                                }\n                            }\n                            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                            finally {\n                                try {\n                                    if (_f && !_f.done && (_a = _e[\"return\"])) _a.call(_e);\n                                }\n                                finally { if (e_1) throw e_1.error; }\n                            }\n                        }\n                        else {\n                            form_1.pipe(\n                            // @ts-expect-error TODO\n                            (0, event_stream_1.map)(function (data) {\n                                request.postData.text += data;\n                            }));\n                        }\n                        request.postData.boundary = boundary;\n                        // Since headers are case-sensitive we need to see if there's an existing `Content-Type` header that we can override.\n                        var contentTypeHeader = (0, headers_1.getHeaderName)(request.headersObj, 'content-type') || 'content-type';\n                        request.headersObj[contentTypeHeader] = \"multipart/form-data; boundary=\".concat(boundary);\n                    }\n                    break;\n                case 'application/x-www-form-urlencoded':\n                    if (!request.postData.params) {\n                        request.postData.text = '';\n                    }\n                    else {\n                        // @ts-expect-error the `har-format` types make this challenging\n                        request.postData.paramsObj = request.postData.params.reduce(reducer_1.reducer, {});\n                        // always overwrite\n                        request.postData.text = (0, querystring_1.stringify)(request.postData.paramsObj);\n                    }\n                    break;\n                case 'text/json':\n                case 'text/x-json':\n                case 'application/json':\n                case 'application/x-json':\n                    request.postData.mimeType = 'application/json';\n                    if (request.postData.text) {\n                        try {\n                            request.postData.jsonObj = JSON.parse(request.postData.text);\n                        }\n                        catch (e) {\n                            debug.info(e);\n                            // force back to `text/plain` if headers have proper content-type value, then this should also work\n                            request.postData.mimeType = 'text/plain';\n                        }\n                    }\n                    break;\n            }\n            // create allHeaders object\n            var allHeaders = __assign(__assign({}, request.allHeaders), request.headersObj);\n            var urlWithParsedQuery = (0, url_1.parse)(request.url, true, true); //?\n            // query string key/value pairs in with literal querystrings containd within the url\n            request.queryObj = __assign(__assign({}, request.queryObj), urlWithParsedQuery.query); //?\n            // reset uriObj values for a clean url\n            var search = (0, querystring_1.stringify)(request.queryObj);\n            var uriObj = __assign(__assign({}, urlWithParsedQuery), { query: request.queryObj, search: search, path: search ? \"\".concat(urlWithParsedQuery.pathname, \"?\").concat(search) : urlWithParsedQuery.pathname });\n            // keep the base url clean of queryString\n            var url = (0, url_1.format)(__assign(__assign({}, urlWithParsedQuery), { query: null, search: null })); //?\n            var fullUrl = (0, url_1.format)(__assign(__assign({}, urlWithParsedQuery), uriObj)); //?\n            return __assign(__assign({}, request), { allHeaders: allHeaders, fullUrl: fullUrl, url: url, uriObj: uriObj });\n        };\n        this.convert = function (targetId, clientId, options) {\n            if (!options && clientId) {\n                options = clientId;\n            }\n            var target = targets_1.targets[targetId];\n            if (!target) {\n                return false;\n            }\n            var convert = target.clientsById[clientId || target.info[\"default\"]].convert;\n            var results = _this.requests.map(function (request) { return convert(request, options); });\n            return results.length === 1 ? results[0] : results;\n        };\n        var entries = [];\n        // prep the main container\n        this.requests = [];\n        // is it har?\n        if (isHarEntry(input)) {\n            entries = input.log.entries;\n        }\n        else {\n            entries = [\n                {\n                    request: input\n                },\n            ];\n        }\n        entries.forEach(function (_a) {\n            var _b;\n            var request = _a.request;\n            // add optional properties to make validation successful\n            var req = __assign({ bodySize: 0, headersSize: 0, headers: [], cookies: [], httpVersion: 'HTTP/1.1', queryString: [], postData: {\n                    mimeType: ((_b = request.postData) === null || _b === void 0 ? void 0 : _b.mimeType) || 'application/octet-stream'\n                } }, request);\n            if ((0, har_validator_1.validateHarRequest)(req)) {\n                _this.requests.push(_this.prepare(req));\n            }\n        });\n    }\n    return HTTPSnippet;\n}());\nexports.HTTPSnippet = HTTPSnippet;\n","export type FieldEquals<T, K extends keyof T, Vals extends T[K][]> = {\n  // eslint-disable-next-line\n  [_x in K]: Vals[number]\n}\n\nexport const objectFieldIncludes = <\n  T,\n  K extends keyof T,\n  V extends readonly T[K][],\n>(\n  obj: T,\n  field: K,\n  values: V\n  // eslint-disable-next-line\n): obj is T & { [_x in K]: V[number] } => values.includes(obj[field])\n\nexport const valueIncludes = <T, V extends readonly T[]>(\n  obj: T,\n  values: V\n): obj is V[number] => values.includes(obj)\n","import * as RA from \"fp-ts/ReadonlyArray\"\nimport * as S from \"fp-ts/string\"\nimport { pipe, flow } from \"fp-ts/function\"\nimport * as Har from \"har-format\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { FieldEquals, objectFieldIncludes } from \"../typeutils\"\n\n// Hoppscotch support HAR Spec 1.2\n// For more info on the spec: http://www.softwareishard.com/blog/har-12-spec/\n\nconst splitHarQueryParams = (sep: string) => {\n  return (s: string): Array<string> => {\n    const out = pipe(s, S.split(sep))\n    const [key, ...rest] = out\n    return [key, rest.join(sep)] // Split by the first colon and join the rest\n  }\n}\n\nconst buildHarHeaders = (req: HoppRESTRequest): Har.Header[] => {\n  return req.headers\n    .filter((header) => header.active)\n    .map((header) => ({\n      name: header.key,\n      value: header.value,\n    }))\n}\n\nconst buildHarQueryStrings = (req: HoppRESTRequest): Har.QueryString[] => {\n  return req.params\n    .filter((param) => param.active)\n    .map((param) => ({\n      name: param.key,\n      value: param.value,\n    }))\n}\n\nconst buildHarPostParams = (\n  req: HoppRESTRequest &\n    FieldEquals<HoppRESTRequest, \"method\", [\"POST\", \"PUT\"]> & {\n      body: {\n        contentType: \"application/x-www-form-urlencoded\" | \"multipart/form-data\"\n      }\n    }\n): Har.Param[] => {\n  // URL Encoded strings have a string style of contents\n  if (req.body.contentType === \"application/x-www-form-urlencoded\") {\n    return pipe(\n      req.body.body,\n      S.split(\"\\n\"),\n      RA.map(\n        flow(\n          // Define how each lines are parsed\n\n          splitHarQueryParams(\":\"), // Split by the first \":\"\n          RA.map(S.trim), // Remove trailing spaces in key/value begins and ends\n          ([key, value]) => ({\n            // Convert into a proper key value definition\n            name: key,\n            value: value ?? \"\", // Value can be undefined (if no \":\" is present)\n          })\n        )\n      ),\n      RA.toArray\n    )\n  }\n  // FormData has its own format\n  return req.body.body.flatMap((entry) => {\n    if (entry.isFile) {\n      // We support multiple files\n      return entry.value.map(\n        (file) =>\n          <Har.Param>{\n            name: entry.key,\n            fileName: entry.key, // TODO: Blob doesn't contain file info, anyway to bring file name here ?\n            contentType: file.type,\n          }\n      )\n    }\n    return {\n      name: entry.key,\n      value: entry.value,\n    }\n  })\n}\n\nconst buildHarPostData = (req: HoppRESTRequest): Har.PostData | undefined => {\n  if (!req.body.contentType) return undefined\n\n  if (\n    objectFieldIncludes(req.body, \"contentType\", [\n      \"application/x-www-form-urlencoded\",\n      \"multipart/form-data\",\n    ] as const)\n  ) {\n    return {\n      mimeType: req.body.contentType, // By default assume JSON ?\n      params: buildHarPostParams(req as any),\n    }\n  }\n\n  return {\n    mimeType: req.body.contentType, // Let's assume by default content type is JSON\n    text: req.body.body,\n  }\n}\n\nexport const buildHarRequest = (\n  req: HoppRESTRequest\n): Har.Request & {\n  postData: Har.PostData & Exclude<Har.PostData, undefined>\n} => {\n  return {\n    bodySize: -1, // TODO: It would be cool if we can calculate the body size\n    headersSize: -1, // TODO: It would be cool if we can calculate the header size\n    httpVersion: \"HTTP/1.1\",\n    cookies: [], // Hoppscotch does not have formal support for Cookies as of right now\n    headers: buildHarHeaders(req),\n    method: req.method,\n    queryString: buildHarQueryStrings(req),\n    url: req.endpoint,\n    postData: buildHarPostData(req) ?? {\n      mimeType: \"x-unknown\",\n      params: [],\n    },\n  }\n}\n","import { HTTPSnippet } from \"httpsnippet\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport * as O from \"fp-ts/Option\"\nimport * as E from \"fp-ts/Either\"\nimport { pipe } from \"fp-ts/function\"\nimport { buildHarRequest } from \"./har\"\n\n// Hoppscotch's Code Generation is Powered by HTTPSnippet (https://github.com/Kong/httpsnippet)\n// If you want to add support for your favorite language/library, please contribute to the HTTPSnippet repo <3\n\n/**\n * An array defining all the code generators and their info\n */\nexport const CodegenDefinitions = [\n  {\n    name: \"c-curl\",\n    lang: \"c\",\n    mode: \"libcurl\",\n    caption: \"C - cURL\",\n  },\n  {\n    name: \"clojure-clj_http\",\n    lang: \"clojure\",\n    mode: \"clj_http\",\n    caption: \"Clojure - clj-http\",\n  },\n  {\n    name: \"csharp-httpclient\",\n    lang: \"csharp\",\n    mode: \"httpclient\",\n    caption: \"C# - HttpClient\",\n  },\n  {\n    name: \"csharp-restsharp\",\n    lang: \"csharp\",\n    mode: \"restsharp\",\n    caption: \"C# - RestSharp\",\n  },\n  {\n    name: \"go-native\",\n    lang: \"go\",\n    mode: \"native\",\n    caption: \"Go\",\n  },\n  {\n    name: \"http-http1.1\",\n    lang: \"http\",\n    mode: \"http1.1\",\n    caption: \"HTTP - HTTP 1.1 Request String\",\n  },\n  {\n    name: \"java-asynchttp\",\n    lang: \"java\",\n    mode: \"asynchttp\",\n    caption: \"Java - AsyncHTTPClient\",\n  },\n  {\n    name: \"java-nethttp\",\n    lang: \"java\",\n    mode: \"nethttp\",\n    caption: \"Java - java.net.http\",\n  },\n  {\n    name: \"java-okhttp\",\n    lang: \"java\",\n    mode: \"okhttp\",\n    caption: \"Java - OkHttp\",\n  },\n  {\n    name: \"java-unirest\",\n    lang: \"java\",\n    mode: \"unirest\",\n    caption: \"Java - Unirest\",\n  },\n  {\n    name: \"javascript-axios\",\n    lang: \"javascript\",\n    mode: \"axios\",\n    caption: \"JavaScript - Axios\",\n  },\n  {\n    name: \"javascript-fetch\",\n    lang: \"javascript\",\n    mode: \"fetch\",\n    caption: \"JavaScript - Fetch\",\n  },\n  {\n    name: \"javascript-jquery\",\n    lang: \"javascript\",\n    mode: \"jquery\",\n    caption: \"JavaScript - jQuery\",\n  },\n  {\n    name: \"javascript-xhr\",\n    lang: \"javascript\",\n    mode: \"xhr\",\n    caption: \"JavaScript - XMLHttpRequest\",\n  },\n  {\n    name: \"kotlin-okhttp\",\n    lang: \"kotlin\",\n    mode: \"okhttp\",\n    caption: \"Kotlin - OkHttp\",\n  },\n  {\n    name: \"objc-nsurlsession\",\n    lang: \"objc\",\n    mode: \"nsurlsession\",\n    caption: \"Objective C - NSURLSession\",\n  },\n  {\n    name: \"ocaml-cohttp\",\n    lang: \"ocaml\",\n    mode: \"cohttp\",\n    caption: \"OCaml - cohttp\",\n  },\n  {\n    name: \"php-curl\",\n    lang: \"php\",\n    mode: \"curl\",\n    caption: \"PHP - cURL\",\n  },\n  {\n    name: \"powershell-restmethod\",\n    lang: \"powershell\",\n    mode: \"restmethod\",\n    caption: \"Powershell - Invoke-RestMethod\",\n  },\n  {\n    name: \"powershell-webrequest\",\n    lang: \"powershell\",\n    mode: \"webrequest\",\n    caption: \"Powershell - Invoke-WebRequest\",\n  },\n  {\n    name: \"python-python3\",\n    lang: \"python\",\n    mode: \"python3\",\n    caption: \"Python - Python 3 Native\",\n  },\n  {\n    name: \"python-requests\",\n    lang: \"python\",\n    mode: \"requests\",\n    caption: \"Python - Requests\",\n  },\n  {\n    name: \"r-httr\",\n    lang: \"r\",\n    mode: \"httr\",\n    caption: \"R - httr\",\n  },\n  {\n    name: \"ruby-native\",\n    lang: \"ruby\",\n    mode: \"native\",\n    caption: \"Ruby - Ruby Native\",\n  },\n  {\n    name: \"shell-curl\",\n    lang: \"shell\",\n    mode: \"curl\",\n    caption: \"Shell - cURL\",\n  },\n  {\n    name: \"shell-httpie\",\n    lang: \"shell\",\n    mode: \"httpie\",\n    caption: \"Shell - HTTPie\",\n  },\n  {\n    name: \"shell-wget\",\n    lang: \"shell\",\n    mode: \"wget\",\n    caption: \"Shell - Wget\",\n  },\n  {\n    name: \"swift-nsurlsession\",\n    lang: \"swift\",\n    mode: \"nsurlsession\",\n    caption: \"Swift - NSURLSession\",\n  },\n] as const\n\n/**\n * A type which defines all the valid code generators\n */\nexport type CodegenName = (typeof CodegenDefinitions)[number][\"name\"]\n\n/**\n * Generates Source Code for the given codgen\n * @param codegen The codegen to apply\n * @param req The request to generate using\n * @returns An Option with the generated code snippet\n */\nexport const generateCode = (\n  codegen: CodegenName,\n  req: HoppRESTRequest\n): O.Option<string> => {\n  // Since the Type contract guarantees a match in the array, we are enforcing non-null\n  const codegenInfo = CodegenDefinitions.find((v) => v.name === codegen)!\n\n  return pipe(\n    E.tryCatch(\n      () =>\n        new HTTPSnippet({\n          ...buildHarRequest(req),\n        }).convert(codegenInfo.lang, codegenInfo.mode, {\n          indent: \"  \",\n        }),\n      (e) => {\n        console.error(e)\n        return e\n      }\n    ),\n\n    // Only allow string output to pass through, else none\n    E.chainW(\n      E.fromPredicate(\n        (val): val is string => typeof val === \"string\",\n        () => \"code generator failed\" as const\n      )\n    ),\n\n    O.fromEither\n  )\n}\n","<template>\n  <div class=\"flex flex-col\">\n    <label v-if=\"!hideLabel\" for=\"requestType\" class=\"px-4 pb-4\">\n      {{ t(\"request.choose_language\") }}\n    </label>\n    <tippy\n      interactive\n      trigger=\"click\"\n      theme=\"popover\"\n      placement=\"bottom\"\n      :on-shown=\"() => tippyActions.focus()\"\n    >\n      <HoppSmartSelectWrapper>\n        <HoppButtonSecondary\n          :label=\"\n            CodegenDefinitions.find((x) => x.name === codegenType)!.caption\n          \"\n          outline\n          class=\"flex-1 pr-8\"\n        />\n      </HoppSmartSelectWrapper>\n      <template #content=\"{ hide }\">\n        <div class=\"flex flex-col space-y-2\">\n          <div class=\"sticky top-0 z-10 flex-shrink-0 overflow-x-auto\">\n            <input\n              v-model=\"searchQuery\"\n              type=\"search\"\n              autocomplete=\"off\"\n              class=\"input flex w-full !bg-primaryContrast p-4 py-2\"\n              :placeholder=\"`${t('action.search')}`\"\n            />\n          </div>\n          <div\n            ref=\"tippyActions\"\n            class=\"flex flex-col focus:outline-none\"\n            tabindex=\"0\"\n            @keyup.escape=\"hide()\"\n          >\n            <HoppSmartItem\n              v-for=\"codegen in filteredCodegenDefinitions\"\n              :key=\"codegen.name\"\n              :label=\"codegen.caption\"\n              :info-icon=\"codegen.name === codegenType ? IconCheck : undefined\"\n              :active-info-icon=\"codegen.name === codegenType\"\n              @click=\"\n                () => {\n                  codegenType = codegen.name\n                  hide()\n                }\n              \"\n            />\n            <HoppSmartPlaceholder\n              v-if=\"filteredCodegenDefinitions.length === 0\"\n              :text=\"`${t('state.nothing_found')} ‟${searchQuery}”`\"\n            >\n              <template #icon>\n                <icon-lucide-search class=\"svg-icons opacity-75\" />\n              </template>\n            </HoppSmartPlaceholder>\n          </div>\n        </div>\n      </template>\n    </tippy>\n    <div\n      v-if=\"errorState\"\n      class=\"mt-4 w-full overflow-auto whitespace-normal rounded bg-primaryLight px-4 py-2 font-mono text-red-400\"\n    >\n      {{ t(\"error.something_went_wrong\") }}\n    </div>\n    <div\n      v-else-if=\"codegenType\"\n      class=\"mt-4 rounded border border-dividerLight\"\n    >\n      <div class=\"flex items-center justify-between pl-4\">\n        <label class=\"truncate font-semibold text-secondaryLight\">\n          {{ t(\"request.generated_code\") }}\n        </label>\n        <div class=\"flex items-center\">\n          <HoppButtonSecondary\n            v-tippy=\"{ theme: 'tooltip' }\"\n            :title=\"t('state.linewrap')\"\n            :class=\"{ '!text-accent': WRAP_LINES }\"\n            :icon=\"IconWrapText\"\n            @click.prevent=\"toggleNestedSetting('WRAP_LINES', 'codeGen')\"\n          />\n          <HoppButtonSecondary\n            v-tippy=\"{ theme: 'tooltip', allowHTML: true }\"\n            :title=\"t('action.download_file')\"\n            :icon=\"downloadIcon\"\n            @click=\"downloadResponse\"\n          />\n          <HoppButtonSecondary\n            v-tippy=\"{ theme: 'tooltip', allowHTML: true }\"\n            :title=\"t('action.copy')\"\n            :icon=\"copyIcon\"\n            @click=\"copyResponse\"\n          />\n        </div>\n      </div>\n      <div\n        ref=\"generatedCode\"\n        class=\"rounded-b border-t border-dividerLight\"\n      ></div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useCodemirror } from \"@composables/codemirror\"\nimport { useI18n } from \"@composables/i18n\"\nimport { Environment, makeRESTRequest } from \"@hoppscotch/data\"\nimport * as O from \"fp-ts/Option\"\nimport { computed, reactive, ref } from \"vue\"\nimport {\n  useCopyResponse,\n  useDownloadResponse,\n} from \"~/composables/lens-actions\"\nimport {\n  CodegenDefinitions,\n  CodegenName,\n  generateCode,\n} from \"~/helpers/new-codegen\"\nimport {\n  getEffectiveRESTRequest,\n  resolvesEnvsInBody,\n} from \"~/helpers/utils/EffectiveURL\"\nimport { getAggregateEnvs } from \"~/newstore/environments\"\n\nimport { useService } from \"dioc/vue\"\nimport cloneDeep from \"lodash-es/cloneDeep\"\nimport { onMounted } from \"vue\"\nimport { useNestedSetting } from \"~/composables/settings\"\nimport { toggleNestedSetting } from \"~/newstore/settings\"\nimport { platform } from \"~/platform\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport IconCheck from \"~icons/lucide/check\"\nimport IconWrapText from \"~icons/lucide/wrap-text\"\n\nconst t = useI18n()\n\nconst tabs = useService(RESTTabService)\nconst request = computed(() =>\n  cloneDeep(tabs.currentActiveTab.value.document.request)\n)\nconst codegenType = ref<CodegenName>(\"shell-curl\")\nconst errorState = ref(false)\n\ndefineProps({\n  hideLabel: {\n    type: Boolean,\n    default: false,\n  },\n})\n\nconst emit = defineEmits<{\n  (e: \"request-code\", value: string): void\n}>()\n\nconst requestCode = computed(() => {\n  const aggregateEnvs = getAggregateEnvs()\n  const requestVariables = request.value.requestVariables.map(\n    (requestVariable) => {\n      if (requestVariable.active)\n        return {\n          key: requestVariable.key,\n          value: requestVariable.value,\n          secret: false,\n        }\n      return {}\n    }\n  )\n  const env: Environment = {\n    v: 1,\n    id: \"env\",\n    name: \"Env\",\n    variables: [\n      ...(requestVariables as Environment[\"variables\"]),\n      ...aggregateEnvs,\n    ],\n  }\n  const effectiveRequest = getEffectiveRESTRequest(request.value, env)\n\n  const result = generateCode(\n    codegenType.value,\n    makeRESTRequest({\n      ...effectiveRequest,\n      body: resolvesEnvsInBody(effectiveRequest.body, env),\n      headers: effectiveRequest.effectiveFinalHeaders.map((header) => ({\n        ...header,\n        active: true,\n      })),\n      params: effectiveRequest.effectiveFinalParams.map((param) => ({\n        ...param,\n        active: true,\n      })),\n      endpoint: effectiveRequest.effectiveFinalURL,\n      requestVariables: effectiveRequest.effectiveFinalRequestVariables.map(\n        (requestVariable) => ({\n          ...requestVariable,\n          active: true,\n        })\n      ),\n    })\n  )\n\n  if (O.isSome(result)) {\n    errorState.value = false\n    emit(\"request-code\", result.value)\n    return result.value\n  }\n  errorState.value = true\n  return \"\"\n})\n\n// Template refs\nconst tippyActions = ref<any | null>(null)\nconst generatedCode = ref<any | null>(null)\nconst WRAP_LINES = useNestedSetting(\"WRAP_LINES\", \"codeGen\")\n\nuseCodemirror(\n  generatedCode,\n  requestCode,\n  reactive({\n    extendedEditorConfig: {\n      mode: \"text/plain\",\n      readOnly: true,\n      lineWrapping: WRAP_LINES,\n    },\n    linter: null,\n    completer: null,\n    environmentHighlights: false,\n  })\n)\n\nonMounted(() => {\n  platform.analytics?.logEvent({\n    type: \"HOPP_REST_CODEGEN_OPENED\",\n  })\n})\n\nconst searchQuery = ref(\"\")\n\nconst filteredCodegenDefinitions = computed(() => {\n  return CodegenDefinitions.filter((obj) =>\n    Object.values(obj).some((val) =>\n      val.toLowerCase().includes(searchQuery.value.toLowerCase())\n    )\n  )\n})\n\nconst { copyIcon, copyResponse } = useCopyResponse(requestCode)\nconst { downloadIcon, downloadResponse } = useDownloadResponse(\"\", requestCode)\n</script>\n","<template>\n  <div class=\"flex flex-col items-center p-4 border rounded border-dividerDark\">\n    <span\n      :class=\"{\n        'border-b border-secondary': label,\n      }\"\n    >\n      {{ text }}\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from \"vue\"\nimport { useI18n } from \"~/composables/i18n\"\n\nconst t = useI18n()\n\nconst props = defineProps<{\n  link?: string | undefined\n  label?: string | undefined\n}>()\n\nconst shortcodeBaseURL =\n  Object.create(globalThis.import_meta_env || null).VITE_SHORTCODE_BASE_URL ?? \"https://hopp.sh\"\n\nconst text = computed(() => {\n  return props.label\n    ? t(props.label)\n    : `${shortcodeBaseURL}/r/${props.link ?? \"xxxx\"}`\n})\n</script>\n","<template>\n  <div class=\"flex flex-col items-center p-4 border rounded border-dividerDark\">\n    <img :src=\"img\" :alt=\"t('shared_requests.run_in_hoppscotch')\" />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useI18n } from \"~/composables/i18n\"\n\ndefineProps<{\n  img: string\n}>()\n\nconst t = useI18n()\n</script>\n","<template>\n  <div\n    class=\"flex flex-col p-4 border rounded border-dividerDark\"\n    :class=\"embedColours\"\n  >\n    <div class=\"flex items-stretch space-x-2\">\n      <span\n        class=\"flex items-center flex-1 min-w-0 border rounded\"\n        :class=\"embedColours\"\n      >\n        <span\n          class=\"flex max-w-[4rem] rounded-l h-full items-center justify-center border-r text-tiny\"\n          :class=\"embedColours\"\n        >\n          <span class=\"px-3 truncate text-xs\">\n            {{ method }}\n          </span>\n        </span>\n        <span class=\"px-3 truncate\">\n          {{ endpoint }}\n        </span>\n      </span>\n      <button\n        class=\"flex items-center justify-center flex-shrink-0 px-3 py-2 font-semibold border rounded\"\n        :class=\"embedColours\"\n      >\n        {{ t(\"action.send\") }}\n      </button>\n    </div>\n    <div\n      class=\"flex overflow-x-scroll\"\n      :class=\"[{ 'border-b pt-2 ': !noActiveTab }, embedColours]\"\n    >\n      <span\n        v-for=\"option in embedOptions.tabs\"\n        v-show=\"option.enabled\"\n        :key=\"option.value\"\n        class=\"p-2\"\n        :class=\"[\n          {\n            'border-b ':\n              embedOptions.tabs.filter((tab) => tab.enabled)[0]?.value ===\n              option.value,\n          },\n          embedColours,\n        ]\"\n      >\n        {{ option.label }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { usePreferredDark, useVModel } from \"@vueuse/core\"\nimport { computed } from \"vue\"\n\nimport { useI18n } from \"~/composables/i18n\"\n\ntype Tabs =\n  | \"params\"\n  | \"bodyParams\"\n  | \"headers\"\n  | \"authorization\"\n  | \"requestVariables\"\n\ntype EmbedOption = {\n  selectedTab: Tabs\n  tabs: {\n    value: Tabs\n    label: string\n    enabled: boolean\n  }[]\n  theme: \"light\" | \"dark\" | \"system\"\n}\n\nconst props = defineProps<{\n  method: string | undefined\n  endpoint: string | undefined\n  modelValue: EmbedOption\n}>()\n\nconst embedOptions = useVModel(props, \"modelValue\")\n\nconst t = useI18n()\n\nconst noActiveTab = computed(() => {\n  return embedOptions.value.tabs.every((tab) => !tab.enabled)\n})\n\nconst systemPrefersDark = usePreferredDark()\n\nconst embedColours = computed(() => {\n  const { theme } = embedOptions.value\n\n  const darkThemeClasses = \"bg-dark-800 text-white !border-dark-50\"\n  const lightThemeClasses = \"bg-white text-black !border-white-50\"\n\n  const colorThemeMap = {\n    light: lightThemeClasses,\n    dark: darkThemeClasses,\n    system: systemPrefersDark.value ? darkThemeClasses : lightThemeClasses,\n  }\n\n  return colorThemeMap[theme]\n})\n</script>\n","<template>\n  <div\n    v-if=\"selectedWidget\"\n    class=\"border divide-y rounded divide-divider border-divider\"\n  >\n    <div v-if=\"loading\" class=\"px-4 py-2\">\n      {{ t(\"shared_requests.creating_widget\") }}\n    </div>\n    <div v-else class=\"px-4 py-2\">\n      {{ t(\"shared_requests.customize\") }}\n    </div>\n    <div v-if=\"loading\" class=\"flex flex-col items-center justify-center p-4\">\n      <HoppSmartSpinner class=\"my-4\" />\n      <span class=\"text-secondaryLight\">{{ t(\"state.loading\") }}</span>\n    </div>\n    <div v-else class=\"flex flex-col divide-y divide-divider\">\n      <div class=\"flex flex-col p-2 space-y-2\">\n        <HoppSmartRadioGroup\n          v-model=\"selectedWidget.value\"\n          :radios=\"widgets\"\n          class=\"flex !flex-row\"\n        />\n      </div>\n      <div class=\"flex flex-col divide-y divide-divider\">\n        <div class=\"flex items-center justify-center px-6 py-4\">\n          <div v-if=\"selectedWidget.value === 'embed'\" class=\"w-full\">\n            <div class=\"flex flex-col pb-4\">\n              <div\n                v-for=\"option in embedOptions.tabs\"\n                :key=\"option.value\"\n                class=\"flex justify-between py-2\"\n              >\n                <span class=\"capitalize\">\n                  {{ option.label }}\n                </span>\n                <HoppSmartCheckbox\n                  :on=\"option.enabled\"\n                  @change=\"removeEmbedOption(option.value)\"\n                >\n                </HoppSmartCheckbox>\n              </div>\n              <div class=\"flex items-center justify-between\">\n                <span>\n                  {{ t(\"shared_requests.theme.title\") }}\n                </span>\n                <div>\n                  <tippy\n                    interactive\n                    trigger=\"click\"\n                    theme=\"popover\"\n                    :on-shown=\"() => tippyActions!.focus()\"\n                  >\n                    <HoppButtonSecondary\n                      class=\"!py-2 !px-0 capitalize\"\n                      :label=\"embedOptions.theme\"\n                      :icon=\"embedThemeIcon\"\n                    />\n                    <template #content=\"{ hide }\">\n                      <div\n                        ref=\"tippyActions\"\n                        class=\"flex flex-col focus:outline-none\"\n                        tabindex=\"0\"\n                        @keyup.escape=\"hide()\"\n                      >\n                        <HoppSmartItem\n                          :label=\"t('shared_requests.theme.system')\"\n                          :icon=\"IconMonitor\"\n                          :active=\"embedOptions.theme === 'system'\"\n                          @click=\"\n                            () => {\n                              embedOptions.theme = 'system'\n                              hide()\n                            }\n                          \"\n                        />\n                        <HoppSmartItem\n                          :label=\"t('shared_requests.theme.light')\"\n                          :icon=\"IconSun\"\n                          :active=\"embedOptions.theme === 'light'\"\n                          @click=\"\n                            () => {\n                              embedOptions.theme = 'light'\n                              hide()\n                            }\n                          \"\n                        />\n                        <HoppSmartItem\n                          :label=\"t('shared_requests.theme.dark')\"\n                          :icon=\"IconMoon\"\n                          :active=\"embedOptions.theme === 'dark'\"\n                          @click=\"\n                            () => {\n                              embedOptions.theme = 'dark'\n                              hide()\n                            }\n                          \"\n                        />\n                      </div>\n                    </template>\n                  </tippy>\n                </div>\n              </div>\n            </div>\n            <span\n              class=\"flex justify-center mb-2 text-secondaryLight text-tiny\"\n            >\n              {{ t(\"shared_requests.preview\") }}\n            </span>\n            <ShareTemplatesEmbeds\n              :endpoint=\"request?.endpoint\"\n              :method=\"request?.method\"\n              :model-value=\"embedOptions\"\n            />\n            <div class=\"flex items-center justify-center\">\n              <HoppButtonSecondary\n                :label=\"t('shared_requests.copy_html')\"\n                class=\"underline text-secondaryDark\"\n                @click=\"\n                  copyContent({\n                    widget: 'embed',\n                    type: 'html',\n                  })\n                \"\n              />\n            </div>\n          </div>\n          <div\n            v-else-if=\"selectedWidget.value === 'button'\"\n            class=\"flex flex-col space-y-8\"\n          >\n            <div\n              v-for=\"variant in buttonVariants\"\n              :key=\"variant.id\"\n              class=\"flex flex-col\"\n            >\n              <span\n                class=\"flex justify-center mb-2 text-secondaryLight text-tiny\"\n              >\n                {{ t(\"shared_requests.preview\") }}\n              </span>\n              <ShareTemplatesButton :img=\"variant.img\" />\n              <div class=\"flex items-center justify-between\">\n                <HoppButtonSecondary\n                  :label=\"t('shared_requests.copy_html')\"\n                  class=\"underline text-secondaryDark\"\n                  @click=\"\n                    copyContent({\n                      widget: 'button',\n                      type: 'html',\n                      id: variant.id,\n                    })\n                  \"\n                />\n                <HoppButtonSecondary\n                  :label=\"t('shared_requests.copy_markdown')\"\n                  class=\"underline text-secondaryDark\"\n                  @click=\"\n                    copyContent({\n                      widget: 'button',\n                      type: 'markdown',\n                      id: variant.id,\n                    })\n                  \"\n                />\n              </div>\n            </div>\n          </div>\n          <div v-else class=\"flex flex-col space-y-8\">\n            <div\n              v-for=\"variant in linkVariants\"\n              :key=\"variant.type\"\n              class=\"flex flex-col items-center justify-center\"\n            >\n              <span\n                class=\"flex justify-center mb-2 text-secondaryLight text-tiny\"\n              >\n                {{ t(\"shared_requests.preview\") }}\n              </span>\n              <ShareTemplatesLink :link=\"variant.link\" :label=\"variant.label\" />\n              <HoppButtonSecondary\n                :label=\"t(`shared_requests.copy_${variant.type}`)\"\n                class=\"underline text-secondaryDark\"\n                @click=\"\n                  copyContent({\n                    widget: 'link',\n                    type: variant.type,\n                    id: variant.id,\n                  })\n                \"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { useVModel } from \"@vueuse/core\"\nimport { computed, ref } from \"vue\"\nimport { PropType } from \"vue\"\nimport { useI18n } from \"~/composables/i18n\"\nimport IconMonitor from \"~icons/lucide/monitor\"\nimport IconSun from \"~icons/lucide/sun\"\nimport IconMoon from \"~icons/lucide/moon\"\nimport { TippyComponent } from \"vue-tippy\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\n\nconst t = useI18n()\n\nconst props = defineProps({\n  request: {\n    type: Object as PropType<HoppRESTRequest | null>,\n    required: true,\n  },\n  modelValue: {\n    type: Object as PropType<Widget | null>,\n    default: null,\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  embedOptions: {\n    type: Object as PropType<EmbedOption>,\n    default: () => ({\n      selectedTab: \"params\",\n      tabs: [\n        {\n          value: \"params\",\n          label: \"shared_requests.parameters\",\n          enabled: true,\n        },\n        {\n          value: \"body\",\n          label: \"shared_requests.body\",\n          enabled: true,\n        },\n        {\n          value: \"headers\",\n          label: \"shared_requests.headers\",\n          enabled: true,\n        },\n        {\n          value: \"authorization\",\n          label: \"shared_requests.authorization\",\n          enabled: false,\n        },\n      ],\n      theme: \"system\",\n    }),\n  },\n})\n\nconst emit = defineEmits<{\n  (\n    e: \"copy-shared-request\",\n    request: {\n      sharedRequestID: string | undefined\n      content: string | undefined\n    }\n  ): void\n  (e: \"hide-modal\"): void\n  (e: \"update:modelValue\", value: string): void\n}>()\n\nconst selectedWidget = useVModel(props, \"modelValue\")\nconst embedOptions = useVModel(props, \"embedOptions\")\n\ntype WidgetID = \"embed\" | \"button\" | \"link\"\n\ntype Widget = {\n  value: WidgetID\n  label: string\n}\n\nconst widgets: Widget[] = [\n  {\n    value: \"embed\",\n    label: t(\"shared_requests.embed\"),\n  },\n  {\n    value: \"button\",\n    label: t(\"shared_requests.button\"),\n  },\n  {\n    value: \"link\",\n    label: t(\"shared_requests.link\"),\n  },\n]\n\ntype EmbedTabs =\n  | \"params\"\n  | \"bodyParams\"\n  | \"headers\"\n  | \"authorization\"\n  | \"requestVariables\"\n\ntype EmbedOption = {\n  selectedTab: EmbedTabs\n  tabs: {\n    value: EmbedTabs\n    label: string\n    enabled: boolean\n  }[]\n  theme: \"light\" | \"dark\" | \"system\"\n}\nconst embedThemeIcon = computed(() => {\n  if (embedOptions.value.theme === \"system\") {\n    return IconMonitor\n  } else if (embedOptions.value.theme === \"light\") {\n    return IconSun\n  }\n  return IconMoon\n})\n\nconst removeEmbedOption = (option: EmbedTabs) => {\n  const index = embedOptions.value.tabs.findIndex((tab) => tab.value === option)\n  if (index === -1) return\n\n  //if removed tab is the selected tab, select the next tab with enabled true\n  if (embedOptions.value.selectedTab === option) {\n    const nextTab = embedOptions.value.tabs.find((tab) => tab.enabled)\n    if (nextTab) {\n      embedOptions.value.selectedTab = nextTab.value\n    }\n  }\n\n  embedOptions.value.tabs[index].enabled =\n    !embedOptions.value.tabs[index].enabled\n}\n\ntype ButtonVariant = {\n  id: string\n  img: string\n}\nconst buttonVariants: ButtonVariant[] = [\n  {\n    id: \"button1\",\n    img: \"badge.svg\",\n  },\n  {\n    id: \"button2\",\n    img: \"badge-light.svg\",\n  },\n  {\n    id: \"button3\",\n    img: \"badge-dark.svg\",\n  },\n]\n\ntype LinkVariant = {\n  id: string\n  link?: string\n  label?: string\n  type: \"html\" | \"markdown\" | \"link\"\n}\n\nconst linkVariants: LinkVariant[] = [\n  {\n    id: \"link1\",\n    link: props.request?.id,\n    type: \"link\",\n  },\n  {\n    id: \"link2\",\n    label: \"shared_requests.run_in_hoppscotch\",\n    type: \"html\",\n  },\n  {\n    id: \"link3\",\n    label: \"shared_requests.run_in_hoppscotch\",\n    type: \"markdown\",\n  },\n]\n\nconst shortcodeBaseURL =\n  Object.create(globalThis.import_meta_env || null).VITE_SHORTCODE_BASE_URL ?? \"https://hopp.sh\"\n\nconst copyEmbed = () => {\n  return `<iframe src=\"${shortcodeBaseURL}/e/${props.request?.id}\" title=\"Hoppscotch Embed\" style=\"width: 100%; height: 480px; border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.1);\"></iframe>`\n}\n\nconst copyButton = (\n  variationID: string,\n  type: \"html\" | \"markdown\" | \"link\"\n) => {\n  let badge = \"\"\n  if (variationID === \"button1\") {\n    badge = \"badge.svg\"\n  } else if (variationID === \"button2\") {\n    badge = \"badge-light.svg\"\n  } else {\n    badge = \"badge-dark.svg\"\n  }\n\n  if (type === \"markdown\") {\n    return `[![Run in Hoppscotch](${shortcodeBaseURL}/${badge})](${shortcodeBaseURL}/r/${props.request?.id})`\n  }\n  return `<a href=\"${shortcodeBaseURL}/r/${props.request?.id}\"><img src=\"${shortcodeBaseURL}/${badge}\" alt=\"Run in Hoppscotch\" /></a>`\n}\n\nconst copyLink = (variationID: string) => {\n  if (variationID === \"link1\") {\n    return `${shortcodeBaseURL}/r/${props.request?.id}`\n  } else if (variationID === \"link2\") {\n    return `<a href=\"${shortcodeBaseURL}/r/${props.request?.id}\">Run in Hoppscotch</a>`\n  }\n  return `[Run in Hoppscotch](${shortcodeBaseURL}/r/${props.request?.id})`\n}\n\nconst copyContent = ({\n  id,\n  widget,\n  type,\n}: {\n  id?: string | undefined\n  widget: WidgetID\n  type: \"html\" | \"markdown\" | \"link\"\n}) => {\n  let content = \"\"\n  if (widget === \"button\") {\n    content = copyButton(id!, type)\n  } else if (widget === \"link\") {\n    content = copyLink(id!)\n  } else {\n    content = copyEmbed()\n  }\n  const copyContent = {\n    sharedRequestID: props.request?.id,\n    content,\n  }\n  emit(\"copy-shared-request\", copyContent)\n}\n\nconst tippyActions = ref<TippyComponent | null>(null)\n</script>\n","<template>\n  <div\n    v-if=\"selectedWidget\"\n    class=\"border divide-y rounded divide-divider border-divider\"\n  >\n    <div v-if=\"loading\" class=\"px-4 py-2\">\n      {{ t(\"shared_requests.creating_widget\") }}\n    </div>\n    <div v-else class=\"px-4 py-2\">\n      {{ t(\"shared_requests.description\") }}\n    </div>\n    <div class=\"flex flex-col divide-y divide-divider\">\n      <div class=\"flex flex-col p-4 space-y-4\">\n        <div\n          v-for=\"widget in widgets\"\n          :key=\"widget.value\"\n          class=\"flex flex-col p-4 border rounded cursor-pointer border-divider hover:bg-dividerLight\"\n          :class=\"{\n            '!border-accentLight': selectedWidget.value === widget.value,\n          }\"\n          @click=\"selectedWidget = widget\"\n        >\n          <span class=\"mb-1 font-bold text-secondaryDark\">\n            {{ widget.label }}\n          </span>\n          <span class=\"text-tiny\">\n            {{ widget.info }}\n          </span>\n        </div>\n      </div>\n      <div class=\"flex flex-col items-center justify-center p-4\">\n        <span\n          class=\"flex justify-center flex-1 mb-2 text-secondaryLight text-tiny\"\n        >\n          {{ t(\"shared_requests.preview\") }}\n        </span>\n        <div class=\"w-full\">\n          <ShareTemplatesEmbeds\n            v-if=\"selectedWidget.value === 'embed'\"\n            :endpoint=\"request?.endpoint\"\n            :method=\"request?.method\"\n            :model-value=\"embedOption\"\n          />\n          <ShareTemplatesButton\n            v-else-if=\"selectedWidget.value === 'button'\"\n            img=\"badge.svg\"\n          />\n          <ShareTemplatesLink v-else />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { useVModel } from \"@vueuse/core\"\nimport { PropType, ref } from \"vue\"\nimport { useI18n } from \"~/composables/i18n\"\n\nconst t = useI18n()\n\nconst props = defineProps({\n  request: {\n    type: Object as PropType<HoppRESTRequest | null>,\n    required: true,\n  },\n  modelValue: {\n    type: Object as PropType<Widget | null>,\n    default: null,\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n})\n\nconst selectedWidget = useVModel(props, \"modelValue\")\n\ntype WidgetID = \"embed\" | \"button\" | \"link\"\n\ntype Widget = {\n  value: WidgetID\n  label: string\n  info: string\n}\n\nconst widgets: Widget[] = [\n  {\n    value: \"embed\",\n    label: t(\"shared_requests.embed\"),\n    info: t(\"shared_requests.embed_info\"),\n  },\n  {\n    value: \"button\",\n    label: t(\"shared_requests.button\"),\n    info: t(\"shared_requests.button_info\"),\n  },\n  {\n    value: \"link\",\n    label: t(\"shared_requests.link\"),\n    info: t(\"shared_requests.link_info\"),\n  },\n]\n\ntype Tabs = \"params\" | \"bodyParams\" | \"headers\" | \"authorization\"\n\ntype EmbedOption = {\n  selectedTab: Tabs\n  tabs: {\n    value: Tabs\n    label: string\n    enabled: boolean\n  }[]\n  theme: \"light\" | \"dark\" | \"system\"\n}\n\nconst embedOption = ref<EmbedOption>({\n  selectedTab: \"params\",\n  tabs: [\n    {\n      value: \"params\",\n      label: t(\"tab.parameters\"),\n      enabled: true,\n    },\n    {\n      value: \"bodyParams\",\n      label: t(\"tab.body\"),\n      enabled: true,\n    },\n    {\n      value: \"headers\",\n      label: t(\"tab.headers\"),\n      enabled: true,\n    },\n    {\n      value: \"authorization\",\n      label: t(\"tab.authorization\"),\n      enabled: false,\n    },\n  ],\n  theme: \"system\",\n})\n</script>\n","<template>\n  <HoppSmartModal\n    v-if=\"show\"\n    dialog\n    :title=\"\n      step === 1 ? t('modal.share_request') : t('modal.customize_request')\n    \"\n    styles=\"sm:max-w-md\"\n    @close=\"hideModal\"\n  >\n    <template #body>\n      <div v-if=\"loading\" class=\"flex flex-col items-center justify-center p-4\">\n        <HoppSmartSpinner class=\"my-4\" />\n        <span class=\"text-secondaryLight\">{{ t(\"state.loading\") }}</span>\n      </div>\n      <ShareCreateModal\n        v-else-if=\"step === 1\"\n        v-model=\"selectedWidget\"\n        :request=\"request\"\n        :loading=\"loading\"\n        @create-shared-request=\"createSharedRequest\"\n      />\n      <ShareCustomizeModal\n        v-else-if=\"step === 2\"\n        v-model=\"selectedWidget\"\n        v-model:embed-options=\"embedOptions\"\n        :request=\"request\"\n        :loading=\"loading\"\n        @copy-shared-request=\"copySharedRequest\"\n      />\n    </template>\n    <template v-if=\"step === 1\" #footer>\n      <div class=\"flex justify-start flex-1\">\n        <HoppButtonPrimary\n          :label=\"t('action.create')\"\n          :loading=\"loading\"\n          @click=\"createSharedRequest\"\n        />\n        <HoppButtonSecondary\n          :label=\"t('action.cancel')\"\n          class=\"ml-2\"\n          filled\n          outline\n          @click=\"hideModal\"\n        />\n      </div>\n    </template>\n  </HoppSmartModal>\n</template>\n\n<script lang=\"ts\" setup>\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { useVModel } from \"@vueuse/core\"\nimport { PropType } from \"vue\"\nimport { useI18n } from \"~/composables/i18n\"\n\nconst t = useI18n()\n\ntype EmbedTabs =\n  | \"params\"\n  | \"bodyParams\"\n  | \"headers\"\n  | \"authorization\"\n  | \"requestVariables\"\n\ntype EmbedOption = {\n  selectedTab: EmbedTabs\n  tabs: {\n    value: EmbedTabs\n    label: string\n    enabled: boolean\n  }[]\n  theme: \"light\" | \"dark\" | \"system\"\n}\n\nconst props = defineProps({\n  request: {\n    type: Object as PropType<HoppRESTRequest | null>,\n    required: true,\n  },\n  show: {\n    type: Boolean,\n    default: false,\n    required: true,\n  },\n  modelValue: {\n    type: Object as PropType<Widget | null>,\n    default: null,\n  },\n  loading: {\n    type: Boolean,\n    default: false,\n  },\n  step: {\n    type: Number,\n    default: 1,\n  },\n  embedOptions: {\n    type: Object as PropType<EmbedOption>,\n    default: () => ({\n      selectedTab: \"params\",\n      tabs: [\n        {\n          value: \"params\",\n          label: \"shared_requests.parameters\",\n          enabled: true,\n        },\n        {\n          value: \"bodyParams\",\n          label: \"shared_requests.body\",\n          enabled: true,\n        },\n        {\n          value: \"headers\",\n          label: \"shared_requests.headers\",\n          enabled: true,\n        },\n        {\n          value: \"authorization\",\n          label: \"shared_requests.authorization\",\n          enabled: false,\n        },\n      ],\n      theme: \"system\",\n    }),\n  },\n})\n\ntype WidgetID = \"embed\" | \"button\" | \"link\"\n\ntype Widget = {\n  value: WidgetID\n  label: string\n  info: string\n}\n\nconst selectedWidget = useVModel(props, \"modelValue\")\nconst embedOptions = useVModel(props, \"embedOptions\")\n\nconst emit = defineEmits<{\n  (e: \"create-shared-request\", request: HoppRESTRequest | null): void\n  (e: \"hide-modal\"): void\n  (e: \"update:modelValue\", value: string): void\n  (e: \"update:step\", value: number): void\n  (\n    e: \"copy-shared-request\",\n    payload: {\n      sharedRequestID: string | undefined\n      content: string | undefined\n    }\n  ): void\n}>()\n\nconst createSharedRequest = () => {\n  emit(\"create-shared-request\", props.request as HoppRESTRequest)\n}\n\nconst copySharedRequest = (payload: {\n  sharedRequestID: string | undefined\n  content: string | undefined\n}) => {\n  emit(\"copy-shared-request\", payload)\n}\n\nconst hideModal = () => {\n  emit(\"hide-modal\")\n  selectedWidget.value = {\n    value: \"embed\",\n    label: t(\"shared_requests.embed\"),\n    info: t(\"shared_requests.embed_info\"),\n  }\n}\n</script>\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dual = exports.getEndomorphismMonoid = exports.not = exports.SK = exports.hole = exports.pipe = exports.untupled = exports.tupled = exports.absurd = exports.decrement = exports.increment = exports.tuple = exports.flow = exports.flip = exports.constVoid = exports.constUndefined = exports.constNull = exports.constFalse = exports.constTrue = exports.constant = exports.unsafeCoerce = exports.identity = exports.apply = exports.getRing = exports.getSemiring = exports.getMonoid = exports.getSemigroup = exports.getBooleanAlgebra = void 0;\n// -------------------------------------------------------------------------------------\n// instances\n// -------------------------------------------------------------------------------------\n/**\n * @category instances\n * @since 2.10.0\n */\nvar getBooleanAlgebra = function (B) {\n    return function () { return ({\n        meet: function (x, y) { return function (a) { return B.meet(x(a), y(a)); }; },\n        join: function (x, y) { return function (a) { return B.join(x(a), y(a)); }; },\n        zero: function () { return B.zero; },\n        one: function () { return B.one; },\n        implies: function (x, y) { return function (a) { return B.implies(x(a), y(a)); }; },\n        not: function (x) { return function (a) { return B.not(x(a)); }; }\n    }); };\n};\nexports.getBooleanAlgebra = getBooleanAlgebra;\n/**\n * Unary functions form a semigroup as long as you can provide a semigroup for the codomain.\n *\n * @example\n * import { Predicate, getSemigroup } from 'fp-ts/function'\n * import * as B from 'fp-ts/boolean'\n *\n * const f: Predicate<number> = (n) => n <= 2\n * const g: Predicate<number> = (n) => n >= 0\n *\n * const S1 = getSemigroup(B.SemigroupAll)<number>()\n *\n * assert.deepStrictEqual(S1.concat(f, g)(1), true)\n * assert.deepStrictEqual(S1.concat(f, g)(3), false)\n *\n * const S2 = getSemigroup(B.SemigroupAny)<number>()\n *\n * assert.deepStrictEqual(S2.concat(f, g)(1), true)\n * assert.deepStrictEqual(S2.concat(f, g)(3), true)\n *\n * @category instances\n * @since 2.10.0\n */\nvar getSemigroup = function (S) {\n    return function () { return ({\n        concat: function (f, g) { return function (a) { return S.concat(f(a), g(a)); }; }\n    }); };\n};\nexports.getSemigroup = getSemigroup;\n/**\n * Unary functions form a monoid as long as you can provide a monoid for the codomain.\n *\n * @example\n * import { Predicate } from 'fp-ts/Predicate'\n * import { getMonoid } from 'fp-ts/function'\n * import * as B from 'fp-ts/boolean'\n *\n * const f: Predicate<number> = (n) => n <= 2\n * const g: Predicate<number> = (n) => n >= 0\n *\n * const M1 = getMonoid(B.MonoidAll)<number>()\n *\n * assert.deepStrictEqual(M1.concat(f, g)(1), true)\n * assert.deepStrictEqual(M1.concat(f, g)(3), false)\n *\n * const M2 = getMonoid(B.MonoidAny)<number>()\n *\n * assert.deepStrictEqual(M2.concat(f, g)(1), true)\n * assert.deepStrictEqual(M2.concat(f, g)(3), true)\n *\n * @category instances\n * @since 2.10.0\n */\nvar getMonoid = function (M) {\n    var getSemigroupM = (0, exports.getSemigroup)(M);\n    return function () { return ({\n        concat: getSemigroupM().concat,\n        empty: function () { return M.empty; }\n    }); };\n};\nexports.getMonoid = getMonoid;\n/**\n * @category instances\n * @since 2.10.0\n */\nvar getSemiring = function (S) { return ({\n    add: function (f, g) { return function (x) { return S.add(f(x), g(x)); }; },\n    zero: function () { return S.zero; },\n    mul: function (f, g) { return function (x) { return S.mul(f(x), g(x)); }; },\n    one: function () { return S.one; }\n}); };\nexports.getSemiring = getSemiring;\n/**\n * @category instances\n * @since 2.10.0\n */\nvar getRing = function (R) {\n    var S = (0, exports.getSemiring)(R);\n    return {\n        add: S.add,\n        mul: S.mul,\n        one: S.one,\n        zero: S.zero,\n        sub: function (f, g) { return function (x) { return R.sub(f(x), g(x)); }; }\n    };\n};\nexports.getRing = getRing;\n// -------------------------------------------------------------------------------------\n// utils\n// -------------------------------------------------------------------------------------\n/**\n * @since 2.11.0\n */\nvar apply = function (a) {\n    return function (f) {\n        return f(a);\n    };\n};\nexports.apply = apply;\n/**\n * @since 2.0.0\n */\nfunction identity(a) {\n    return a;\n}\nexports.identity = identity;\n/**\n * @since 2.0.0\n */\nexports.unsafeCoerce = identity;\n/**\n * @since 2.0.0\n */\nfunction constant(a) {\n    return function () { return a; };\n}\nexports.constant = constant;\n/**\n * A thunk that returns always `true`.\n *\n * @since 2.0.0\n */\nexports.constTrue = constant(true);\n/**\n * A thunk that returns always `false`.\n *\n * @since 2.0.0\n */\nexports.constFalse = constant(false);\n/**\n * A thunk that returns always `null`.\n *\n * @since 2.0.0\n */\nexports.constNull = constant(null);\n/**\n * A thunk that returns always `undefined`.\n *\n * @since 2.0.0\n */\nexports.constUndefined = constant(undefined);\n/**\n * A thunk that returns always `void`.\n *\n * @since 2.0.0\n */\nexports.constVoid = exports.constUndefined;\nfunction flip(f) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (args.length > 1) {\n            return f(args[1], args[0]);\n        }\n        return function (a) { return f(a)(args[0]); };\n    };\n}\nexports.flip = flip;\nfunction flow(ab, bc, cd, de, ef, fg, gh, hi, ij) {\n    switch (arguments.length) {\n        case 1:\n            return ab;\n        case 2:\n            return function () {\n                return bc(ab.apply(this, arguments));\n            };\n        case 3:\n            return function () {\n                return cd(bc(ab.apply(this, arguments)));\n            };\n        case 4:\n            return function () {\n                return de(cd(bc(ab.apply(this, arguments))));\n            };\n        case 5:\n            return function () {\n                return ef(de(cd(bc(ab.apply(this, arguments)))));\n            };\n        case 6:\n            return function () {\n                return fg(ef(de(cd(bc(ab.apply(this, arguments))))));\n            };\n        case 7:\n            return function () {\n                return gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))));\n            };\n        case 8:\n            return function () {\n                return hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments))))))));\n            };\n        case 9:\n            return function () {\n                return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this, arguments)))))))));\n            };\n    }\n    return;\n}\nexports.flow = flow;\n/**\n * @since 2.0.0\n */\nfunction tuple() {\n    var t = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        t[_i] = arguments[_i];\n    }\n    return t;\n}\nexports.tuple = tuple;\n/**\n * @since 2.0.0\n */\nfunction increment(n) {\n    return n + 1;\n}\nexports.increment = increment;\n/**\n * @since 2.0.0\n */\nfunction decrement(n) {\n    return n - 1;\n}\nexports.decrement = decrement;\n/**\n * @since 2.0.0\n */\nfunction absurd(_) {\n    throw new Error('Called `absurd` function which should be uncallable');\n}\nexports.absurd = absurd;\n/**\n * Creates a tupled version of this function: instead of `n` arguments, it accepts a single tuple argument.\n *\n * @example\n * import { tupled } from 'fp-ts/function'\n *\n * const add = tupled((x: number, y: number): number => x + y)\n *\n * assert.strictEqual(add([1, 2]), 3)\n *\n * @since 2.4.0\n */\nfunction tupled(f) {\n    return function (a) { return f.apply(void 0, a); };\n}\nexports.tupled = tupled;\n/**\n * Inverse function of `tupled`\n *\n * @since 2.4.0\n */\nfunction untupled(f) {\n    return function () {\n        var a = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            a[_i] = arguments[_i];\n        }\n        return f(a);\n    };\n}\nexports.untupled = untupled;\nfunction pipe(a, ab, bc, cd, de, ef, fg, gh, hi) {\n    switch (arguments.length) {\n        case 1:\n            return a;\n        case 2:\n            return ab(a);\n        case 3:\n            return bc(ab(a));\n        case 4:\n            return cd(bc(ab(a)));\n        case 5:\n            return de(cd(bc(ab(a))));\n        case 6:\n            return ef(de(cd(bc(ab(a)))));\n        case 7:\n            return fg(ef(de(cd(bc(ab(a))))));\n        case 8:\n            return gh(fg(ef(de(cd(bc(ab(a)))))));\n        case 9:\n            return hi(gh(fg(ef(de(cd(bc(ab(a))))))));\n        default: {\n            var ret = arguments[0];\n            for (var i = 1; i < arguments.length; i++) {\n                ret = arguments[i](ret);\n            }\n            return ret;\n        }\n    }\n}\nexports.pipe = pipe;\n/**\n * Type hole simulation\n *\n * @since 2.7.0\n */\nexports.hole = absurd;\n/**\n * @since 2.11.0\n */\nvar SK = function (_, b) { return b; };\nexports.SK = SK;\n/**\n * Use `Predicate` module instead.\n *\n * @category zone of death\n * @since 2.0.0\n * @deprecated\n */\nfunction not(predicate) {\n    return function (a) { return !predicate(a); };\n}\nexports.not = not;\n/**\n * Use `Endomorphism` module instead.\n *\n * @category zone of death\n * @since 2.10.0\n * @deprecated\n */\nvar getEndomorphismMonoid = function () { return ({\n    concat: function (first, second) { return flow(first, second); },\n    empty: identity\n}); };\nexports.getEndomorphismMonoid = getEndomorphismMonoid;\n/** @internal */\nvar dual = function (arity, body) {\n    var isDataFirst = typeof arity === 'number' ? function (args) { return args.length >= arity; } : arity;\n    return function () {\n        var args = Array.from(arguments);\n        if (isDataFirst(arguments)) {\n            return body.apply(this, args);\n        }\n        return function (self) { return body.apply(void 0, __spreadArray([self], args, false)); };\n    };\n};\nexports.dual = dual;\n","<template>\n  <div\n    class=\"flex items-stretch group\"\n    @contextmenu.prevent=\"options!.tippy.show()\"\n  >\n    <div\n      v-tippy=\"{ theme: 'tooltip', delay: [500, 20] }\"\n      class=\"flex items-center justify-center flex-1 min-w-0 py-2 cursor-pointer pointer-events-auto\"\n      :title=\"`${timeStamp}`\"\n      @click=\"customizeSharedRequest()\"\n    >\n      <span\n        class=\"flex items-center justify-center w-16 px-2 truncate pointer-events-none\"\n        :style=\"{ color: requestLabelColor }\"\n      >\n        <span class=\"font-semibold truncate text-tiny\">\n          {{ parseRequest.method }}\n        </span>\n      </span>\n      <span\n        class=\"flex items-center flex-1 min-w-0 pr-2 transition pointer-events-none group-hover:text-secondaryDark\"\n      >\n        <span class=\"flex-1 truncate\">\n          {{ parseRequest.endpoint }}\n        </span>\n      </span>\n      <span\n        class=\"flex px-2 truncate text-secondaryLight group-hover:text-secondaryDark\"\n      >\n        {{ parseRequest.name }}\n      </span>\n    </div>\n    <div>\n      <span>\n        <tippy\n          ref=\"options\"\n          interactive\n          trigger=\"click\"\n          theme=\"popover\"\n          :on-shown=\"() => tippyActions!.focus()\"\n        >\n          <HoppButtonSecondary\n            v-tippy=\"{ theme: 'tooltip' }\"\n            :title=\"t('action.more')\"\n            :icon=\"IconMoreVertical\"\n          />\n          <template #content=\"{ hide }\">\n            <div\n              ref=\"tippyActions\"\n              class=\"flex flex-col focus:outline-none\"\n              tabindex=\"0\"\n              role=\"menu\"\n              @keyup.t=\"openInNewTabAction?.$el.click()\"\n              @keyup.e=\"customizeAction?.$el.click()\"\n              @keyup.delete=\"deleteAction?.$el.click()\"\n              @keyup.escape=\"hide()\"\n            >\n              <HoppSmartItem\n                ref=\"openInNewTabAction\"\n                :icon=\"IconArrowUpRight\"\n                :label=\"`${t('shared_requests.open_new_tab')}`\"\n                :shortcut=\"['T']\"\n                @click=\"\n                  () => {\n                    emit('open-shared-request', parseRequest)\n                    hide()\n                  }\n                \"\n              />\n              <HoppSmartItem\n                ref=\"customizeAction\"\n                :icon=\"IconCustomize\"\n                :label=\"`${t('shared_requests.customize')}`\"\n                :shortcut=\"['E']\"\n                @click=\"\n                  () => {\n                    customizeSharedRequest()\n                    hide()\n                  }\n                \"\n              />\n              <HoppSmartItem\n                ref=\"deleteAction\"\n                :icon=\"IconTrash2\"\n                :label=\"`${t('action.delete')}`\"\n                :shortcut=\"['⌫']\"\n                @click=\"\n                  () => {\n                    deleteSharedRequest()\n                    hide()\n                  }\n                \"\n              />\n            </div>\n          </template>\n        </tippy>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { HoppRESTRequest, translateToNewRequest } from \"@hoppscotch/data\"\nimport { pipe } from \"fp-ts/lib/function\"\nimport { ref } from \"vue\"\nimport { computed } from \"vue\"\nimport { TippyComponent } from \"vue-tippy\"\nimport { useI18n } from \"~/composables/i18n\"\nimport { getMethodLabelColorClassOf } from \"~/helpers/rest/labelColoring\"\nimport { Shortcode } from \"~/helpers/shortcode/Shortcode\"\nimport IconArrowUpRight from \"~icons/lucide/arrow-up-right-square\"\nimport IconMoreVertical from \"~icons/lucide/more-vertical\"\nimport IconCustomize from \"~icons/lucide/settings-2\"\nimport IconTrash2 from \"~icons/lucide/trash-2\"\nimport { shortDateTime } from \"~/helpers/utils/date\"\n\nconst t = useI18n()\n\nconst props = defineProps<{\n  request: Shortcode\n}>()\n\nconst emit = defineEmits<{\n  (\n    e: \"customize-shared-request\",\n    request: HoppRESTRequest,\n    id: string,\n    embedProperties?: string | null\n  ): void\n  (e: \"delete-shared-request\", codeID: string): void\n  (e: \"open-shared-request\", request: HoppRESTRequest): void\n}>()\n\nconst tippyActions = ref<TippyComponent | null>(null)\nconst openInNewTabAction = ref<HTMLButtonElement | null>(null)\nconst customizeAction = ref<HTMLButtonElement | null>(null)\nconst deleteAction = ref<HTMLButtonElement | null>(null)\nconst options = ref<any | null>(null)\n\nconst parseRequest = computed(() =>\n  pipe(props.request.request, JSON.parse, translateToNewRequest)\n)\n\nconst requestLabelColor = computed(() =>\n  getMethodLabelColorClassOf(parseRequest.value)\n)\n\nconst customizeSharedRequest = () => {\n  const embedProperties = props.request.properties\n  emit(\n    \"customize-shared-request\",\n    parseRequest.value,\n    props.request.id,\n    embedProperties\n  )\n}\n\nconst deleteSharedRequest = () => {\n  emit(\"delete-shared-request\", props.request.id)\n}\n\nconst timeStamp = computed(() => shortDateTime(props.request.createdOn))\n</script>\n","import * as E from \"fp-ts/Either\"\nimport { BehaviorSubject, Subscription } from \"rxjs\"\nimport { Subscription as WSubscription } from \"wonka\"\nimport {\n  GQLError,\n  runAuthOnlyGQLSubscription,\n  runGQLQuery,\n} from \"../backend/GQLClient\"\nimport {\n  GetUserShortcodesQuery,\n  GetUserShortcodesDocument,\n  ShortcodeCreatedDocument,\n  ShortcodeDeletedDocument,\n  ShortcodeUpdatedDocument,\n} from \"../backend/graphql\"\nimport { BACKEND_PAGE_SIZE } from \"../backend/helpers\"\nimport { Shortcode } from \"./Shortcode\"\n\nexport default class ShortcodeListAdapter {\n  error$: BehaviorSubject<GQLError<string> | null>\n  loading$: BehaviorSubject<boolean>\n  shortcodes$: BehaviorSubject<GetUserShortcodesQuery[\"myShortcodes\"]>\n  hasMoreShortcodes$: BehaviorSubject<boolean>\n\n  private isDispose: boolean\n\n  private shortcodeCreated: Subscription | null\n  private shortcodeRevoked: Subscription | null\n  private shortcodeUpdated: Subscription | null\n\n  private shortcodeCreatedSub: WSubscription | null\n  private shortcodeRevokedSub: WSubscription | null\n  private shortcodeUpdatedSub: WSubscription | null\n\n  constructor(deferInit = false) {\n    this.error$ = new BehaviorSubject<GQLError<string> | null>(null)\n    this.loading$ = new BehaviorSubject<boolean>(false)\n    this.shortcodes$ = new BehaviorSubject<\n      GetUserShortcodesQuery[\"myShortcodes\"]\n    >([])\n    this.hasMoreShortcodes$ = new BehaviorSubject<boolean>(true)\n    this.isDispose = true\n    this.shortcodeCreated = null\n    this.shortcodeRevoked = null\n    this.shortcodeUpdated = null\n    this.shortcodeCreatedSub = null\n    this.shortcodeRevokedSub = null\n    this.shortcodeUpdatedSub = null\n\n    if (!deferInit) this.initialize()\n  }\n\n  unsubscribeSubscriptions() {\n    this.shortcodeCreated?.unsubscribe()\n    this.shortcodeRevoked?.unsubscribe()\n    this.shortcodeUpdated?.unsubscribe()\n    this.shortcodeCreatedSub?.unsubscribe()\n    this.shortcodeRevokedSub?.unsubscribe()\n    this.shortcodeUpdatedSub?.unsubscribe()\n  }\n\n  initialize() {\n    if (!this.isDispose) throw new Error(`Adapter is already initialized`)\n\n    this.isDispose = false\n    this.fetchList()\n    this.registerSubscriptions()\n  }\n\n  /**\n   * Returns whether the shortcode adapter is active and initialized\n   */\n  public isInitialized() {\n    return !this.isDispose\n  }\n\n  public dispose() {\n    if (this.isDispose) throw new Error(`Adapter has been disposed`)\n    this.isDispose = true\n    this.shortcodes$.next([])\n    this.unsubscribeSubscriptions()\n  }\n\n  fetchList() {\n    this.loadMore(true)\n  }\n\n  async loadMore(forcedAttempt = false) {\n    if (!this.hasMoreShortcodes$.value && !forcedAttempt) return\n\n    this.loading$.next(true)\n\n    const lastCodeID =\n      this.shortcodes$.value.length > 0\n        ? this.shortcodes$.value[this.shortcodes$.value.length - 1].id\n        : undefined\n\n    const result = await runGQLQuery({\n      query: GetUserShortcodesDocument,\n      variables: {\n        cursor: lastCodeID,\n      },\n    })\n    if (E.isLeft(result)) {\n      this.error$.next(result.left)\n      console.error(result.left)\n      this.loading$.next(false)\n\n      throw new Error(`Failed fetching shortcodes list: ${result.left}`)\n    }\n\n    const fetchedResult = result.right.myShortcodes\n\n    this.pushNewShortcode(fetchedResult)\n\n    if (fetchedResult.length !== BACKEND_PAGE_SIZE) {\n      this.hasMoreShortcodes$.next(false)\n    }\n\n    this.loading$.next(false)\n  }\n\n  private pushNewShortcode(results: Shortcode[]) {\n    const userShortcodes = this.shortcodes$.value\n\n    userShortcodes.push(...results)\n\n    this.shortcodes$.next(userShortcodes)\n  }\n\n  private createShortcode(shortcode: Shortcode) {\n    const userShortcode = this.shortcodes$.value\n\n    userShortcode.unshift(shortcode)\n\n    this.shortcodes$.next(userShortcode)\n  }\n\n  private deleteSharedRequest(codeId: string) {\n    const newShortcode = this.shortcodes$.value.filter(\n      ({ id }) => id !== codeId\n    )\n\n    this.shortcodes$.next(newShortcode)\n  }\n\n  private updateSharedRequest(shortcode: Shortcode) {\n    const newShortcode = this.shortcodes$.value.map((oldShortcode) =>\n      oldShortcode.id === shortcode.id ? shortcode : oldShortcode\n    )\n\n    this.shortcodes$.next(newShortcode)\n  }\n\n  private registerSubscriptions() {\n    const [shortcodeCreated$, shortcodeCreatedSub] = runAuthOnlyGQLSubscription(\n      {\n        query: ShortcodeCreatedDocument,\n        variables: {},\n      }\n    )\n\n    this.shortcodeCreatedSub = shortcodeCreatedSub\n    this.shortcodeCreated = shortcodeCreated$.subscribe((result) => {\n      if (E.isLeft(result)) {\n        console.error(result.left)\n        throw new Error(`Shortcode Create Error ${result.left}`)\n      }\n\n      this.createShortcode(result.right.myShortcodesCreated)\n    })\n\n    const [shortcodeRevoked$, shortcodeRevokedSub] = runAuthOnlyGQLSubscription(\n      {\n        query: ShortcodeDeletedDocument,\n        variables: {},\n      }\n    )\n\n    this.shortcodeRevokedSub = shortcodeRevokedSub\n    this.shortcodeRevoked = shortcodeRevoked$.subscribe((result) => {\n      if (E.isLeft(result)) {\n        console.error(result.left)\n        throw new Error(`Shortcode Delete Error ${result.left}`)\n      }\n\n      this.deleteSharedRequest(result.right.myShortcodesRevoked.id)\n    })\n\n    const [shortcodeUpdated$, shortcodeUpdatedSub] = runAuthOnlyGQLSubscription(\n      {\n        query: ShortcodeUpdatedDocument,\n        variables: {},\n      }\n    )\n\n    this.shortcodeUpdatedSub = shortcodeUpdatedSub\n    this.shortcodeUpdated = shortcodeUpdated$.subscribe((result) => {\n      if (E.isLeft(result)) {\n        console.error(result.left)\n        throw new Error(`Shortcode Update Error ${result.left}`)\n      }\n\n      this.updateSharedRequest(result.right.myShortcodesUpdated)\n    })\n  }\n}\n","import { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { runMutation } from \"../GQLClient\"\nimport {\n  CreateShortcodeDocument,\n  CreateShortcodeMutation,\n  CreateShortcodeMutationVariables,\n  DeleteShortcodeDocument,\n  DeleteShortcodeMutation,\n  DeleteShortcodeMutationVariables,\n  UpdateEmbedPropertiesDocument,\n  UpdateEmbedPropertiesMutation,\n  UpdateEmbedPropertiesMutationVariables,\n} from \"../graphql\"\n\ntype DeleteShortcodeErrors = \"shortcode/not_found\"\n\nexport const createShortcode = (\n  request: HoppRESTRequest,\n  properties?: string\n) =>\n  runMutation<CreateShortcodeMutation, CreateShortcodeMutationVariables, \"\">(\n    CreateShortcodeDocument,\n    {\n      request: JSON.stringify(request),\n      properties,\n    }\n  )\n\nexport const deleteShortcode = (code: string) =>\n  runMutation<\n    DeleteShortcodeMutation,\n    DeleteShortcodeMutationVariables,\n    DeleteShortcodeErrors\n  >(DeleteShortcodeDocument, {\n    code,\n  })\n\nexport const updateEmbedProperties = (code: string, properties: string) =>\n  runMutation<\n    UpdateEmbedPropertiesMutation,\n    UpdateEmbedPropertiesMutationVariables,\n    \"\"\n  >(UpdateEmbedPropertiesDocument, {\n    code,\n    properties,\n  })\n","<template>\n  <div>\n    <div\n      class=\"sticky top-0 z-10 flex flex-shrink-0 flex-col overflow-x-auto bg-primary\"\n    >\n      <WorkspaceCurrent\n        :section=\"t('tab.shared_requests')\"\n        :is-only-personal=\"true\"\n      />\n    </div>\n    <div\n      class=\"sticky top-sidebarPrimaryStickyFold z-10 flex flex-1 flex-shrink-0 justify-between overflow-x-auto border-b border-dividerLight bg-primary\"\n    >\n      <HoppButtonSecondary\n        :label=\"t('action.new')\"\n        :icon=\"IconPlus\"\n        class=\"!rounded-none\"\n        @click=\"shareRequest()\"\n      />\n      <HoppButtonSecondary\n        v-tippy=\"{ theme: 'tooltip' }\"\n        to=\"https://docs.hoppscotch.io/documentation/features/widgets\"\n        blank\n        :title=\"t('app.wiki')\"\n        :icon=\"IconHelpCircle\"\n        class=\"py-2\"\n      />\n    </div>\n    <div class=\"flex flex-col\">\n      <div v-if=\"loading\" class=\"flex flex-col items-center justify-center p-4\">\n        <HoppSmartSpinner class=\"mb-4\" />\n        <span class=\"text-secondaryLight\">{{ t(\"state.loading\") }}</span>\n      </div>\n\n      <HoppSmartPlaceholder\n        v-else-if=\"!currentUser\"\n        :src=\"`/images/states/${colorMode.value}/add_files.svg`\"\n        :alt=\"`${t('empty.shared_requests_logout')}`\"\n        :text=\"`${t('empty.shared_requests_logout')}`\"\n      >\n        <template #body>\n          <HoppButtonPrimary\n            :label=\"t('auth.login')\"\n            @click=\"invokeAction('modals.login.toggle')\"\n          />\n        </template>\n      </HoppSmartPlaceholder>\n\n      <template v-else-if=\"sharedRequests.length\">\n        <ShareRequest\n          v-for=\"request in sharedRequests\"\n          :key=\"request.id\"\n          :request=\"request\"\n          @customize-shared-request=\"customizeSharedRequest\"\n          @delete-shared-request=\"deleteSharedRequest\"\n          @open-shared-request=\"openRequestInNewTab\"\n        />\n        <HoppSmartIntersection\n          v-if=\"hasMoreSharedRequests\"\n          @intersecting=\"loadMoreSharedRequests\"\n        >\n          <div v-if=\"adapterLoading\" class=\"flex flex-col items-center py-3\">\n            <HoppSmartSpinner />\n          </div>\n        </HoppSmartIntersection>\n      </template>\n\n      <div v-else-if=\"adapterError\" class=\"flex flex-col items-center py-4\">\n        <icon-lucide-help-circle class=\"svg-icons mb-4\" />\n        {{ getErrorMessage(adapterError) }}\n      </div>\n\n      <HoppSmartPlaceholder\n        v-else\n        :src=\"`/images/states/${colorMode.value}/add_files.svg`\"\n        :alt=\"`${t('empty.shared_requests')}`\"\n        :text=\"t('empty.shared_requests')\"\n        @drop.stop\n      >\n        <template #body>\n          <HoppButtonPrimary\n            :label=\"t('add.new')\"\n            :icon=\"IconPlus\"\n            @click=\"shareRequest()\"\n          />\n        </template>\n      </HoppSmartPlaceholder>\n    </div>\n  </div>\n  <HoppSmartConfirmModal\n    :show=\"showConfirmModal\"\n    :title=\"confirmModalTitle\"\n    :loading-state=\"modalLoadingState\"\n    @hide-modal=\"showConfirmModal = false\"\n    @resolve=\"resolveConfirmModal\"\n  />\n  <ShareModal\n    v-model=\"selectedWidget\"\n    v-model:embed-options=\"embedOptions\"\n    :step=\"step\"\n    :request=\"requestToShare\"\n    :show=\"showShareRequestModal\"\n    :loading=\"shareRequestCreatingLoading\"\n    @hide-modal=\"displayCustomizeRequestModal(false, null)\"\n    @copy-shared-request=\"copySharedRequest\"\n    @create-shared-request=\"createSharedRequest\"\n  />\n</template>\n\n<script lang=\"ts\" setup>\nimport IconHelpCircle from \"~icons/lucide/help-circle\"\nimport IconPlus from \"~icons/lucide/plus\"\nimport { useI18n } from \"~/composables/i18n\"\nimport ShortcodeListAdapter from \"~/helpers/shortcode/ShortcodeListAdapter\"\nimport { useReadonlyStream } from \"~/composables/stream\"\nimport { onAuthEvent, onLoggedIn } from \"~/composables/auth\"\nimport { computed } from \"vue\"\nimport { useColorMode } from \"~/composables/theming\"\nimport { defineActionHandler, invokeAction } from \"~/helpers/actions\"\nimport { platform } from \"~/platform\"\nimport { pipe } from \"fp-ts/function\"\nimport * as TE from \"fp-ts/TaskEither\"\nimport {\n  deleteShortcode as backendDeleteShortcode,\n  createShortcode,\n  updateEmbedProperties,\n} from \"~/helpers/backend/mutations/Shortcode\"\nimport { GQLError } from \"~/helpers/backend/GQLClient\"\nimport { useToast } from \"~/composables/toast\"\nimport { ref } from \"vue\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { copyToClipboard } from \"~/helpers/utils/clipboard\"\nimport * as E from \"fp-ts/Either\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport { useService } from \"dioc/vue\"\nimport { watch } from \"vue\"\n\nconst t = useI18n()\nconst colorMode = useColorMode()\nconst toast = useToast()\n\nconst showConfirmModal = ref(false)\nconst confirmModalTitle = ref(\"\")\nconst modalLoadingState = ref(false)\n\nconst showShareRequestModal = ref(false)\n\nconst sharedRequestID = ref(\"\")\nconst shareRequestCreatingLoading = ref(false)\n\nconst requestToShare = ref<HoppRESTRequest | null>(null)\n\nconst embedOptions = ref<EmbedOption>({\n  selectedTab: \"params\",\n  tabs: [\n    {\n      value: \"params\",\n      label: t(\"tab.parameters\"),\n      enabled: false,\n    },\n    {\n      value: \"bodyParams\",\n      label: t(\"tab.body\"),\n      enabled: false,\n    },\n    {\n      value: \"headers\",\n      label: t(\"tab.headers\"),\n      enabled: false,\n    },\n    {\n      value: \"authorization\",\n      label: t(\"tab.authorization\"),\n      enabled: false,\n    },\n    {\n      value: \"requestVariables\",\n      label: t(\"tab.variables\"),\n      enabled: false,\n    },\n  ],\n  theme: \"system\",\n})\n\nconst updateEmbedProperty = async (\n  shareRequestID: string,\n  properties: string\n) => {\n  const customizeEmbedResult = await updateEmbedProperties(\n    shareRequestID,\n    properties\n  )()\n\n  if (E.isLeft(customizeEmbedResult)) {\n    toast.error(`${customizeEmbedResult.left.error}`)\n    toast.error(t(\"error.something_went_wrong\"))\n  }\n}\n\nwatch(\n  () => embedOptions.value,\n  () => {\n    if (\n      requestToShare.value &&\n      requestToShare.value.id &&\n      showShareRequestModal.value\n    ) {\n      if (selectedWidget.value.value === \"embed\") {\n        const properties = {\n          options: embedOptions.value.tabs\n            .filter((tab) => tab.enabled)\n            .map((tab) => tab.value),\n          theme: embedOptions.value.theme,\n        }\n        updateEmbedProperty(requestToShare.value.id, JSON.stringify(properties))\n      }\n    }\n  },\n  { deep: true }\n)\n\nconst restTab = useService(RESTTabService)\n\nconst currentUser = useReadonlyStream(\n  platform.auth.getCurrentUserStream(),\n  platform.auth.getCurrentUser()\n)\n\nconst step = ref(1)\n\ntype EmbedTabs =\n  | \"params\"\n  | \"bodyParams\"\n  | \"headers\"\n  | \"authorization\"\n  | \"requestVariables\"\n\ntype EmbedOption = {\n  selectedTab: EmbedTabs\n  tabs: {\n    value: EmbedTabs\n    label: string\n    enabled: boolean\n  }[]\n  theme: \"light\" | \"dark\" | \"system\"\n}\n\ntype WidgetID = \"embed\" | \"button\" | \"link\"\n\ntype Widget = {\n  value: WidgetID\n  label: string\n  info: string\n}\n\nconst selectedWidget = ref<Widget>({\n  value: \"embed\",\n  label: t(\"shared_requests.embed\"),\n  info: t(\"shared_requests.embed_info\"),\n})\n\nconst adapter = new ShortcodeListAdapter(true)\nconst adapterLoading = useReadonlyStream(adapter.loading$, false)\nconst adapterError = useReadonlyStream(adapter.error$, null)\nconst sharedRequests = useReadonlyStream(adapter.shortcodes$, [])\nconst hasMoreSharedRequests = useReadonlyStream(\n  adapter.hasMoreShortcodes$,\n  true\n)\n\nconst loading = computed(\n  () => adapterLoading.value && sharedRequests.value.length === 0\n)\n\nonLoggedIn(() => {\n  if (adapter.isInitialized()) {\n    return\n  }\n\n  try {\n    // wait for a bit to let the auth token to be set\n    // because in some race conditions, the token is not set this fixes that\n    const initLoadTimeout = setTimeout(() => {\n      adapter.initialize()\n    }, 10)\n\n    return () => {\n      clearTimeout(initLoadTimeout)\n    }\n  } catch (e) {\n    console.error(e)\n  }\n})\n\nonAuthEvent((ev) => {\n  if (ev.event === \"logout\" && adapter.isInitialized()) {\n    adapter.dispose()\n    return\n  }\n})\n\nconst shareRequest = () => {\n  if (currentUser.value) {\n    const tab = restTab.currentActiveTab\n    invokeAction(\"share.request\", {\n      request: tab.value.document.request,\n    })\n  } else {\n    invokeAction(\"modals.login.toggle\")\n  }\n}\n\nconst deleteSharedRequest = (codeID: string) => {\n  if (currentUser.value) {\n    sharedRequestID.value = codeID\n    confirmModalTitle.value = `${t(\"confirm.remove_shared_request\")}`\n    showConfirmModal.value = true\n  } else {\n    invokeAction(\"modals.login.toggle\")\n  }\n}\n\nconst onDeleteSharedRequest = () => {\n  modalLoadingState.value = true\n  pipe(\n    backendDeleteShortcode(sharedRequestID.value),\n    TE.match(\n      (err: GQLError<string>) => {\n        toast.error(getErrorMessage(err))\n        showConfirmModal.value = false\n      },\n      () => {\n        toast.success(t(\"shared_requests.deleted\"))\n        sharedRequestID.value = \"\"\n        modalLoadingState.value = false\n        showConfirmModal.value = false\n      }\n    )\n  )()\n}\n\nconst loadMoreSharedRequests = () => {\n  adapter.loadMore()\n}\n\nconst displayShareRequestModal = (show: boolean) => {\n  showShareRequestModal.value = show\n  step.value = 1\n}\n\nconst displayCustomizeRequestModal = (\n  show: boolean,\n  embedProperties?: string | null\n) => {\n  showShareRequestModal.value = show\n  step.value = 2\n  if (!embedProperties) {\n    selectedWidget.value = {\n      value: \"button\",\n      label: t(\"shared_requests.button\"),\n      info: t(\"shared_requests.button_info\"),\n    }\n    embedOptions.value = {\n      selectedTab: \"params\",\n      tabs: [\n        {\n          value: \"params\",\n          label: t(\"tab.parameters\"),\n          enabled: false,\n        },\n        {\n          value: \"bodyParams\",\n          label: t(\"tab.body\"),\n          enabled: false,\n        },\n        {\n          value: \"headers\",\n          label: t(\"tab.headers\"),\n          enabled: false,\n        },\n        {\n          value: \"authorization\",\n          label: t(\"tab.authorization\"),\n          enabled: false,\n        },\n        {\n          value: \"requestVariables\",\n          label: t(\"tab.variables\"),\n          enabled: false,\n        },\n      ],\n      theme: \"system\",\n    }\n  } else {\n    const parsedEmbedProperties = JSON.parse(embedProperties)\n    embedOptions.value = {\n      selectedTab: parsedEmbedProperties.options[0],\n      tabs: embedOptions.value.tabs.map((tab) => {\n        return {\n          ...tab,\n          enabled: parsedEmbedProperties.options.includes(tab.value),\n        }\n      }),\n      theme: parsedEmbedProperties.theme,\n    }\n  }\n}\n\nconst createSharedRequest = async (request: HoppRESTRequest | null) => {\n  if (request && selectedWidget.value) {\n    const properties = {\n      options: [\"parameters\", \"body\", \"headers\"],\n      theme: \"system\",\n    }\n    shareRequestCreatingLoading.value = true\n    const sharedRequestResult = await createShortcode(\n      request,\n      selectedWidget.value.value === \"embed\"\n        ? JSON.stringify(properties)\n        : undefined\n    )()\n\n    platform.analytics?.logEvent({\n      type: \"HOPP_SHORTCODE_CREATED\",\n    })\n\n    if (E.isLeft(sharedRequestResult)) {\n      toast.error(`${sharedRequestResult.left.error}`)\n      toast.error(t(\"error.something_went_wrong\"))\n    } else if (E.isRight(sharedRequestResult)) {\n      if (sharedRequestResult.right.createShortcode) {\n        shareRequestCreatingLoading.value = false\n        requestToShare.value = {\n          ...JSON.parse(sharedRequestResult.right.createShortcode.request),\n          id: sharedRequestResult.right.createShortcode.id,\n        }\n        step.value = 2\n\n        if (sharedRequestResult.right.createShortcode.properties) {\n          const parsedEmbedProperties = JSON.parse(\n            sharedRequestResult.right.createShortcode.properties\n          )\n\n          embedOptions.value = {\n            selectedTab: parsedEmbedProperties.options[0],\n            tabs: embedOptions.value.tabs.map((tab) => {\n              return {\n                ...tab,\n                enabled: parsedEmbedProperties.options.includes(tab.value),\n              }\n            }),\n            theme: parsedEmbedProperties.theme,\n          }\n        }\n      }\n    }\n  }\n}\n\nconst customizeSharedRequest = (\n  request: HoppRESTRequest,\n  shredRequestID: string,\n  embedProperties?: string | null\n) => {\n  requestToShare.value = {\n    ...request,\n    id: shredRequestID,\n  }\n  displayCustomizeRequestModal(true, embedProperties)\n}\n\nconst copySharedRequest = (payload: {\n  sharedRequestID: string | undefined\n  content: string | undefined\n}) => {\n  if (payload.content) {\n    copyToClipboard(payload.content)\n    toast.success(t(\"state.copied_to_clipboard\"))\n  }\n}\n\nconst resolveConfirmModal = (title: string | null) => {\n  if (title === `${t(\"confirm.remove_shared_request\")}`) onDeleteSharedRequest()\n  else {\n    console.error(\n      `Confirm modal title ${title} is not handled by the component`\n    )\n    toast.error(t(\"error.something_went_wrong\"))\n    showConfirmModal.value = false\n    sharedRequestID.value = \"\"\n  }\n}\n\nconst getErrorMessage = (err: GQLError<string>) => {\n  if (err.type === \"network_error\") {\n    return t(\"error.network_error\")\n  }\n  switch (err.error) {\n    case \"shortcode/not_found\":\n      return t(\"shared_requests.not_found\")\n    default:\n      return t(\"error.something_went_wrong\")\n  }\n}\n\nconst openRequestInNewTab = (request: HoppRESTRequest) => {\n  restTab.createNewTab({\n    isDirty: false,\n    request,\n  })\n}\n\ndefineActionHandler(\"share.request\", ({ request }) => {\n  requestToShare.value = request\n  displayShareRequestModal(true)\n})\n</script>\n","<template>\n  <div class=\"flex divide-x divide-dividerLight\">\n    <tippy\n      interactive\n      trigger=\"click\"\n      theme=\"popover\"\n      :on-shown=\"() => envSelectorActions!.focus()\"\n    >\n      <HoppSmartSelectWrapper\n        v-tippy=\"{ theme: 'tooltip' }\"\n        :title=\"`${t('environment.select')}`\"\n      >\n        <HoppButtonSecondary\n          :icon=\"IconLayers\"\n          :label=\"\n            mdAndLarger\n              ? selectedEnv.type !== 'NO_ENV_SELECTED'\n                ? selectedEnv.name\n                : `${t('environment.select')}`\n              : ''\n          \"\n          class=\"flex-1 !justify-start rounded-none pr-8\"\n        />\n      </HoppSmartSelectWrapper>\n      <template #content=\"{ hide }\">\n        <div\n          ref=\"envSelectorActions\"\n          role=\"menu\"\n          class=\"flex flex-col focus:outline-none\"\n          tabindex=\"0\"\n          @keyup.escape=\"hide()\"\n        >\n          <HoppSmartItem\n            v-if=\"!isScopeSelector\"\n            :label=\"`${t('environment.no_environment')}`\"\n            :info-icon=\"\n              selectedEnvironmentIndex.type === 'NO_ENV_SELECTED'\n                ? IconCheck\n                : undefined\n            \"\n            :active-info-icon=\"\n              selectedEnvironmentIndex.type === 'NO_ENV_SELECTED'\n            \"\n            @click=\"\n              () => {\n                selectedEnvironmentIndex = { type: 'NO_ENV_SELECTED' }\n                hide()\n              }\n            \"\n          />\n          <HoppSmartItem\n            v-else-if=\"isScopeSelector && modelValue\"\n            :label=\"t('environment.global')\"\n            :icon=\"IconGlobe\"\n            :info-icon=\"modelValue.type === 'global' ? IconCheck : undefined\"\n            :active-info-icon=\"modelValue.type === 'global'\"\n            @click=\"\n              () => {\n                $emit('update:modelValue', {\n                  type: 'global',\n                })\n                hide()\n              }\n            \"\n          />\n          <HoppSmartTabs\n            v-model=\"selectedEnvTab\"\n            :styles=\"`sticky overflow-x-auto my-2 border border-divider rounded flex-shrink-0 z-10 top-0 bg-primary ${\n              !isTeamSelected || workspace.type === 'personal'\n                ? 'bg-primaryLight'\n                : ''\n            }`\"\n            render-inactive-tabs\n          >\n            <HoppSmartTab\n              :id=\"'my-environments'\"\n              :label=\"`${t('environment.my_environments')}`\"\n            >\n              <HoppSmartItem\n                v-for=\"(gen, index) in myEnvironments\"\n                :key=\"`gen-${index}`\"\n                :icon=\"IconLayers\"\n                :label=\"gen.name\"\n                :info-icon=\"isEnvActive(index) ? IconCheck : undefined\"\n                :active-info-icon=\"isEnvActive(index)\"\n                @click=\"\n                  () => {\n                    handleEnvironmentChange(index, {\n                      type: 'my-environment',\n                      environment: gen,\n                    })\n                    hide()\n                  }\n                \"\n              />\n              <HoppSmartPlaceholder\n                v-if=\"myEnvironments.length === 0\"\n                :src=\"`/images/states/${colorMode.value}/blockchain.svg`\"\n                :alt=\"`${t('empty.environments')}`\"\n                :text=\"t('empty.environments')\"\n              />\n            </HoppSmartTab>\n            <HoppSmartTab\n              :id=\"'team-environments'\"\n              :label=\"`${t('environment.team_environments')}`\"\n              :disabled=\"!isTeamSelected || workspace.type === 'personal'\"\n            >\n              <div\n                v-if=\"teamListLoading\"\n                class=\"flex flex-col items-center justify-center p-4\"\n              >\n                <HoppSmartSpinner class=\"my-4\" />\n                <span class=\"text-secondaryLight\">\n                  {{ t(\"state.loading\") }}\n                </span>\n              </div>\n              <div v-if=\"isTeamSelected\" class=\"flex flex-col\">\n                <HoppSmartItem\n                  v-for=\"(gen, index) in teamEnvironmentList\"\n                  :key=\"`gen-team-${index}`\"\n                  :icon=\"IconLayers\"\n                  :label=\"gen.environment.name\"\n                  :info-icon=\"isEnvActive(gen.id) ? IconCheck : undefined\"\n                  :active-info-icon=\"isEnvActive(gen.id)\"\n                  @click=\"\n                    () => {\n                      handleEnvironmentChange(index, {\n                        type: 'team-environment',\n                        environment: gen,\n                      })\n                      hide()\n                    }\n                  \"\n                />\n                <HoppSmartPlaceholder\n                  v-if=\"teamEnvironmentList.length === 0\"\n                  :src=\"`/images/states/${colorMode.value}/blockchain.svg`\"\n                  :alt=\"`${t('empty.environments')}`\"\n                  :text=\"t('empty.environments')\"\n                />\n              </div>\n              <div\n                v-if=\"!teamListLoading && teamAdapterError\"\n                class=\"flex flex-col items-center py-4\"\n              >\n                <icon-lucide-help-circle class=\"svg-icons mb-4\" />\n                {{ getErrorMessage(teamAdapterError) }}\n              </div>\n            </HoppSmartTab>\n          </HoppSmartTabs>\n        </div>\n      </template>\n    </tippy>\n    <span class=\"flex\">\n      <tippy\n        interactive\n        trigger=\"click\"\n        theme=\"popover\"\n        :on-shown=\"() => envQuickPeekActions!.focus()\"\n      >\n        <HoppButtonSecondary\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :title=\"`${t('environment.quick_peek')}`\"\n          :icon=\"IconEye\"\n          class=\"!px-4\"\n        />\n        <template #content=\"{ hide }\">\n          <div\n            ref=\"envQuickPeekActions\"\n            role=\"menu\"\n            class=\"flex flex-col focus:outline-none\"\n            tabindex=\"0\"\n            @keyup.escape=\"hide()\"\n          >\n            <div\n              class=\"sticky top-0 flex items-center justify-between truncate rounded border border-divider bg-primary pl-4 font-semibold text-secondaryDark\"\n            >\n              {{ t(\"environment.global_variables\") }}\n              <HoppButtonSecondary\n                v-tippy=\"{ theme: 'tooltip' }\"\n                :title=\"t('action.edit')\"\n                :icon=\"IconEdit\"\n                @click=\"\n                  () => {\n                    editGlobalEnv()\n                    hide()\n                  }\n                \"\n              />\n            </div>\n            <div class=\"my-2 flex flex-1 flex-col space-y-2 pl-4 pr-2\">\n              <div class=\"flex flex-1 space-x-4\">\n                <span\n                  class=\"min-w-[9rem] w-1/4 truncate text-tiny font-semibold\"\n                >\n                  {{ t(\"environment.name\") }}\n                </span>\n                <span\n                  class=\"min-w-[9rem] w-full truncate text-tiny font-semibold\"\n                >\n                  {{ t(\"environment.value\") }}\n                </span>\n              </div>\n              <div\n                v-for=\"(variable, index) in globalEnvs\"\n                :key=\"index\"\n                class=\"flex flex-1 space-x-4\"\n              >\n                <span class=\"min-w-[9rem] w-1/4 truncate text-secondaryLight\">\n                  {{ variable.key }}\n                </span>\n                <span class=\"min-w-[9rem] w-full truncate text-secondaryLight\">\n                  <template v-if=\"variable.secret\"> ******** </template>\n                  <template v-else>\n                    {{ variable.value }}\n                  </template>\n                </span>\n              </div>\n              <div v-if=\"globalEnvs.length === 0\" class=\"text-secondaryLight\">\n                {{ t(\"environment.empty_variables\") }}\n              </div>\n            </div>\n            <div\n              class=\"sticky top-0 mt-2 flex items-center justify-between truncate rounded border border-divider bg-primary pl-4 font-semibold text-secondaryDark\"\n              :class=\"{\n                'bg-primaryLight': !selectedEnv.variables,\n              }\"\n            >\n              {{ t(\"environment.list\") }}\n              <HoppButtonSecondary\n                v-tippy=\"{ theme: 'tooltip' }\"\n                :disabled=\"!selectedEnv.variables\"\n                :title=\"t('action.edit')\"\n                :icon=\"IconEdit\"\n                @click=\"\n                  () => {\n                    editEnv()\n                    hide()\n                  }\n                \"\n              />\n            </div>\n            <div\n              v-if=\"selectedEnv.type === 'NO_ENV_SELECTED'\"\n              class=\"my-2 flex flex-1 flex-col pl-4 text-secondaryLight\"\n            >\n              {{ t(\"environment.no_active_environment\") }}\n            </div>\n            <div v-else class=\"my-2 flex flex-1 flex-col space-y-2 pl-4 pr-2\">\n              <div class=\"flex flex-1 space-x-4\">\n                <span\n                  class=\"min-w-[9rem] w-1/4 truncate text-tiny font-semibold\"\n                >\n                  {{ t(\"environment.name\") }}\n                </span>\n                <span\n                  class=\"min-w-[9rem] w-full truncate text-tiny font-semibold\"\n                >\n                  {{ t(\"environment.value\") }}\n                </span>\n              </div>\n              <div\n                v-for=\"(variable, index) in environmentVariables\"\n                :key=\"index\"\n                class=\"flex flex-1 space-x-4\"\n              >\n                <span class=\"min-w-[9rem] w-1/4 truncate text-secondaryLight\">\n                  {{ variable.key }}\n                </span>\n                <span class=\"min-w-[9rem] w-full truncate text-secondaryLight\">\n                  <template v-if=\"variable.secret\"> ******** </template>\n                  <template v-else>\n                    {{ variable.value }}\n                  </template>\n                </span>\n              </div>\n              <div\n                v-if=\"environmentVariables.length === 0\"\n                class=\"text-secondaryLight\"\n              >\n                {{ t(\"environment.empty_variables\") }}\n              </div>\n            </div>\n          </div>\n        </template>\n      </tippy>\n    </span>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, watch } from \"vue\"\nimport IconCheck from \"~icons/lucide/check\"\nimport IconLayers from \"~icons/lucide/layers\"\nimport IconEye from \"~icons/lucide/eye\"\nimport IconEdit from \"~icons/lucide/edit\"\nimport IconGlobe from \"~icons/lucide/globe\"\nimport { TippyComponent } from \"vue-tippy\"\nimport { useI18n } from \"~/composables/i18n\"\nimport { GQLError } from \"~/helpers/backend/GQLClient\"\nimport { useReadonlyStream, useStream } from \"~/composables/stream\"\nimport {\n  environments$,\n  globalEnv$,\n  selectedEnvironmentIndex$,\n  setSelectedEnvironmentIndex,\n} from \"~/newstore/environments\"\nimport TeamEnvironmentAdapter from \"~/helpers/teams/TeamEnvironmentAdapter\"\nimport { useColorMode } from \"@composables/theming\"\nimport { breakpointsTailwind, useBreakpoints } from \"@vueuse/core\"\nimport { invokeAction } from \"~/helpers/actions\"\nimport { TeamEnvironment } from \"~/helpers/teams/TeamEnvironment\"\nimport { Environment } from \"@hoppscotch/data\"\nimport { onMounted } from \"vue\"\nimport { useLocalState } from \"~/newstore/localstate\"\nimport { GetMyTeamsQuery } from \"~/helpers/backend/graphql\"\nimport { useService } from \"dioc/vue\"\nimport { WorkspaceService } from \"~/services/workspace.service\"\n\ntype Scope =\n  | {\n      type: \"global\"\n    }\n  | {\n      type: \"my-environment\"\n      environment: Environment\n      index: number\n    }\n  | {\n      type: \"team-environment\"\n      environment: TeamEnvironment\n    }\nconst props = defineProps<{\n  isScopeSelector?: boolean\n  modelValue?: Scope\n}>()\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", data: Scope): void\n}>()\n\nconst breakpoints = useBreakpoints(breakpointsTailwind)\nconst mdAndLarger = breakpoints.greater(\"md\")\n\nconst t = useI18n()\n\nconst colorMode = useColorMode()\n\ntype EnvironmentType = \"my-environments\" | \"team-environments\"\n\nconst myEnvironments = useReadonlyStream(environments$, [])\n\nconst workspaceService = useService(WorkspaceService)\nconst workspace = workspaceService.currentWorkspace\n\n// TeamList-Adapter\nconst teamListAdapter = workspaceService.acquireTeamListAdapter(null)\nconst myTeams = useReadonlyStream(teamListAdapter.teamList$, null)\nconst teamListFetched = ref(false)\nconst REMEMBERED_TEAM_ID = useLocalState(\"REMEMBERED_TEAM_ID\")\n\nconst switchToTeamWorkspace = (team: GetMyTeamsQuery[\"myTeams\"][number]) => {\n  REMEMBERED_TEAM_ID.value = team.id\n  workspaceService.changeWorkspace({\n    teamID: team.id,\n    teamName: team.name,\n    type: \"team\",\n    role: team.myRole,\n  })\n}\nwatch(\n  () => myTeams.value,\n  (newTeams) => {\n    if (newTeams && !teamListFetched.value) {\n      teamListFetched.value = true\n      if (REMEMBERED_TEAM_ID.value) {\n        const team = newTeams.find((t) => t.id === REMEMBERED_TEAM_ID.value)\n        if (team) switchToTeamWorkspace(team)\n      }\n    }\n  }\n)\n\n// TeamEnv List Adapter\nconst teamEnvListAdapter = new TeamEnvironmentAdapter(undefined)\nconst teamListLoading = useReadonlyStream(teamEnvListAdapter.loading$, false)\nconst teamAdapterError = useReadonlyStream(teamEnvListAdapter.error$, null)\nconst teamEnvironmentList = useReadonlyStream(\n  teamEnvListAdapter.teamEnvironmentList$,\n  []\n)\n\nconst handleEnvironmentChange = (\n  index: number,\n  env?:\n    | {\n        type: \"my-environment\"\n        environment: Environment\n      }\n    | {\n        type: \"team-environment\"\n        environment: TeamEnvironment\n      }\n) => {\n  if (props.isScopeSelector && env) {\n    if (env.type === \"my-environment\") {\n      emit(\"update:modelValue\", {\n        type: \"my-environment\",\n        environment: env.environment,\n        index,\n      })\n    } else if (env.type === \"team-environment\") {\n      emit(\"update:modelValue\", {\n        type: \"team-environment\",\n        environment: env.environment,\n      })\n    }\n  } else {\n    if (env && env.type === \"my-environment\") {\n      selectedEnvironmentIndex.value = {\n        type: \"MY_ENV\",\n        index,\n      }\n    } else if (env && env.type === \"team-environment\") {\n      selectedEnvironmentIndex.value = {\n        type: \"TEAM_ENV\",\n        teamEnvID: env.environment.id,\n        teamID: env.environment.teamID,\n        environment: env.environment.environment,\n      }\n    }\n  }\n}\nconst isEnvActive = (id: string | number) => {\n  if (props.isScopeSelector) {\n    if (props.modelValue?.type === \"my-environment\") {\n      return props.modelValue.index === id\n    } else if (props.modelValue?.type === \"team-environment\") {\n      return (\n        props.modelValue?.type === \"team-environment\" &&\n        props.modelValue.environment &&\n        props.modelValue.environment.id === id\n      )\n    }\n  } else {\n    if (selectedEnvironmentIndex.value.type === \"MY_ENV\") {\n      return selectedEnv.value.index === id\n    }\n    return (\n      selectedEnvironmentIndex.value.type === \"TEAM_ENV\" &&\n      selectedEnv.value.teamEnvID === id\n    )\n  }\n}\n\nconst selectedEnvironmentIndex = useStream(\n  selectedEnvironmentIndex$,\n  { type: \"NO_ENV_SELECTED\" },\n  setSelectedEnvironmentIndex\n)\n\nconst isTeamSelected = computed(\n  () => workspace.value.type === \"team\" && workspace.value.teamID !== undefined\n)\n\nconst selectedEnvTab = ref<EnvironmentType>(\"my-environments\")\n\nwatch(\n  () => workspace.value,\n  (newVal) => {\n    if (newVal.type === \"personal\") {\n      selectedEnvTab.value = \"my-environments\"\n    } else {\n      selectedEnvTab.value = \"team-environments\"\n      if (newVal.teamID) {\n        teamEnvListAdapter.changeTeamID(newVal.teamID)\n      }\n    }\n  },\n  { immediate: true }\n)\n\nconst selectedEnv = computed(() => {\n  if (props.isScopeSelector) {\n    if (props.modelValue?.type === \"my-environment\") {\n      return {\n        type: \"MY_ENV\",\n        index: props.modelValue.index,\n        name: props.modelValue.environment?.name,\n        variables: props.modelValue.environment?.variables,\n      }\n    } else if (props.modelValue?.type === \"team-environment\") {\n      return {\n        type: \"TEAM_ENV\",\n        name: props.modelValue.environment.environment.name,\n        teamEnvID: props.modelValue.environment.id,\n        variables: props.modelValue.environment.environment.variables,\n      }\n    }\n    return {\n      type: \"global\",\n      name: \"Global\",\n    }\n  }\n  if (selectedEnvironmentIndex.value.type === \"MY_ENV\") {\n    const environment =\n      myEnvironments.value[selectedEnvironmentIndex.value.index]\n    return {\n      type: \"MY_ENV\",\n      index: selectedEnvironmentIndex.value.index,\n      name: environment.name,\n      variables: environment.variables,\n    }\n  } else if (selectedEnvironmentIndex.value.type === \"TEAM_ENV\") {\n    const teamEnv = teamEnvironmentList.value.find(\n      (env) =>\n        env.id ===\n        (selectedEnvironmentIndex.value.type === \"TEAM_ENV\" &&\n          selectedEnvironmentIndex.value.teamEnvID)\n    )\n    if (teamEnv) {\n      return {\n        type: \"TEAM_ENV\",\n        name: teamEnv.environment.name,\n        teamEnvID: selectedEnvironmentIndex.value.teamEnvID,\n        variables: teamEnv.environment.variables,\n      }\n    }\n    return { type: \"NO_ENV_SELECTED\" }\n  }\n  return { type: \"NO_ENV_SELECTED\" }\n})\n\n// Set the selected environment as initial scope value\nonMounted(() => {\n  if (props.isScopeSelector) {\n    if (\n      selectedEnvironmentIndex.value.type === \"MY_ENV\" &&\n      selectedEnvironmentIndex.value.index !== undefined\n    ) {\n      emit(\"update:modelValue\", {\n        type: \"my-environment\",\n        environment: myEnvironments.value[selectedEnvironmentIndex.value.index],\n        index: selectedEnvironmentIndex.value.index,\n      })\n    } else if (\n      selectedEnvironmentIndex.value.type === \"TEAM_ENV\" &&\n      selectedEnvironmentIndex.value.teamEnvID &&\n      teamEnvironmentList.value &&\n      teamEnvironmentList.value.length > 0\n    ) {\n      const teamEnv = teamEnvironmentList.value.find(\n        (env) =>\n          env.id ===\n          (selectedEnvironmentIndex.value.type === \"TEAM_ENV\" &&\n            selectedEnvironmentIndex.value.teamEnvID)\n      )\n      if (teamEnv) {\n        emit(\"update:modelValue\", {\n          type: \"team-environment\",\n          environment: teamEnv,\n        })\n      }\n    } else {\n      emit(\"update:modelValue\", {\n        type: \"global\",\n      })\n    }\n  }\n})\n\n// Template refs\nconst envSelectorActions = ref<TippyComponent | null>(null)\nconst envQuickPeekActions = ref<TippyComponent | null>(null)\n\nconst getErrorMessage = (err: GQLError<string>) => {\n  if (err.type === \"network_error\") {\n    return t(\"error.network_error\")\n  }\n  switch (err.error) {\n    case \"team_environment/not_found\":\n      return t(\"team_environment.not_found\")\n    default:\n      return t(\"error.something_went_wrong\")\n  }\n}\n\nconst globalEnvs = useReadonlyStream(globalEnv$, [])\n\nconst environmentVariables = computed(() => {\n  if (selectedEnv.value.variables) {\n    return selectedEnv.value.variables\n  }\n  return []\n})\n\nconst editGlobalEnv = () => {\n  invokeAction(\"modals.global.environment.update\", {})\n}\n\nconst editEnv = () => {\n  if (selectedEnv.value.type === \"MY_ENV\" && selectedEnv.value.name) {\n    invokeAction(\"modals.my.environment.edit\", {\n      envName: selectedEnv.value.name,\n    })\n  } else if (selectedEnv.value.type === \"TEAM_ENV\" && selectedEnv.value.name) {\n    invokeAction(\"modals.team.environment.edit\", {\n      envName: selectedEnv.value.name,\n    })\n  }\n}\n</script>\n","<template>\n  <HoppSmartModal\n    v-if=\"show\"\n    :title=\"t('environment.set_as_environment')\"\n    @close=\"hideModal\"\n  >\n    <template #body>\n      <div class=\"flex flex-1 flex-col space-y-4\">\n        <div class=\"ml-2 flex items-center space-x-8\">\n          <label for=\"name\" class=\"min-w-[2.5rem] font-semibold\">{{\n            t(\"environment.name\")\n          }}</label>\n          <input\n            v-model=\"editingName\"\n            type=\"text\"\n            :placeholder=\"t('environment.variable')\"\n            class=\"input\"\n          />\n        </div>\n        <div class=\"ml-2 flex items-center space-x-8\">\n          <label for=\"value\" class=\"min-w-[2.5rem] font-semibold\">{{\n            t(\"environment.value\")\n          }}</label>\n          <SmartEnvInput\n            v-model=\"editingValue\"\n            type=\"text\"\n            class=\"input\"\n            :placeholder=\"t('environment.value')\"\n          />\n        </div>\n        <div class=\"ml-2 flex items-center space-x-8\">\n          <label for=\"scope\" class=\"min-w-[2.5rem] font-semibold\">\n            {{ t(\"environment.scope\") }}\n          </label>\n          <div\n            class=\"relative flex flex-1 flex-col rounded border border-divider focus-visible:border-dividerDark\"\n          >\n            <EnvironmentsSelector v-model=\"scope\" :is-scope-selector=\"true\" />\n          </div>\n        </div>\n        <div v-if=\"replaceWithVariable\" class=\"mt-3 flex space-x-2\">\n          <div class=\"min-w-[4rem]\" />\n          <HoppSmartCheckbox\n            :on=\"replaceWithVariable\"\n            :title=\"t('environment.replace_with_variable')\"\n            @change=\"replaceWithVariable = !replaceWithVariable\"\n          />\n          <label for=\"replaceWithVariable\">\n            {{ t(\"environment.replace_with_variable\") }}</label\n          >\n        </div>\n      </div>\n    </template>\n    <template #footer>\n      <span class=\"flex space-x-2\">\n        <HoppButtonPrimary\n          :label=\"t('action.save')\"\n          outline\n          @click=\"addEnvironment\"\n        />\n        <HoppButtonSecondary\n          :label=\"t('action.cancel')\"\n          outline\n          filled\n          @click=\"hideModal\"\n        />\n      </span>\n    </template>\n  </HoppSmartModal>\n</template>\n\n<script lang=\"ts\" setup>\nimport { Environment } from \"@hoppscotch/data\"\nimport { ref, watch } from \"vue\"\nimport { useI18n } from \"~/composables/i18n\"\nimport { useToast } from \"~/composables/toast\"\nimport { GQLError } from \"~/helpers/backend/GQLClient\"\nimport { TeamEnvironment } from \"~/helpers/teams/TeamEnvironment\"\nimport {\n  addEnvironmentVariable,\n  addGlobalEnvVariable,\n} from \"~/newstore/environments\"\nimport * as TE from \"fp-ts/TaskEither\"\nimport { pipe } from \"fp-ts/function\"\nimport { updateTeamEnvironment } from \"~/helpers/backend/mutations/TeamEnvironment\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport { useService } from \"dioc/vue\"\n\nconst t = useI18n()\nconst toast = useToast()\n\nconst tabs = useService(RESTTabService)\n\nconst props = defineProps<{\n  show: boolean\n  position: { top: number; left: number }\n  name: string\n  value: string\n}>()\n\nconst emit = defineEmits<{\n  (e: \"hide-modal\"): void\n}>()\n\nconst hideModal = () => {\n  emit(\"hide-modal\")\n}\n\nwatch(\n  () => props.show,\n  (newVal) => {\n    if (!newVal) {\n      scope.value = {\n        type: \"global\",\n      }\n      replaceWithVariable.value = false\n      editingName.value = \"\"\n      editingValue.value = \"\"\n    }\n    editingName.value = props.name\n    editingValue.value = props.value\n  }\n)\n\ntype Scope =\n  | {\n      type: \"global\"\n    }\n  | {\n      type: \"my-environment\"\n      environment: Environment\n      index: number\n    }\n  | {\n      type: \"team-environment\"\n      environment: TeamEnvironment\n    }\n\nconst scope = ref<Scope>({\n  type: \"global\",\n})\n\nconst replaceWithVariable = ref(false)\n\nconst editingName = ref(props.name)\nconst editingValue = ref(props.value)\n\nconst addEnvironment = async () => {\n  if (!editingName.value) {\n    toast.error(`${t(\"environment.invalid_name\")}`)\n    return\n  }\n  if (scope.value.type === \"global\") {\n    addGlobalEnvVariable({\n      key: editingName.value,\n      value: editingValue.value,\n      secret: false,\n    })\n    toast.success(`${t(\"environment.updated\")}`)\n  } else if (scope.value.type === \"my-environment\") {\n    addEnvironmentVariable(scope.value.index, {\n      key: editingName.value,\n      value: editingValue.value,\n      secret: false,\n    })\n    toast.success(`${t(\"environment.updated\")}`)\n  } else {\n    const newVariables = [\n      ...scope.value.environment.environment.variables,\n      {\n        key: editingName.value,\n        value: editingValue.value,\n      },\n    ]\n    await pipe(\n      updateTeamEnvironment(\n        JSON.stringify(newVariables),\n        scope.value.environment.id,\n        scope.value.environment.environment.name\n      ),\n      TE.match(\n        (err: GQLError<string>) => {\n          console.error(err)\n          toast.error(`${getErrorMessage(err)}`)\n        },\n        () => {\n          hideModal()\n          toast.success(`${t(\"environment.updated\")}`)\n        }\n      )\n    )()\n  }\n  if (replaceWithVariable.value) {\n    //replace the current tab endpoint with the variable name with << and >>\n    const variableName = `<<${editingName.value}>>`\n    //replace the currenttab endpoint containing the value in the text with variablename\n    tabs.currentActiveTab.value.document.request.endpoint =\n      tabs.currentActiveTab.value.document.request.endpoint.replace(\n        editingValue.value,\n        variableName\n      )\n  }\n\n  hideModal()\n}\n\nconst getErrorMessage = (err: GQLError<string>) => {\n  if (err.type === \"network_error\") {\n    return t(\"error.network_error\")\n  }\n  switch (err.error) {\n    case \"team_environment/not_found\":\n      return t(\"team_environment.not_found\")\n    case \"Forbidden resource\":\n      return t(\"profile.no_permission\")\n    default:\n      return t(\"error.something_went_wrong\")\n  }\n}\n</script>\n","<template>\n  <HoppSmartModal\n    dialog\n    :full-width-body=\"true\"\n    :title=\"t('environment.properties')\"\n    @close=\"hideModal\"\n  >\n    <template #body>\n      <HoppSmartTabs\n        v-model=\"activeTab\"\n        styles=\"sticky overflow-x-auto flex-shrink-0 bg-primary top-0 z-10 !-py-4\"\n        render-inactive-tabs\n      >\n        <HoppSmartTab id=\"details\" :label=\"t('environment.details')\">\n          <div\n            class=\"flex flex-shrink-0 items-center justify-between border-b border-dividerLight bg-primary pl-4\"\n          >\n            <span>{{ t(\"collection_runner.environment_id\") }}</span>\n\n            <HoppButtonSecondary\n              v-tippy=\"{ theme: 'tooltip' }\"\n              to=\"https://docs.hoppscotch.io/documentation/clients/cli/overview#running-collections-present-on-the-api-client\"\n              blank\n              :title=\"t('app.wiki')\"\n              :icon=\"IconHelpCircle\"\n            />\n          </div>\n\n          <div class=\"p-4\">\n            <div\n              class=\"flex items-center justify-between py-2 px-4 rounded-md bg-primaryLight select-text\"\n            >\n              <div class=\"text-secondaryDark\">\n                {{ environmentID }}\n              </div>\n\n              <HoppButtonSecondary\n                filled\n                :icon=\"copyTextIcon\"\n                @click=\"copyText\"\n              />\n            </div>\n          </div>\n\n          <div\n            class=\"bg-bannerInfo px-4 py-2 flex items-center sticky bottom-0\"\n          >\n            <icon-lucide-info class=\"svg-icons mr-2\" />\n            {{ t(\"collection_runner.cli_environment_id_description\") }}\n          </div>\n        </HoppSmartTab>\n      </HoppSmartTabs>\n    </template>\n\n    <template #footer>\n      <div class=\"flex gap-x-2 items-center\">\n        <HoppButtonPrimary\n          :label=\"t('action.copy')\"\n          :icon=\"copyIcon\"\n          outline\n          filled\n          @click=\"copyEnvironmentID\"\n        />\n        <HoppButtonSecondary\n          :label=\"t('action.close')\"\n          outline\n          filled\n          @click=\"hideModal\"\n        />\n      </div>\n    </template>\n  </HoppSmartModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from \"@composables/i18n\"\nimport { refAutoReset, useVModel } from \"@vueuse/core\"\nimport { toRef } from \"vue\"\nimport { useCopyResponse } from \"~/composables/lens-actions\"\nimport { useToast } from \"~/composables/toast\"\n\nimport { copyToClipboard } from \"~/helpers/utils/clipboard\"\nimport IconCheck from \"~icons/lucide/check\"\nimport IconCopy from \"~icons/lucide/copy\"\nimport IconHelpCircle from \"~icons/lucide/help-circle\"\n\nconst t = useI18n()\nconst toast = useToast()\n\nconst props = defineProps<{\n  modelValue: string\n  environmentID: string\n}>()\n\nconst environmentIDRef = toRef(props, \"environmentID\")\n\nconst { copyIcon: copyTextIcon, copyResponse: copyText } =\n  useCopyResponse(environmentIDRef)\n\nconst emit = defineEmits<{\n  (e: \"hide-modal\"): void\n  (e: \"update:modelValue\"): void\n}>()\n\nconst activeTab = useVModel(props, \"modelValue\", emit)\n\nconst copyIcon = refAutoReset<typeof IconCopy | typeof IconCheck>(\n  IconCopy,\n  1000\n)\n\nconst hideModal = () => {\n  emit(\"hide-modal\")\n}\n\nconst copyEnvironmentID = () => {\n  copyToClipboard(props.environmentID)\n  copyIcon.value = IconCheck\n\n  toast.success(`${t(\"state.copied_to_clipboard\")}`)\n}\n</script>\n","import * as O from \"fp-ts/Option\"\nimport * as TE from \"fp-ts/TaskEither\"\nimport { entityReference } from \"verzod\"\n\nimport { safeParseJSON } from \"~/helpers/functional/json\"\nimport { IMPORTER_INVALID_FILE_FORMAT } from \".\"\n\nimport { Environment } from \"@hoppscotch/data\"\nimport { z } from \"zod\"\n\nexport const hoppEnvImporter = (contents: string[]) => {\n  const parsedContents = contents.map((str) => safeParseJSON(str, true))\n\n  if (parsedContents.some((parsed) => O.isNone(parsed))) {\n    return TE.left(IMPORTER_INVALID_FILE_FORMAT)\n  }\n\n  const parsedValues = parsedContents.flatMap((content) => {\n    const unwrappedContent = O.toNullable(content) as Environment[] | null\n\n    if (unwrappedContent) {\n      return unwrappedContent.map((contentEntry) => {\n        return {\n          ...contentEntry,\n          variables: contentEntry.variables?.map((valueEntry) => ({\n            ...valueEntry,\n            ...(\"value\" in valueEntry\n              ? { value: String(valueEntry.value) }\n              : {}),\n          })),\n        }\n      })\n    }\n    return null\n  })\n\n  const validationResult = z\n    .array(entityReference(Environment))\n    .safeParse(parsedValues)\n\n  if (!validationResult.success) {\n    return TE.left(IMPORTER_INVALID_FILE_FORMAT)\n  }\n\n  const environments = validationResult.data\n\n  return TE.right(environments)\n}\n","import { Environment } from \"@hoppscotch/data\"\nimport * as O from \"fp-ts/Option\"\nimport * as TE from \"fp-ts/TaskEither\"\nimport { z } from \"zod\"\n\nimport { safeParseJSON } from \"~/helpers/functional/json\"\nimport { IMPORTER_INVALID_FILE_FORMAT } from \".\"\nimport { uniqueID } from \"~/helpers/utils/uniqueID\"\n\nconst postmanEnvSchema = z.object({\n  name: z.string(),\n  values: z.array(\n    z.object({\n      key: z.string(),\n      value: z.string(),\n    })\n  ),\n})\n\ntype PostmanEnv = z.infer<typeof postmanEnvSchema>\n\nexport const postmanEnvImporter = (contents: string[]) => {\n  const parsedContents = contents.map((str) => safeParseJSON(str, true))\n  if (parsedContents.some((parsed) => O.isNone(parsed))) {\n    return TE.left(IMPORTER_INVALID_FILE_FORMAT)\n  }\n\n  const parsedValues = parsedContents.flatMap((parsed) => {\n    const unwrappedEntry = O.toNullable(parsed) as PostmanEnv[] | null\n\n    if (unwrappedEntry) {\n      return unwrappedEntry.map((entry) => ({\n        ...entry,\n        values: entry.values?.map((valueEntry) => ({\n          ...valueEntry,\n          value: String(valueEntry.value),\n        })),\n      }))\n    }\n    return null\n  })\n\n  const validationResult = z.array(postmanEnvSchema).safeParse(parsedValues)\n\n  if (!validationResult.success) {\n    return TE.left(IMPORTER_INVALID_FILE_FORMAT)\n  }\n\n  // Convert `values` to `variables` to match the format expected by the system\n  const environments: Environment[] = validationResult.data.map(\n    ({ name, values }) => ({\n      id: uniqueID(),\n      v: 1,\n      name,\n      variables: values.map((entires) => ({ ...entires, secret: false })),\n    })\n  )\n\n  return TE.right(environments)\n}\n","import { Environment } from \"@hoppscotch/data\"\n\nexport const environmentsExporter = (myEnvironments: Environment[]) => {\n  return JSON.stringify(myEnvironments, null, 2)\n}\n","<template>\n  <ImportExportBase\n    ref=\"collections-import-export\"\n    modal-title=\"environment.title\"\n    :importer-modules=\"importerModules\"\n    :exporter-modules=\"exporterModules\"\n    @hide-modal=\"emit('hide-modal')\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { Environment, NonSecretEnvironment } from \"@hoppscotch/data\"\nimport * as E from \"fp-ts/Either\"\nimport { ref } from \"vue\"\n\nimport { useI18n } from \"~/composables/i18n\"\nimport { useToast } from \"~/composables/toast\"\nimport { ImporterOrExporter } from \"~/components/importExport/types\"\nimport { FileSource } from \"~/helpers/import-export/import/import-sources/FileSource\"\nimport { GistSource } from \"~/helpers/import-export/import/import-sources/GistSource\"\nimport { hoppEnvImporter } from \"~/helpers/import-export/import/hoppEnv\"\n\nimport {\n  appendEnvironments,\n  addGlobalEnvVariable,\n  environments$,\n} from \"~/newstore/environments\"\n\nimport { createTeamEnvironment } from \"~/helpers/backend/mutations/TeamEnvironment\"\nimport { TeamEnvironment } from \"~/helpers/teams/TeamEnvironment\"\nimport { GQLError } from \"~/helpers/backend/GQLClient\"\nimport { CreateTeamEnvironmentMutation } from \"~/helpers/backend/graphql\"\nimport { postmanEnvImporter } from \"~/helpers/import-export/import/postmanEnv\"\nimport { insomniaEnvImporter } from \"~/helpers/import-export/import/insomniaEnv\"\n\nimport IconFolderPlus from \"~icons/lucide/folder-plus\"\nimport IconPostman from \"~icons/hopp/postman\"\nimport IconInsomnia from \"~icons/hopp/insomnia\"\nimport IconUser from \"~icons/lucide/user\"\nimport { initializeDownloadCollection } from \"~/helpers/import-export/export\"\nimport { computed } from \"vue\"\nimport { useReadonlyStream } from \"~/composables/stream\"\nimport { environmentsExporter } from \"~/helpers/import-export/export/environments\"\nimport { gistExporter } from \"~/helpers/import-export/export/gist\"\nimport { platform } from \"~/platform\"\n\nconst t = useI18n()\nconst toast = useToast()\n\nconst props = defineProps<{\n  teamEnvironments?: TeamEnvironment[]\n  teamId?: string | undefined\n  environmentType: \"MY_ENV\" | \"TEAM_ENV\"\n}>()\n\nconst myEnvironments = useReadonlyStream(environments$, [])\n\nconst currentUser = useReadonlyStream(\n  platform.auth.getCurrentUserStream(),\n  platform.auth.getCurrentUser()\n)\n\nconst isEnvironmentGistExportInProgress = ref(false)\n\nconst isTeamEnvironment = computed(() => {\n  return props.environmentType === \"TEAM_ENV\"\n})\n\nconst environmentJson = computed(() => {\n  if (\n    props.environmentType === \"TEAM_ENV\" &&\n    props.teamEnvironments !== undefined\n  ) {\n    const teamEnvironments = props.teamEnvironments.map(\n      (x) => x.environment as Environment\n    )\n    return teamEnvironments\n  }\n\n  return myEnvironments.value\n})\n\nconst HoppEnvironmentsImport: ImporterOrExporter = {\n  metadata: {\n    id: \"import.from_json\",\n    name: \"import.from_json\",\n    icon: IconFolderPlus,\n    title: \"import.from_json\",\n    applicableTo: [\"personal-workspace\", \"team-workspace\"],\n    disabled: false,\n  },\n  component: FileSource({\n    acceptedFileTypes: \"application/json\",\n    caption: \"import.hoppscotch_environment_description\",\n    onImportFromFile: async (environments) => {\n      const res = await hoppEnvImporter(environments)()\n\n      if (E.isLeft(res)) {\n        showImportFailedError()\n        return\n      }\n\n      handleImportToStore(res.right)\n\n      platform.analytics?.logEvent({\n        type: \"HOPP_IMPORT_ENVIRONMENT\",\n        platform: \"rest\",\n        workspaceType: isTeamEnvironment.value ? \"team\" : \"personal\",\n      })\n\n      emit(\"hide-modal\")\n    },\n  }),\n}\n\nconst PostmanEnvironmentsImport: ImporterOrExporter = {\n  metadata: {\n    id: \"import.from_postman\",\n    name: \"import.from_postman\",\n    icon: IconPostman,\n    title: \"import.from_json\",\n    applicableTo: [\"personal-workspace\", \"team-workspace\"],\n    disabled: false,\n  },\n  component: FileSource({\n    acceptedFileTypes: \"application/json\",\n    caption: \"import.postman_environment_description\",\n    onImportFromFile: async (environments) => {\n      const res = await postmanEnvImporter(environments)()\n\n      if (E.isLeft(res)) {\n        showImportFailedError()\n        return\n      }\n\n      handleImportToStore(res.right)\n\n      platform.analytics?.logEvent({\n        type: \"HOPP_IMPORT_ENVIRONMENT\",\n        platform: \"rest\",\n        workspaceType: isTeamEnvironment.value ? \"team\" : \"personal\",\n      })\n\n      emit(\"hide-modal\")\n    },\n  }),\n}\n\nconst insomniaEnvironmentsImport: ImporterOrExporter = {\n  metadata: {\n    id: \"import.from_insomnia\",\n    name: \"import.from_insomnia\",\n    icon: IconInsomnia,\n    title: \"import.from_json\",\n    applicableTo: [\"personal-workspace\", \"team-workspace\"],\n    disabled: false,\n  },\n  component: FileSource({\n    acceptedFileTypes: \"application/json\",\n    caption: \"import.insomnia_environment_description\",\n    onImportFromFile: async (environments) => {\n      const res = await insomniaEnvImporter(environments)()\n\n      if (E.isLeft(res)) {\n        showImportFailedError()\n        return\n      }\n\n      const globalEnvs = res.right.filter(\n        (env) => env.name === \"Base Environment\"\n      )\n      const otherEnvs = res.right.filter(\n        (env) => env.name !== \"Base Environment\"\n      )\n\n      handleImportToStore(otherEnvs, globalEnvs)\n\n      platform.analytics?.logEvent({\n        type: \"HOPP_IMPORT_ENVIRONMENT\",\n        platform: \"rest\",\n        workspaceType: isTeamEnvironment.value ? \"team\" : \"personal\",\n      })\n\n      emit(\"hide-modal\")\n    },\n  }),\n}\n\nconst EnvironmentsImportFromGIST: ImporterOrExporter = {\n  metadata: {\n    id: \"import.environments_from_gist\",\n    name: \"import.environments_from_gist\",\n    icon: IconFolderPlus,\n    title: \"import.environments_from_gist\",\n    applicableTo: [\"personal-workspace\", \"team-workspace\"],\n    disabled: false,\n  },\n  component: GistSource({\n    caption: \"import.environments_from_gist_description\",\n    onImportFromGist: async (environments) => {\n      if (E.isLeft(environments)) {\n        showImportFailedError()\n        return\n      }\n\n      const res = await hoppEnvImporter(environments.right)()\n\n      if (E.isLeft(res)) {\n        showImportFailedError()\n        return\n      }\n\n      handleImportToStore(res.right)\n      platform.analytics?.logEvent({\n        type: \"HOPP_IMPORT_ENVIRONMENT\",\n        platform: \"rest\",\n        workspaceType: isTeamEnvironment.value ? \"team\" : \"personal\",\n      })\n      emit(\"hide-modal\")\n    },\n  }),\n}\n\nconst HoppEnvironmentsExport: ImporterOrExporter = {\n  metadata: {\n    id: \"export.as_json\",\n    name: \"export.as_json\",\n    title: \"action.download_file\",\n    icon: IconUser,\n    disabled: false,\n    applicableTo: [\"personal-workspace\", \"team-workspace\"],\n  },\n  action: () => {\n    if (!environmentJson.value.length) {\n      return toast.error(t(\"error.no_environments_to_export\"))\n    }\n\n    const message = initializeDownloadCollection(\n      environmentsExporter(environmentJson.value),\n      \"Environments\"\n    )\n\n    if (E.isLeft(message)) {\n      toast.error(t(message.left))\n      return\n    }\n\n    toast.success(t(message.right))\n\n    platform.analytics?.logEvent({\n      type: \"HOPP_EXPORT_ENVIRONMENT\",\n      platform: \"rest\",\n    })\n  },\n}\n\nconst HoppEnvironmentsGistExporter: ImporterOrExporter = {\n  metadata: {\n    id: \"export.as_gist\",\n    name: \"export.create_secret_gist\",\n    title:\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      currentUser?.value?.provider === \"github.com\"\n        ? \"export.create_secret_gist_tooltip_text\"\n        : \"export.require_github\",\n    icon: IconUser,\n    disabled: !currentUser.value\n      ? true\n      : currentUser.value?.provider !== \"github.com\",\n    applicableTo: [\"personal-workspace\", \"team-workspace\"],\n    isLoading: isEnvironmentGistExportInProgress,\n  },\n  action: async () => {\n    if (!environmentJson.value.length) {\n      return toast.error(t(\"error.no_environments_to_export\"))\n    }\n\n    if (!currentUser.value) {\n      toast.error(t(\"profile.no_permission\"))\n      return\n    }\n\n    isEnvironmentGistExportInProgress.value = true\n\n    const accessToken = currentUser.value?.accessToken\n\n    if (accessToken) {\n      const res = await gistExporter(\n        JSON.stringify(environmentJson.value),\n        accessToken,\n        \"hoppscotch-environment.json\"\n      )\n\n      if (E.isLeft(res)) {\n        toast.error(t(\"export.failed\"))\n        isEnvironmentGistExportInProgress.value = false\n        return\n      }\n\n      toast.success(t(\"export.secret_gist_success\"))\n\n      platform.analytics?.logEvent({\n        type: \"HOPP_EXPORT_ENVIRONMENT\",\n        platform: \"rest\",\n      })\n\n      platform.io.openExternalLink(res.right)\n    }\n\n    isEnvironmentGistExportInProgress.value = false\n  },\n}\n\nconst importerModules = [\n  HoppEnvironmentsImport,\n  EnvironmentsImportFromGIST,\n  PostmanEnvironmentsImport,\n  insomniaEnvironmentsImport,\n]\n\nconst exporterModules = computed(() => {\n  const enabledExporters = [HoppEnvironmentsExport]\n\n  if (platform.platformFeatureFlags.exportAsGIST) {\n    enabledExporters.push(HoppEnvironmentsGistExporter)\n  }\n\n  return enabledExporters\n})\n\nconst showImportFailedError = () => {\n  toast.error(t(\"import.failed\").toString())\n}\n\nconst handleImportToStore = async (\n  environments: Environment[],\n  globalEnvs: NonSecretEnvironment[] = []\n) => {\n  // Add global envs to the store\n  globalEnvs.forEach(({ variables }) => {\n    variables.forEach(({ key, value, secret }) => {\n      addGlobalEnvVariable({ key, value, secret })\n    })\n  })\n\n  if (props.environmentType === \"MY_ENV\") {\n    appendEnvironments(environments)\n    toast.success(t(\"state.file_imported\"))\n  } else {\n    await importToTeams(environments)\n  }\n}\n\nconst importToTeams = async (content: Environment[]) => {\n  const envImportPromises: Promise<\n    E.Either<GQLError<\"\">, CreateTeamEnvironmentMutation>\n  >[] = []\n\n  for (const [, env] of content.entries()) {\n    const res = createTeamEnvironment(\n      JSON.stringify(env.variables),\n      props.teamId as string,\n      env.name\n    )()\n\n    envImportPromises.push(res)\n  }\n\n  const res = await Promise.all(envImportPromises)\n\n  const failedImports = res.some((r) => E.isLeft(r))\n\n  if (failedImports) {\n    toast.error(t(\"import.failed\"))\n  } else {\n    toast.success(t(\"import.success\"))\n  }\n}\n\nconst emit = defineEmits<{\n  (e: \"hide-modal\"): () => void\n}>()\n</script>\n","import { Environment } from \"@hoppscotch/data\"\nimport { TeamEnvironment } from \"~/helpers/teams/TeamEnvironment\"\nimport { cloneDeep } from \"lodash-es\"\nimport { platform } from \"~/platform\"\n\nconst getEnvironmentJson = (\n  environmentObj: TeamEnvironment | Environment,\n  environmentIndex?: number | \"Global\" | null\n) => {\n  const newEnvironment =\n    \"environment\" in environmentObj\n      ? cloneDeep(environmentObj.environment)\n      : cloneDeep(environmentObj)\n\n  const environmentId =\n    environmentIndex || environmentIndex === 0\n      ? environmentIndex\n      : environmentObj.id\n\n  return environmentId !== null\n    ? JSON.stringify(newEnvironment, null, 2)\n    : undefined\n}\n\nexport const exportAsJSON = (\n  environmentObj: Environment | TeamEnvironment,\n  environmentIndex?: number | \"Global\" | null\n): boolean => {\n  const dataToWrite = getEnvironmentJson(environmentObj, environmentIndex)\n\n  if (!dataToWrite) return false\n\n  const file = new Blob([dataToWrite], { type: \"application/json\" })\n  const url = URL.createObjectURL(file)\n\n  URL.revokeObjectURL(url)\n\n  platform.io.saveFileWithDialog({\n    data: dataToWrite,\n    contentType: \"application/json\",\n    // Extracts the path from url, removes fragment identifier and query parameters if any, appends the \".json\" extension, and assigns it\n    suggestedFilename: `${\n      url.split(\"/\").pop()!.split(\"#\")[0].split(\"?\")[0]\n    }.json`,\n    filters: [\n      {\n        name: \"JSON file\",\n        extensions: [\"json\"],\n      },\n    ],\n  })\n\n  return true\n}\n","<template>\n  <div\n    class=\"group flex items-stretch\"\n    @contextmenu.prevent=\"options!.tippy.show()\"\n  >\n    <span\n      class=\"flex cursor-pointer items-center justify-center px-4\"\n      @click=\"emit('edit-environment')\"\n    >\n      <icon-lucide-layers class=\"svg-icons\" />\n    </span>\n    <span\n      class=\"flex min-w-0 flex-1 cursor-pointer py-2 pr-2 transition group-hover:text-secondaryDark\"\n      @click=\"emit('edit-environment')\"\n    >\n      <span class=\"truncate\">\n        {{ environment.environment.name }}\n      </span>\n    </span>\n    <span>\n      <tippy\n        ref=\"options\"\n        interactive\n        trigger=\"click\"\n        theme=\"popover\"\n        :on-shown=\"() => tippyActions!.focus()\"\n      >\n        <HoppButtonSecondary\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :title=\"t('action.more')\"\n          :icon=\"IconMoreVertical\"\n        />\n        <template #content=\"{ hide }\">\n          <div\n            ref=\"tippyActions\"\n            class=\"flex flex-col focus:outline-none\"\n            tabindex=\"0\"\n            role=\"menu\"\n            @keyup.e=\"edit!.$el.click()\"\n            @keyup.d=\"duplicate!.$el.click()\"\n            @keyup.j=\"exportAsJsonEl!.$el.click()\"\n            @keyup.delete=\"deleteAction!.$el.click()\"\n            @keyup.p=\"propertiesAction!.$el.click()\"\n            @keyup.escape=\"options!.tippy?.hide()\"\n          >\n            <HoppSmartItem\n              ref=\"edit\"\n              :icon=\"IconEdit\"\n              :label=\"`${t('action.edit')}`\"\n              :shortcut=\"['E']\"\n              @click=\"\n                () => {\n                  emit('edit-environment')\n                  hide()\n                }\n              \"\n            />\n\n            <HoppSmartItem\n              v-if=\"!isViewer\"\n              ref=\"duplicate\"\n              :icon=\"IconCopy\"\n              :label=\"`${t('action.duplicate')}`\"\n              :shortcut=\"['D']\"\n              @click=\"\n                () => {\n                  duplicateEnvironments()\n                  hide()\n                }\n              \"\n            />\n            <HoppSmartItem\n              v-if=\"!isViewer\"\n              ref=\"exportAsJsonEl\"\n              :icon=\"IconEdit\"\n              :label=\"`${t('export.as_json')}`\"\n              :shortcut=\"['J']\"\n              @click=\"\n                () => {\n                  exportEnvironmentAsJSON()\n                  hide()\n                }\n              \"\n            />\n            <HoppSmartItem\n              v-if=\"!isViewer\"\n              ref=\"deleteAction\"\n              :icon=\"IconTrash2\"\n              :label=\"`${t('action.delete')}`\"\n              :shortcut=\"['⌫']\"\n              @click=\"\n                () => {\n                  confirmRemove = true\n                  hide()\n                }\n              \"\n            />\n            <HoppSmartItem\n              ref=\"propertiesAction\"\n              :icon=\"IconSettings2\"\n              :label=\"t('action.properties')\"\n              :shortcut=\"['P']\"\n              @click=\"\n                () => {\n                  emit('show-environment-properties')\n                  hide()\n                }\n              \"\n            />\n          </div>\n        </template>\n      </tippy>\n    </span>\n    <HoppSmartConfirmModal\n      :show=\"confirmRemove\"\n      :title=\"`${t('confirm.remove_environment')}`\"\n      @hide-modal=\"confirmRemove = false\"\n      @resolve=\"removeEnvironment\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useToast } from \"@composables/toast\"\nimport { HoppSmartItem } from \"@hoppscotch/ui\"\nimport { useService } from \"dioc/vue\"\nimport * as TE from \"fp-ts/TaskEither\"\nimport { pipe } from \"fp-ts/function\"\nimport { ref } from \"vue\"\nimport { TippyComponent } from \"vue-tippy\"\n\nimport { useI18n } from \"~/composables/i18n\"\nimport { GQLError } from \"~/helpers/backend/GQLClient\"\nimport {\n  deleteTeamEnvironment,\n  createDuplicateEnvironment as duplicateEnvironment,\n} from \"~/helpers/backend/mutations/TeamEnvironment\"\nimport { exportAsJSON } from \"~/helpers/import-export/export/environment\"\nimport { TeamEnvironment } from \"~/helpers/teams/TeamEnvironment\"\nimport { SecretEnvironmentService } from \"~/services/secret-environment.service\"\nimport IconCopy from \"~icons/lucide/copy\"\nimport IconEdit from \"~icons/lucide/edit\"\nimport IconMoreVertical from \"~icons/lucide/more-vertical\"\nimport IconSettings2 from \"~icons/lucide/settings-2\"\nimport IconTrash2 from \"~icons/lucide/trash-2\"\n\nconst t = useI18n()\nconst toast = useToast()\n\nconst props = defineProps<{\n  environment: TeamEnvironment\n  isViewer: boolean\n}>()\n\nconst emit = defineEmits<{\n  (e: \"edit-environment\"): void\n  (e: \"show-environment-properties\"): void\n}>()\n\nconst secretEnvironmentService = useService(SecretEnvironmentService)\n\nconst confirmRemove = ref(false)\n\nconst exportEnvironmentAsJSON = () =>\n  exportAsJSON(props.environment)\n    ? toast.success(t(\"state.download_started\"))\n    : toast.error(t(\"state.download_failed\"))\n\nconst tippyActions = ref<TippyComponent | null>(null)\nconst options = ref<TippyComponent | null>(null)\nconst edit = ref<typeof HoppSmartItem>()\nconst duplicate = ref<typeof HoppSmartItem>()\nconst deleteAction = ref<typeof HoppSmartItem>()\nconst exportAsJsonEl = ref<typeof HoppSmartItem>()\nconst propertiesAction = ref<typeof HoppSmartItem>()\n\nconst removeEnvironment = () => {\n  pipe(\n    deleteTeamEnvironment(props.environment.id),\n    TE.match(\n      (err: GQLError<string>) => {\n        console.error(err)\n        toast.error(`${getErrorMessage(err)}`)\n      },\n      () => {\n        toast.success(`${t(\"team_environment.deleted\")}`)\n        secretEnvironmentService.deleteSecretEnvironment(props.environment.id)\n      }\n    )\n  )()\n}\n\nconst duplicateEnvironments = () => {\n  pipe(\n    duplicateEnvironment(props.environment.id),\n    TE.match(\n      (err: GQLError<string>) => {\n        console.error(err)\n        toast.error(`${getErrorMessage(err)}`)\n      },\n      () => {\n        toast.success(`${t(\"environment.duplicated\")}`)\n      }\n    )\n  )()\n}\n\nconst getErrorMessage = (err: GQLError<string>) => {\n  if (err.type === \"network_error\") {\n    return t(\"error.network_error\")\n  }\n  switch (err.error) {\n    case \"team_environment/not_found\":\n      return t(\"team_environment.not_found\")\n    default:\n      return t(\"error.something_went_wrong\")\n  }\n}\n</script>\n","<template>\n  <div>\n    <div\n      class=\"sticky top-upperPrimaryStickyFold z-10 flex flex-1 flex-shrink-0 justify-between overflow-x-auto border-b border-dividerLight bg-primary\"\n    >\n      <HoppButtonSecondary\n        v-if=\"team === undefined || team.role === 'VIEWER'\"\n        v-tippy=\"{ theme: 'tooltip' }\"\n        disabled\n        class=\"!rounded-none\"\n        :icon=\"IconPlus\"\n        :title=\"t('team.no_access')\"\n        :label=\"t('action.new')\"\n      />\n      <HoppButtonSecondary\n        v-else\n        :icon=\"IconPlus\"\n        :label=\"`${t('action.new')}`\"\n        class=\"!rounded-none\"\n        @click=\"displayModalAdd(true)\"\n      />\n      <div class=\"flex\">\n        <HoppButtonSecondary\n          v-tippy=\"{ theme: 'tooltip' }\"\n          to=\"https://docs.hoppscotch.io/documentation/features/environments\"\n          blank\n          :title=\"t('app.wiki')\"\n          :icon=\"IconHelpCircle\"\n        />\n        <HoppButtonSecondary\n          v-if=\"team !== undefined && team.role === 'VIEWER'\"\n          v-tippy=\"{ theme: 'tooltip' }\"\n          disabled\n          :icon=\"IconImport\"\n          :title=\"t('modal.import_export')\"\n        />\n        <HoppButtonSecondary\n          v-else\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :icon=\"IconImport\"\n          :title=\"t('modal.import_export')\"\n          @click=\"displayModalImportExport(true)\"\n        />\n      </div>\n    </div>\n    <HoppSmartPlaceholder\n      v-if=\"!loading && !teamEnvironments.length && !adapterError\"\n      :src=\"`/images/states/${colorMode.value}/blockchain.svg`\"\n      :alt=\"`${t('empty.environments')}`\"\n      :text=\"t('empty.environments')\"\n    >\n      <template #body>\n        <div class=\"flex flex-col items-center space-y-4\">\n          <span class=\"text-center text-secondaryLight\">\n            {{ t(\"environment.import_or_create\") }}\n          </span>\n          <div class=\"flex flex-col items-stretch gap-4\">\n            <HoppButtonPrimary\n              :icon=\"IconImport\"\n              :label=\"t('import.title')\"\n              filled\n              outline\n              :title=\"isTeamViewer ? t('team.no_access') : ''\"\n              :disabled=\"isTeamViewer\"\n              @click=\"isTeamViewer ? null : displayModalImportExport(true)\"\n            />\n            <HoppButtonSecondary\n              :label=\"`${t('add.new')}`\"\n              filled\n              outline\n              :icon=\"IconPlus\"\n              :title=\"isTeamViewer ? t('team.no_access') : ''\"\n              :disabled=\"isTeamViewer\"\n              @click=\"isTeamViewer ? null : displayModalAdd(true)\"\n            />\n          </div>\n        </div>\n      </template>\n    </HoppSmartPlaceholder>\n    <div v-else-if=\"!loading\">\n      <EnvironmentsTeamsEnvironment\n        v-for=\"(environment, index) in JSON.parse(\n          JSON.stringify(teamEnvironments)\n        )\"\n        :key=\"`environment-${index}`\"\n        :environment=\"environment\"\n        :is-viewer=\"team?.role === 'VIEWER'\"\n        @edit-environment=\"editEnvironment(environment)\"\n        @show-environment-properties=\"\n          showEnvironmentProperties(environment.environment.id)\n        \"\n      />\n    </div>\n    <div v-if=\"loading\" class=\"flex flex-col items-center justify-center p-4\">\n      <HoppSmartSpinner class=\"my-4\" />\n      <span class=\"text-secondaryLight\">{{ t(\"state.loading\") }}</span>\n    </div>\n    <div\n      v-if=\"!loading && adapterError\"\n      class=\"flex flex-col items-center py-4\"\n    >\n      <icon-lucide-help-circle class=\"svg-icons mb-4\" />\n      {{ getErrorMessage(adapterError) }}\n    </div>\n    <EnvironmentsTeamsDetails\n      :show=\"showModalDetails\"\n      :action=\"action\"\n      :editing-environment=\"editingEnvironment\"\n      :editing-team-id=\"team?.teamID\"\n      :editing-variable-name=\"editingVariableName\"\n      :is-secret-option-selected=\"secretOptionSelected\"\n      :is-viewer=\"team?.role === 'VIEWER'\"\n      @hide-modal=\"displayModalEdit(false)\"\n    />\n    <EnvironmentsImportExport\n      v-if=\"showModalImportExport\"\n      :team-environments=\"teamEnvironments\"\n      :team-id=\"team?.teamID\"\n      environment-type=\"TEAM_ENV\"\n      @hide-modal=\"displayModalImportExport(false)\"\n    />\n    <EnvironmentsProperties\n      v-if=\"showEnvironmentsPropertiesModal\"\n      v-model=\"environmentsPropertiesModalActiveTab\"\n      :environment-i-d=\"selectedEnvironmentID!\"\n      @hide-modal=\"showEnvironmentsPropertiesModal = false\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\"\nimport { GQLError } from \"~/helpers/backend/GQLClient\"\nimport { TeamEnvironment } from \"~/helpers/teams/TeamEnvironment\"\nimport { useI18n } from \"~/composables/i18n\"\nimport { useColorMode } from \"~/composables/theming\"\nimport IconPlus from \"~icons/lucide/plus\"\nimport IconHelpCircle from \"~icons/lucide/help-circle\"\nimport IconImport from \"~icons/lucide/folder-down\"\nimport { defineActionHandler } from \"~/helpers/actions\"\nimport { TeamWorkspace } from \"~/services/workspace.service\"\n\nconst t = useI18n()\n\nconst colorMode = useColorMode()\n\nconst props = defineProps<{\n  team: TeamWorkspace | undefined\n  teamEnvironments: TeamEnvironment[]\n  adapterError: GQLError<string> | null\n  loading: boolean\n}>()\n\nconst showModalImportExport = ref(false)\nconst showModalDetails = ref(false)\nconst action = ref<\"new\" | \"edit\">(\"edit\")\nconst editingEnvironment = ref<TeamEnvironment | null>(null)\nconst editingVariableName = ref(\"\")\nconst secretOptionSelected = ref(false)\n\nconst showEnvironmentsPropertiesModal = ref(false)\nconst environmentsPropertiesModalActiveTab = ref(\"details\")\nconst selectedEnvironmentID = ref<string | null>(null)\n\nconst isTeamViewer = computed(() => props.team?.role === \"VIEWER\")\n\nconst displayModalAdd = (shouldDisplay: boolean) => {\n  action.value = \"new\"\n  showModalDetails.value = shouldDisplay\n}\nconst displayModalEdit = (shouldDisplay: boolean) => {\n  action.value = \"edit\"\n  showModalDetails.value = shouldDisplay\n\n  if (!shouldDisplay) resetSelectedData()\n}\nconst displayModalImportExport = (shouldDisplay: boolean) => {\n  showModalImportExport.value = shouldDisplay\n}\nconst editEnvironment = (environment: TeamEnvironment | null) => {\n  editingEnvironment.value = environment\n  action.value = \"edit\"\n  displayModalEdit(true)\n}\nconst resetSelectedData = () => {\n  editingEnvironment.value = null\n  editingVariableName.value = \"\"\n  secretOptionSelected.value = false\n}\n\nconst getErrorMessage = (err: GQLError<string>) => {\n  if (err.type === \"network_error\") {\n    return t(\"error.network_error\")\n  }\n  switch (err.error) {\n    case \"team_environment/not_found\":\n      return t(\"team_environment.not_found\")\n    default:\n      return t(\"error.something_went_wrong\")\n  }\n}\n\nconst showEnvironmentProperties = (environmentID: string) => {\n  showEnvironmentsPropertiesModal.value = true\n  selectedEnvironmentID.value = environmentID\n}\n\ndefineActionHandler(\n  \"modals.team.environment.edit\",\n  ({ envName, variableName, isSecret }) => {\n    if (variableName) editingVariableName.value = variableName\n    const teamEnvToEdit = props.teamEnvironments.find(\n      (environment) => environment.environment.name === envName\n    )\n    if (teamEnvToEdit) {\n      editEnvironment(teamEnvToEdit)\n      secretOptionSelected.value = isSecret ?? false\n    }\n  }\n)\n</script>\n","<template>\n  <div\n    class=\"group flex items-stretch\"\n    @contextmenu.prevent=\"options!.tippy.show()\"\n  >\n    <span\n      v-if=\"environmentIndex === 'Global'\"\n      class=\"flex cursor-pointer items-center justify-center px-4\"\n      @click=\"emit('edit-environment')\"\n    >\n      <icon-lucide-globe class=\"svg-icons\" />\n    </span>\n    <span\n      v-else\n      class=\"flex cursor-pointer items-center justify-center px-4\"\n      @click=\"emit('edit-environment')\"\n    >\n      <icon-lucide-layers class=\"svg-icons\" />\n    </span>\n    <span\n      class=\"flex min-w-0 flex-1 cursor-pointer py-2 pr-2 transition group-hover:text-secondaryDark\"\n      @click=\"emit('edit-environment')\"\n    >\n      <span class=\"truncate\">\n        {{ environment.name }}\n      </span>\n    </span>\n    <span>\n      <tippy\n        ref=\"options\"\n        interactive\n        trigger=\"click\"\n        theme=\"popover\"\n        :on-shown=\"() => tippyActions!.focus()\"\n      >\n        <HoppButtonSecondary\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :title=\"t('action.more')\"\n          :icon=\"IconMoreVertical\"\n        />\n        <template #content=\"{ hide }\">\n          <div\n            ref=\"tippyActions\"\n            class=\"flex flex-col focus:outline-none\"\n            tabindex=\"0\"\n            role=\"menu\"\n            @keyup.e=\"edit!.$el.click()\"\n            @keyup.d=\"duplicate!.$el.click()\"\n            @keyup.j=\"exportAsJsonEl!.$el.click()\"\n            @keyup.delete=\"\n              !(environmentIndex === 'Global')\n                ? deleteAction!.$el.click()\n                : null\n            \"\n            @keyup.escape=\"hide()\"\n          >\n            <HoppSmartItem\n              ref=\"edit\"\n              :icon=\"IconEdit\"\n              :label=\"`${t('action.edit')}`\"\n              :shortcut=\"['E']\"\n              @click=\"\n                () => {\n                  emit('edit-environment')\n                  hide()\n                }\n              \"\n            />\n            <HoppSmartItem\n              ref=\"duplicate\"\n              :icon=\"IconCopy\"\n              :label=\"`${t('action.duplicate')}`\"\n              :shortcut=\"['D']\"\n              @click=\"\n                () => {\n                  duplicateEnvironments()\n                  hide()\n                }\n              \"\n            />\n            <HoppSmartItem\n              ref=\"exportAsJsonEl\"\n              :icon=\"IconEdit\"\n              :label=\"`${t('export.as_json')}`\"\n              :shortcut=\"['J']\"\n              @click=\"\n                () => {\n                  exportEnvironmentAsJSON()\n                  hide()\n                }\n              \"\n            />\n            <HoppSmartItem\n              v-if=\"environmentIndex !== 'Global'\"\n              ref=\"deleteAction\"\n              :icon=\"IconTrash2\"\n              :label=\"`${t('action.delete')}`\"\n              :shortcut=\"['⌫']\"\n              @click=\"\n                () => {\n                  confirmRemove = true\n                  hide()\n                }\n              \"\n            />\n          </div>\n        </template>\n      </tippy>\n    </span>\n    <HoppSmartConfirmModal\n      :show=\"confirmRemove\"\n      :title=\"`${t('confirm.remove_environment')}`\"\n      @hide-modal=\"confirmRemove = false\"\n      @resolve=\"removeEnvironment\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport IconMoreVertical from \"~icons/lucide/more-vertical\"\nimport IconEdit from \"~icons/lucide/edit\"\nimport IconCopy from \"~icons/lucide/copy\"\nimport IconTrash2 from \"~icons/lucide/trash-2\"\nimport { ref } from \"vue\"\nimport { Environment } from \"@hoppscotch/data\"\nimport { cloneDeep } from \"lodash-es\"\nimport {\n  deleteEnvironment,\n  duplicateEnvironment,\n  createEnvironment,\n  getGlobalVariables,\n} from \"~/newstore/environments\"\nimport { useI18n } from \"@composables/i18n\"\nimport { useToast } from \"@composables/toast\"\nimport { TippyComponent } from \"vue-tippy\"\nimport { HoppSmartItem } from \"@hoppscotch/ui\"\nimport { exportAsJSON } from \"~/helpers/import-export/export/environment\"\nimport { useService } from \"dioc/vue\"\nimport { SecretEnvironmentService } from \"~/services/secret-environment.service\"\n\nconst t = useI18n()\nconst toast = useToast()\n\nconst props = defineProps<{\n  environment: Environment\n  environmentIndex: number | \"Global\" | null\n}>()\n\nconst emit = defineEmits<{\n  (e: \"edit-environment\"): void\n}>()\n\nconst confirmRemove = ref(false)\n\nconst secretEnvironmentService = useService(SecretEnvironmentService)\n\nconst exportEnvironmentAsJSON = () => {\n  const { environment, environmentIndex } = props\n  exportAsJSON(environment, environmentIndex)\n    ? toast.success(t(\"state.download_started\"))\n    : toast.error(t(\"state.download_failed\"))\n}\n\nconst tippyActions = ref<TippyComponent | null>(null)\nconst options = ref<TippyComponent | null>(null)\nconst edit = ref<typeof HoppSmartItem>()\nconst duplicate = ref<typeof HoppSmartItem>()\nconst exportAsJsonEl = ref<typeof HoppSmartItem>()\nconst deleteAction = ref<typeof HoppSmartItem>()\n\nconst removeEnvironment = () => {\n  if (props.environmentIndex === null) return\n  if (props.environmentIndex !== \"Global\") {\n    deleteEnvironment(props.environmentIndex, props.environment.id)\n    secretEnvironmentService.deleteSecretEnvironment(props.environment.id)\n  }\n  toast.success(`${t(\"state.deleted\")}`)\n}\n\nconst duplicateEnvironments = () => {\n  if (props.environmentIndex === null) return\n  if (props.environmentIndex === \"Global\") {\n    createEnvironment(\n      `Global - ${t(\"action.duplicate\")}`,\n      cloneDeep(getGlobalVariables())\n    )\n  } else duplicateEnvironment(props.environmentIndex)\n\n  toast.success(`${t(\"environment.duplicated\")}`)\n}\n</script>\n","<template>\n  <div>\n    <div\n      class=\"sticky top-upperPrimaryStickyFold z-10 flex flex-1 flex-shrink-0 justify-between overflow-x-auto border-b border-dividerLight bg-primary\"\n    >\n      <HoppButtonSecondary\n        :icon=\"IconPlus\"\n        :label=\"`${t('action.new')}`\"\n        class=\"!rounded-none\"\n        @click=\"displayModalAdd(true)\"\n      />\n      <div class=\"flex\">\n        <HoppButtonSecondary\n          v-tippy=\"{ theme: 'tooltip' }\"\n          to=\"https://docs.hoppscotch.io/documentation/features/environments\"\n          blank\n          :title=\"t('app.wiki')\"\n          :icon=\"IconHelpCircle\"\n        />\n        <HoppButtonSecondary\n          v-tippy=\"{ theme: 'tooltip' }\"\n          :icon=\"IconImport\"\n          :title=\"t('modal.import_export')\"\n          @click=\"displayModalImportExport(true)\"\n        />\n      </div>\n    </div>\n    <EnvironmentsMyEnvironment\n      v-for=\"(environment, index) in environments\"\n      :key=\"`environment-${index}`\"\n      :environment-index=\"index\"\n      :environment=\"environment\"\n      @edit-environment=\"editEnvironment(index)\"\n    />\n    <HoppSmartPlaceholder\n      v-if=\"!environments.length\"\n      :src=\"`/images/states/${colorMode.value}/blockchain.svg`\"\n      :alt=\"`${t('empty.environments')}`\"\n      :text=\"t('empty.environments')\"\n    >\n      <template #body>\n        <div class=\"flex flex-col items-center space-y-4\">\n          <span class=\"text-center text-secondaryLight\">\n            {{ t(\"environment.import_or_create\") }}\n          </span>\n          <div class=\"flex flex-col items-stretch gap-4\">\n            <HoppButtonPrimary\n              :icon=\"IconImport\"\n              :label=\"t('import.title')\"\n              filled\n              outline\n              @click=\"displayModalImportExport(true)\"\n            />\n            <HoppButtonSecondary\n              :icon=\"IconPlus\"\n              :label=\"`${t('add.new')}`\"\n              filled\n              outline\n              @click=\"displayModalAdd(true)\"\n            />\n          </div>\n        </div>\n      </template>\n    </HoppSmartPlaceholder>\n    <EnvironmentsMyDetails\n      :show=\"showModalDetails\"\n      :action=\"action\"\n      :editing-environment-index=\"editingEnvironmentIndex\"\n      :editing-variable-name=\"editingVariableName\"\n      :is-secret-option-selected=\"secretOptionSelected\"\n      @hide-modal=\"displayModalEdit(false)\"\n    />\n    <EnvironmentsImportExport\n      v-if=\"showModalImportExport\"\n      environment-type=\"MY_ENV\"\n      @hide-modal=\"displayModalImportExport(false)\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\"\nimport { environments$ } from \"~/newstore/environments\"\nimport { useColorMode } from \"~/composables/theming\"\nimport { useReadonlyStream } from \"@composables/stream\"\nimport { useI18n } from \"~/composables/i18n\"\nimport IconPlus from \"~icons/lucide/plus\"\nimport IconImport from \"~icons/lucide/folder-down\"\nimport IconHelpCircle from \"~icons/lucide/help-circle\"\nimport { Environment } from \"@hoppscotch/data\"\nimport { defineActionHandler } from \"~/helpers/actions\"\n\nconst t = useI18n()\nconst colorMode = useColorMode()\n\nconst environments = useReadonlyStream(environments$, [])\n\nconst showModalImportExport = ref(false)\nconst showModalDetails = ref(false)\nconst action = ref<\"new\" | \"edit\">(\"edit\")\nconst editingEnvironmentIndex = ref<number | null>(null)\nconst editingVariableName = ref(\"\")\nconst secretOptionSelected = ref(false)\n\nconst displayModalAdd = (shouldDisplay: boolean) => {\n  action.value = \"new\"\n  showModalDetails.value = shouldDisplay\n}\nconst displayModalEdit = (shouldDisplay: boolean) => {\n  action.value = \"edit\"\n  showModalDetails.value = shouldDisplay\n\n  if (!shouldDisplay) resetSelectedData()\n}\nconst displayModalImportExport = (shouldDisplay: boolean) => {\n  showModalImportExport.value = shouldDisplay\n}\nconst editEnvironment = (environmentIndex: number) => {\n  editingEnvironmentIndex.value = environmentIndex\n  action.value = \"edit\"\n  displayModalEdit(true)\n}\nconst resetSelectedData = () => {\n  editingEnvironmentIndex.value = null\n  editingVariableName.value = \"\"\n  secretOptionSelected.value = false\n}\n\ndefineActionHandler(\n  \"modals.my.environment.edit\",\n  ({ envName, variableName, isSecret }) => {\n    if (variableName) editingVariableName.value = variableName\n    const envIndex: number = environments.value.findIndex(\n      (environment: Environment) => {\n        return environment.name === envName\n      }\n    )\n    if (envName !== \"Global\") {\n      editEnvironment(envIndex)\n      secretOptionSelected.value = isSecret ?? false\n    }\n  }\n)\n</script>\n","<template>\n  <div>\n    <div\n      class=\"sticky top-0 z-10 flex flex-shrink-0 flex-col overflow-x-auto bg-primary\"\n    >\n      <WorkspaceCurrent :section=\"t('tab.environments')\" />\n      <EnvironmentsMyEnvironment\n        environment-index=\"Global\"\n        :environment=\"globalEnvironment\"\n        class=\"border-b border-dividerLight\"\n        @edit-environment=\"editEnvironment('Global')\"\n      />\n    </div>\n    <EnvironmentsMy v-show=\"environmentType.type === 'my-environments'\" />\n    <EnvironmentsTeams\n      v-show=\"environmentType.type === 'team-environments'\"\n      :team=\"environmentType.selectedTeam\"\n      :team-environments=\"teamEnvironmentList\"\n      :loading=\"loading\"\n      :adapter-error=\"adapterError\"\n    />\n    <EnvironmentsMyDetails\n      :show=\"showModalDetails\"\n      :action=\"action\"\n      :editing-environment-index=\"editingEnvironmentIndex\"\n      :editing-variable-name=\"editingVariableName\"\n      :env-vars=\"envVars\"\n      :is-secret-option-selected=\"secretOptionSelected\"\n      @hide-modal=\"displayModalEdit(false)\"\n    />\n    <EnvironmentsAdd\n      :show=\"showModalNew\"\n      :name=\"editingVariableName\"\n      :value=\"editingVariableValue\"\n      :position=\"position\"\n      @hide-modal=\"displayModalNew(false)\"\n    />\n  </div>\n\n  <HoppSmartConfirmModal\n    :show=\"showConfirmRemoveEnvModal\"\n    :title=\"`${t('confirm.remove_environment')}`\"\n    @hide-modal=\"showConfirmRemoveEnvModal = false\"\n    @resolve=\"removeSelectedEnvironment()\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport { useReadonlyStream, useStream } from \"@composables/stream\"\nimport { Environment } from \"@hoppscotch/data\"\nimport { useService } from \"dioc/vue\"\nimport * as TE from \"fp-ts/TaskEither\"\nimport { pipe } from \"fp-ts/function\"\nimport { isEqual } from \"lodash-es\"\nimport { computed, ref, watch } from \"vue\"\nimport { useI18n } from \"~/composables/i18n\"\nimport { useToast } from \"~/composables/toast\"\nimport { defineActionHandler } from \"~/helpers/actions\"\nimport { GQLError } from \"~/helpers/backend/GQLClient\"\nimport { deleteTeamEnvironment } from \"~/helpers/backend/mutations/TeamEnvironment\"\nimport TeamEnvironmentAdapter from \"~/helpers/teams/TeamEnvironmentAdapter\"\nimport {\n  deleteEnvironment,\n  getSelectedEnvironmentIndex,\n  globalEnv$,\n  selectedEnvironmentIndex$,\n  setSelectedEnvironmentIndex,\n} from \"~/newstore/environments\"\nimport { useLocalState } from \"~/newstore/localstate\"\nimport { platform } from \"~/platform\"\nimport { TeamWorkspace, WorkspaceService } from \"~/services/workspace.service\"\n\nconst t = useI18n()\nconst toast = useToast()\n\ntype EnvironmentType = \"my-environments\" | \"team-environments\"\n\ntype EnvironmentsChooseType = {\n  type: EnvironmentType\n  selectedTeam: TeamWorkspace | undefined\n}\n\nconst environmentType = ref<EnvironmentsChooseType>({\n  type: \"my-environments\",\n  selectedTeam: undefined,\n})\n\nconst globalEnv = useReadonlyStream(globalEnv$, [])\n\nconst globalEnvironment = computed(() => ({\n  v: 1 as const,\n  id: \"Global\",\n  name: \"Global\",\n  variables: globalEnv.value,\n}))\n\nconst currentUser = useReadonlyStream(\n  platform.auth.getCurrentUserStream(),\n  platform.auth.getCurrentUser()\n)\n\nconst workspaceService = useService(WorkspaceService)\nconst REMEMBERED_TEAM_ID = useLocalState(\"REMEMBERED_TEAM_ID\")\n\nconst adapter = new TeamEnvironmentAdapter(undefined)\nconst adapterLoading = useReadonlyStream(adapter.loading$, false)\nconst adapterError = useReadonlyStream(adapter.error$, null)\nconst teamEnvironmentList = useReadonlyStream(adapter.teamEnvironmentList$, [])\n\nconst loading = computed(\n  () => adapterLoading.value && teamEnvironmentList.value.length === 0\n)\n\nconst switchToMyEnvironments = () => {\n  environmentType.value.selectedTeam = undefined\n  updateEnvironmentType(\"my-environments\")\n  adapter.changeTeamID(undefined)\n}\n\nconst updateSelectedTeam = (newSelectedTeam: TeamWorkspace | undefined) => {\n  if (newSelectedTeam) {\n    adapter.changeTeamID(newSelectedTeam.teamID)\n    environmentType.value.selectedTeam = newSelectedTeam\n    REMEMBERED_TEAM_ID.value = newSelectedTeam.teamID\n    updateEnvironmentType(\"team-environments\")\n  }\n}\nconst updateEnvironmentType = (newEnvironmentType: EnvironmentType) => {\n  environmentType.value.type = newEnvironmentType\n}\n\nconst workspace = workspaceService.currentWorkspace\n\n// Switch to my environments if workspace is personal and to team environments if workspace is team\n// also resets selected environment if workspace is personal and the previous selected environment was a team environment\nwatch(workspace, (newWorkspace) => {\n  if (newWorkspace.type === \"personal\") {\n    switchToMyEnvironments()\n    if (selectedEnvironmentIndex.value.type !== \"MY_ENV\") {\n      setSelectedEnvironmentIndex({\n        type: \"NO_ENV_SELECTED\",\n      })\n    }\n  } else if (newWorkspace.type === \"team\") {\n    updateSelectedTeam(newWorkspace)\n  }\n})\n\nwatch(\n  () => currentUser.value,\n  (newValue) => {\n    if (!newValue) {\n      switchToMyEnvironments()\n    }\n  }\n)\n\nconst showConfirmRemoveEnvModal = ref(false)\nconst showModalNew = ref(false)\nconst showModalDetails = ref(false)\nconst action = ref<\"new\" | \"edit\">(\"edit\")\nconst editingEnvironmentIndex = ref<\"Global\" | null>(null)\nconst editingVariableName = ref(\"\")\nconst editingVariableValue = ref(\"\")\nconst secretOptionSelected = ref(false)\n\nconst position = ref({ top: 0, left: 0 })\n\nconst displayModalNew = (shouldDisplay: boolean) => {\n  showModalNew.value = shouldDisplay\n}\n\nconst displayModalEdit = (shouldDisplay: boolean) => {\n  action.value = \"edit\"\n  showModalDetails.value = shouldDisplay\n\n  if (!shouldDisplay) resetSelectedData()\n}\n\nconst editEnvironment = (environmentIndex: \"Global\") => {\n  editingEnvironmentIndex.value = environmentIndex\n  action.value = \"edit\"\n  editingVariableName.value = \"\"\n  displayModalEdit(true)\n}\n\nconst removeSelectedEnvironment = () => {\n  const selectedEnvIndex = getSelectedEnvironmentIndex()\n  if (selectedEnvIndex?.type === \"NO_ENV_SELECTED\") return\n\n  if (selectedEnvIndex?.type === \"MY_ENV\") {\n    deleteEnvironment(selectedEnvIndex.index)\n    toast.success(`${t(\"state.deleted\")}`)\n  }\n\n  if (selectedEnvIndex?.type === \"TEAM_ENV\") {\n    pipe(\n      deleteTeamEnvironment(selectedEnvIndex.teamEnvID),\n      TE.match(\n        (err: GQLError<string>) => {\n          console.error(err)\n        },\n        () => {\n          toast.success(`${t(\"team_environment.deleted\")}`)\n        }\n      )\n    )()\n  }\n}\n\nconst resetSelectedData = () => {\n  editingEnvironmentIndex.value = null\n  editingVariableName.value = \"\"\n  editingVariableValue.value = \"\"\n  secretOptionSelected.value = false\n}\n\ndefineActionHandler(\"modals.environment.new\", () => {\n  action.value = \"new\"\n  showModalDetails.value = true\n})\n\ndefineActionHandler(\"modals.environment.delete-selected\", () => {\n  showConfirmRemoveEnvModal.value = true\n})\n\nconst additionalVars = ref<Environment[\"variables\"]>([])\n\nconst envVars = () => [...globalEnv.value, ...additionalVars.value]\n\ndefineActionHandler(\n  \"modals.global.environment.update\",\n  ({ variables, isSecret }) => {\n    if (variables) {\n      additionalVars.value = variables\n    }\n    secretOptionSelected.value = isSecret ?? false\n    editEnvironment(\"Global\")\n    editingVariableName.value = \"Global\"\n  }\n)\n\nconst selectedEnvironmentIndex = useStream(\n  selectedEnvironmentIndex$,\n  { type: \"NO_ENV_SELECTED\" },\n  setSelectedEnvironmentIndex\n)\n\n/* Checking if there are any changes in the selected team environment when there are any updates\nin the selected team environment list */\nwatch(\n  () => teamEnvironmentList.value,\n  (newTeamEnvironmentList) => {\n    if (\n      newTeamEnvironmentList.length > 0 &&\n      selectedEnvironmentIndex.value.type === \"TEAM_ENV\"\n    ) {\n      const selectedEnv = newTeamEnvironmentList.find(\n        (env) =>\n          env.id ===\n          (selectedEnvironmentIndex.value.type === \"TEAM_ENV\" &&\n            selectedEnvironmentIndex.value.teamEnvID)\n      )\n\n      if (selectedEnv) {\n        // Checking if the currently selected environment is still the same after the new list is loaded\n        const isChange = !isEqual(\n          selectedEnvironmentIndex.value.environment,\n          selectedEnv.environment\n        )\n\n        if (isChange) {\n          selectedEnvironmentIndex.value = {\n            type: \"TEAM_ENV\",\n            teamEnvID: selectedEnv.id,\n            teamID: selectedEnv.teamID,\n            environment: selectedEnv.environment,\n          }\n        }\n      }\n    }\n  },\n  { deep: true }\n)\n\ndefineActionHandler(\"modals.environment.add\", ({ envName, variableName }) => {\n  editingVariableName.value = envName\n  editingVariableValue.value = variableName ?? \"\"\n  displayModalNew(true)\n})\n</script>\n","<template>\n  <HoppSmartTabs\n    v-model=\"selectedNavigationTab\"\n    styles=\"sticky overflow-x-auto flex-shrink-0 bg-primary z-10 top-0\"\n    vertical\n    render-inactive-tabs\n  >\n    <HoppSmartTab\n      :id=\"'collections'\"\n      :icon=\"IconFolder\"\n      :label=\"`${t('tab.collections')}`\"\n    >\n      <Collections />\n    </HoppSmartTab>\n    <HoppSmartTab\n      :id=\"'env'\"\n      :icon=\"IconLayers\"\n      :label=\"`${t('tab.environments')}`\"\n    >\n      <Environments />\n    </HoppSmartTab>\n    <HoppSmartTab\n      :id=\"'history'\"\n      :icon=\"IconClock\"\n      :label=\"`${t('tab.history')}`\"\n    >\n      <History :page=\"'rest'\" />\n    </HoppSmartTab>\n    <HoppSmartTab\n      :id=\"'share-request'\"\n      :icon=\"IconShare2\"\n      :label=\"`${t('tab.shared_requests')}`\"\n    >\n      <Share />\n    </HoppSmartTab>\n    <HoppSmartTab\n      :id=\"'codegen'\"\n      :icon=\"IconCode\"\n      :label=\"`${t('tab.codegen')}`\"\n    >\n      <div\n        class=\"flex items-center overflow-x-auto whitespace-nowrap border-b border-dividerLight px-4 py-2 text-tiny text-secondaryLight\"\n      >\n        <span class=\"truncate\"> {{ t(\"request.title\") }} </span>\n        <icon-lucide-chevron-right class=\"mx-2\" />\n        {{ t(\"tab.code_snippet\") }}\n      </div>\n      <HttpCodegen\n        v-if=\"selectedNavigationTab === 'codegen'\"\n        :hide-label=\"true\"\n        class=\"px-4 mt-4\"\n      />\n    </HoppSmartTab>\n  </HoppSmartTabs>\n</template>\n\n<script setup lang=\"ts\">\nimport IconClock from \"~icons/lucide/clock\"\nimport IconLayers from \"~icons/lucide/layers\"\nimport IconFolder from \"~icons/lucide/folder\"\nimport IconShare2 from \"~icons/lucide/share-2\"\nimport IconCode from \"~icons/lucide/code\"\nimport { ref } from \"vue\"\nimport { useI18n } from \"@composables/i18n\"\n\nconst t = useI18n()\n\ntype RequestOptionTabs =\n  | \"history\"\n  | \"collections\"\n  | \"env\"\n  | \"share-request\"\n  | \"codegen\"\n\nconst selectedNavigationTab = ref<RequestOptionTabs>(\"collections\")\n</script>\n","<template>\n  <HoppSmartModal\n    v-if=\"show\"\n    dialog\n    :title=\"`${t('request.generate_code')}`\"\n    @close=\"hideModal\"\n  >\n    <template #body>\n      <HttpCodegen @request-code=\"requestCode = $event\" />\n    </template>\n    <template #footer>\n      <span class=\"flex space-x-2\">\n        <HoppButtonPrimary\n          :label=\"`${t('action.copy')}`\"\n          :icon=\"copyCodeIcon\"\n          outline\n          @click=\"copyRequestCode\"\n        />\n        <HoppButtonSecondary\n          :label=\"`${t('action.dismiss')}`\"\n          outline\n          filled\n          @click=\"hideModal\"\n        />\n      </span>\n    </template>\n  </HoppSmartModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from \"@composables/i18n\"\nimport { useToast } from \"@composables/toast\"\nimport { refAutoReset } from \"@vueuse/core\"\nimport { ref, watch } from \"vue\"\nimport { copyToClipboard } from \"~/helpers/utils/clipboard\"\n\nimport { platform } from \"~/platform\"\nimport IconCheck from \"~icons/lucide/check\"\nimport IconCopy from \"~icons/lucide/copy\"\n\nconst t = useI18n()\n\nconst props = defineProps<{\n  show: boolean\n}>()\n\nconst emit = defineEmits<{\n  (e: \"hide-modal\"): void\n}>()\n\nconst toast = useToast()\n\nconst copyCodeIcon = refAutoReset<typeof IconCopy | typeof IconCheck>(\n  IconCopy,\n  1000\n)\n\nconst requestCode = ref<string>(\"\")\n\nwatch(\n  () => props.show,\n  (goingToShow) => {\n    if (goingToShow) {\n      platform.analytics?.logEvent({\n        type: \"HOPP_REST_CODEGEN_OPENED\",\n      })\n    }\n  }\n)\n\nconst hideModal = () => emit(\"hide-modal\")\n\nconst copyRequestCode = () => {\n  copyToClipboard(requestCode.value)\n  copyCodeIcon.value = IconCheck\n  toast.success(`${t(\"state.copied_to_clipboard\")}`)\n}\n</script>\n","/**\n * @license\n * Copyright (c) 2016, Contributors\n * SPDX-License-Identifier: ISC\n */\nexport function camelCase(str) {\n    // Handle the case where an argument is provided as camel case, e.g., fooBar.\n    // by ensuring that the string isn't already mixed case:\n    const isCamelCase = str !== str.toLowerCase() && str !== str.toUpperCase();\n    if (!isCamelCase) {\n        str = str.toLowerCase();\n    }\n    if (str.indexOf('-') === -1 && str.indexOf('_') === -1) {\n        return str;\n    }\n    else {\n        let camelcase = '';\n        let nextChrUpper = false;\n        const leadingHyphens = str.match(/^-+/);\n        for (let i = leadingHyphens ? leadingHyphens[0].length : 0; i < str.length; i++) {\n            let chr = str.charAt(i);\n            if (nextChrUpper) {\n                nextChrUpper = false;\n                chr = chr.toUpperCase();\n            }\n            if (i !== 0 && (chr === '-' || chr === '_')) {\n                nextChrUpper = true;\n            }\n            else if (chr !== '-' && chr !== '_') {\n                camelcase += chr;\n            }\n        }\n        return camelcase;\n    }\n}\nexport function decamelize(str, joinString) {\n    const lowercase = str.toLowerCase();\n    joinString = joinString || '-';\n    let notCamelcase = '';\n    for (let i = 0; i < str.length; i++) {\n        const chrLower = lowercase.charAt(i);\n        const chrString = str.charAt(i);\n        if (chrLower !== chrString && i > 0) {\n            notCamelcase += `${joinString}${lowercase.charAt(i)}`;\n        }\n        else {\n            notCamelcase += chrString;\n        }\n    }\n    return notCamelcase;\n}\nexport function looksLikeNumber(x) {\n    if (x === null || x === undefined)\n        return false;\n    // if loaded from config, may already be a number.\n    if (typeof x === 'number')\n        return true;\n    // hexadecimal.\n    if (/^0x[0-9a-f]+$/i.test(x))\n        return true;\n    // don't treat 0123 as a number; as it drops the leading '0'.\n    if (/^0[^.]/.test(x))\n        return false;\n    return /^[-]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(e[-+]?\\d+)?$/.test(x);\n}\n","/**\n * @license\n * Copyright (c) 2016, Contributors\n * SPDX-License-Identifier: ISC\n */\n// take an un-split argv string and tokenize it.\nexport function tokenizeArgString(argString) {\n    if (Array.isArray(argString)) {\n        return argString.map(e => typeof e !== 'string' ? e + '' : e);\n    }\n    argString = argString.trim();\n    let i = 0;\n    let prevC = null;\n    let c = null;\n    let opening = null;\n    const args = [];\n    for (let ii = 0; ii < argString.length; ii++) {\n        prevC = c;\n        c = argString.charAt(ii);\n        // split on spaces unless we're in quotes.\n        if (c === ' ' && !opening) {\n            if (!(prevC === ' ')) {\n                i++;\n            }\n            continue;\n        }\n        // don't split the string if we're in matching\n        // opening or closing single and double quotes.\n        if (c === opening) {\n            opening = null;\n        }\n        else if ((c === \"'\" || c === '\"') && !opening) {\n            opening = c;\n        }\n        if (!args[i])\n            args[i] = '';\n        args[i] += c;\n    }\n    return args;\n}\n","/**\n * @license\n * Copyright (c) 2016, Contributors\n * SPDX-License-Identifier: ISC\n */\nexport var DefaultValuesForTypeKey;\n(function (DefaultValuesForTypeKey) {\n    DefaultValuesForTypeKey[\"BOOLEAN\"] = \"boolean\";\n    DefaultValuesForTypeKey[\"STRING\"] = \"string\";\n    DefaultValuesForTypeKey[\"NUMBER\"] = \"number\";\n    DefaultValuesForTypeKey[\"ARRAY\"] = \"array\";\n})(DefaultValuesForTypeKey || (DefaultValuesForTypeKey = {}));\n","/**\n * @license\n * Copyright (c) 2016, Contributors\n * SPDX-License-Identifier: ISC\n */\nimport { tokenizeArgString } from './tokenize-arg-string.js';\nimport { DefaultValuesForTypeKey } from './yargs-parser-types.js';\nimport { camelCase, decamelize, looksLikeNumber } from './string-utils.js';\nlet mixin;\nexport class YargsParser {\n    constructor(_mixin) {\n        mixin = _mixin;\n    }\n    parse(argsInput, options) {\n        const opts = Object.assign({\n            alias: undefined,\n            array: undefined,\n            boolean: undefined,\n            config: undefined,\n            configObjects: undefined,\n            configuration: undefined,\n            coerce: undefined,\n            count: undefined,\n            default: undefined,\n            envPrefix: undefined,\n            narg: undefined,\n            normalize: undefined,\n            string: undefined,\n            number: undefined,\n            __: undefined,\n            key: undefined\n        }, options);\n        // allow a string argument to be passed in rather\n        // than an argv array.\n        const args = tokenizeArgString(argsInput);\n        // tokenizeArgString adds extra quotes to args if argsInput is a string\n        // only strip those extra quotes in processValue if argsInput is a string\n        const inputIsString = typeof argsInput === 'string';\n        // aliases might have transitive relationships, normalize this.\n        const aliases = combineAliases(Object.assign(Object.create(null), opts.alias));\n        const configuration = Object.assign({\n            'boolean-negation': true,\n            'camel-case-expansion': true,\n            'combine-arrays': false,\n            'dot-notation': true,\n            'duplicate-arguments-array': true,\n            'flatten-duplicate-arrays': true,\n            'greedy-arrays': true,\n            'halt-at-non-option': false,\n            'nargs-eats-options': false,\n            'negation-prefix': 'no-',\n            'parse-numbers': true,\n            'parse-positional-numbers': true,\n            'populate--': false,\n            'set-placeholder-key': false,\n            'short-option-groups': true,\n            'strip-aliased': false,\n            'strip-dashed': false,\n            'unknown-options-as-args': false\n        }, opts.configuration);\n        const defaults = Object.assign(Object.create(null), opts.default);\n        const configObjects = opts.configObjects || [];\n        const envPrefix = opts.envPrefix;\n        const notFlagsOption = configuration['populate--'];\n        const notFlagsArgv = notFlagsOption ? '--' : '_';\n        const newAliases = Object.create(null);\n        const defaulted = Object.create(null);\n        // allow a i18n handler to be passed in, default to a fake one (util.format).\n        const __ = opts.__ || mixin.format;\n        const flags = {\n            aliases: Object.create(null),\n            arrays: Object.create(null),\n            bools: Object.create(null),\n            strings: Object.create(null),\n            numbers: Object.create(null),\n            counts: Object.create(null),\n            normalize: Object.create(null),\n            configs: Object.create(null),\n            nargs: Object.create(null),\n            coercions: Object.create(null),\n            keys: []\n        };\n        const negative = /^-([0-9]+(\\.[0-9]+)?|\\.[0-9]+)$/;\n        const negatedBoolean = new RegExp('^--' + configuration['negation-prefix'] + '(.+)');\n        [].concat(opts.array || []).filter(Boolean).forEach(function (opt) {\n            const key = typeof opt === 'object' ? opt.key : opt;\n            // assign to flags[bools|strings|numbers]\n            const assignment = Object.keys(opt).map(function (key) {\n                const arrayFlagKeys = {\n                    boolean: 'bools',\n                    string: 'strings',\n                    number: 'numbers'\n                };\n                return arrayFlagKeys[key];\n            }).filter(Boolean).pop();\n            // assign key to be coerced\n            if (assignment) {\n                flags[assignment][key] = true;\n            }\n            flags.arrays[key] = true;\n            flags.keys.push(key);\n        });\n        [].concat(opts.boolean || []).filter(Boolean).forEach(function (key) {\n            flags.bools[key] = true;\n            flags.keys.push(key);\n        });\n        [].concat(opts.string || []).filter(Boolean).forEach(function (key) {\n            flags.strings[key] = true;\n            flags.keys.push(key);\n        });\n        [].concat(opts.number || []).filter(Boolean).forEach(function (key) {\n            flags.numbers[key] = true;\n            flags.keys.push(key);\n        });\n        [].concat(opts.count || []).filter(Boolean).forEach(function (key) {\n            flags.counts[key] = true;\n            flags.keys.push(key);\n        });\n        [].concat(opts.normalize || []).filter(Boolean).forEach(function (key) {\n            flags.normalize[key] = true;\n            flags.keys.push(key);\n        });\n        if (typeof opts.narg === 'object') {\n            Object.entries(opts.narg).forEach(([key, value]) => {\n                if (typeof value === 'number') {\n                    flags.nargs[key] = value;\n                    flags.keys.push(key);\n                }\n            });\n        }\n        if (typeof opts.coerce === 'object') {\n            Object.entries(opts.coerce).forEach(([key, value]) => {\n                if (typeof value === 'function') {\n                    flags.coercions[key] = value;\n                    flags.keys.push(key);\n                }\n            });\n        }\n        if (typeof opts.config !== 'undefined') {\n            if (Array.isArray(opts.config) || typeof opts.config === 'string') {\n                ;\n                [].concat(opts.config).filter(Boolean).forEach(function (key) {\n                    flags.configs[key] = true;\n                });\n            }\n            else if (typeof opts.config === 'object') {\n                Object.entries(opts.config).forEach(([key, value]) => {\n                    if (typeof value === 'boolean' || typeof value === 'function') {\n                        flags.configs[key] = value;\n                    }\n                });\n            }\n        }\n        // create a lookup table that takes into account all\n        // combinations of aliases: {f: ['foo'], foo: ['f']}\n        extendAliases(opts.key, aliases, opts.default, flags.arrays);\n        // apply default values to all aliases.\n        Object.keys(defaults).forEach(function (key) {\n            (flags.aliases[key] || []).forEach(function (alias) {\n                defaults[alias] = defaults[key];\n            });\n        });\n        let error = null;\n        checkConfiguration();\n        let notFlags = [];\n        const argv = Object.assign(Object.create(null), { _: [] });\n        // TODO(bcoe): for the first pass at removing object prototype  we didn't\n        // remove all prototypes from objects returned by this API, we might want\n        // to gradually move towards doing so.\n        const argvReturn = {};\n        for (let i = 0; i < args.length; i++) {\n            const arg = args[i];\n            const truncatedArg = arg.replace(/^-{3,}/, '---');\n            let broken;\n            let key;\n            let letters;\n            let m;\n            let next;\n            let value;\n            // any unknown option (except for end-of-options, \"--\")\n            if (arg !== '--' && /^-/.test(arg) && isUnknownOptionAsArg(arg)) {\n                pushPositional(arg);\n                // ---, ---=, ----, etc,\n            }\n            else if (truncatedArg.match(/^---+(=|$)/)) {\n                // options without key name are invalid.\n                pushPositional(arg);\n                continue;\n                // -- separated by =\n            }\n            else if (arg.match(/^--.+=/) || (!configuration['short-option-groups'] && arg.match(/^-.+=/))) {\n                // Using [\\s\\S] instead of . because js doesn't support the\n                // 'dotall' regex modifier. See:\n                // http://stackoverflow.com/a/1068308/13216\n                m = arg.match(/^--?([^=]+)=([\\s\\S]*)$/);\n                // arrays format = '--f=a b c'\n                if (m !== null && Array.isArray(m) && m.length >= 3) {\n                    if (checkAllAliases(m[1], flags.arrays)) {\n                        i = eatArray(i, m[1], args, m[2]);\n                    }\n                    else if (checkAllAliases(m[1], flags.nargs) !== false) {\n                        // nargs format = '--f=monkey washing cat'\n                        i = eatNargs(i, m[1], args, m[2]);\n                    }\n                    else {\n                        setArg(m[1], m[2], true);\n                    }\n                }\n            }\n            else if (arg.match(negatedBoolean) && configuration['boolean-negation']) {\n                m = arg.match(negatedBoolean);\n                if (m !== null && Array.isArray(m) && m.length >= 2) {\n                    key = m[1];\n                    setArg(key, checkAllAliases(key, flags.arrays) ? [false] : false);\n                }\n                // -- separated by space.\n            }\n            else if (arg.match(/^--.+/) || (!configuration['short-option-groups'] && arg.match(/^-[^-]+/))) {\n                m = arg.match(/^--?(.+)/);\n                if (m !== null && Array.isArray(m) && m.length >= 2) {\n                    key = m[1];\n                    if (checkAllAliases(key, flags.arrays)) {\n                        // array format = '--foo a b c'\n                        i = eatArray(i, key, args);\n                    }\n                    else if (checkAllAliases(key, flags.nargs) !== false) {\n                        // nargs format = '--foo a b c'\n                        // should be truthy even if: flags.nargs[key] === 0\n                        i = eatNargs(i, key, args);\n                    }\n                    else {\n                        next = args[i + 1];\n                        if (next !== undefined && (!next.match(/^-/) ||\n                            next.match(negative)) &&\n                            !checkAllAliases(key, flags.bools) &&\n                            !checkAllAliases(key, flags.counts)) {\n                            setArg(key, next);\n                            i++;\n                        }\n                        else if (/^(true|false)$/.test(next)) {\n                            setArg(key, next);\n                            i++;\n                        }\n                        else {\n                            setArg(key, defaultValue(key));\n                        }\n                    }\n                }\n                // dot-notation flag separated by '='.\n            }\n            else if (arg.match(/^-.\\..+=/)) {\n                m = arg.match(/^-([^=]+)=([\\s\\S]*)$/);\n                if (m !== null && Array.isArray(m) && m.length >= 3) {\n                    setArg(m[1], m[2]);\n                }\n                // dot-notation flag separated by space.\n            }\n            else if (arg.match(/^-.\\..+/) && !arg.match(negative)) {\n                next = args[i + 1];\n                m = arg.match(/^-(.\\..+)/);\n                if (m !== null && Array.isArray(m) && m.length >= 2) {\n                    key = m[1];\n                    if (next !== undefined && !next.match(/^-/) &&\n                        !checkAllAliases(key, flags.bools) &&\n                        !checkAllAliases(key, flags.counts)) {\n                        setArg(key, next);\n                        i++;\n                    }\n                    else {\n                        setArg(key, defaultValue(key));\n                    }\n                }\n            }\n            else if (arg.match(/^-[^-]+/) && !arg.match(negative)) {\n                letters = arg.slice(1, -1).split('');\n                broken = false;\n                for (let j = 0; j < letters.length; j++) {\n                    next = arg.slice(j + 2);\n                    if (letters[j + 1] && letters[j + 1] === '=') {\n                        value = arg.slice(j + 3);\n                        key = letters[j];\n                        if (checkAllAliases(key, flags.arrays)) {\n                            // array format = '-f=a b c'\n                            i = eatArray(i, key, args, value);\n                        }\n                        else if (checkAllAliases(key, flags.nargs) !== false) {\n                            // nargs format = '-f=monkey washing cat'\n                            i = eatNargs(i, key, args, value);\n                        }\n                        else {\n                            setArg(key, value);\n                        }\n                        broken = true;\n                        break;\n                    }\n                    if (next === '-') {\n                        setArg(letters[j], next);\n                        continue;\n                    }\n                    // current letter is an alphabetic character and next value is a number\n                    if (/[A-Za-z]/.test(letters[j]) &&\n                        /^-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next) &&\n                        checkAllAliases(next, flags.bools) === false) {\n                        setArg(letters[j], next);\n                        broken = true;\n                        break;\n                    }\n                    if (letters[j + 1] && letters[j + 1].match(/\\W/)) {\n                        setArg(letters[j], next);\n                        broken = true;\n                        break;\n                    }\n                    else {\n                        setArg(letters[j], defaultValue(letters[j]));\n                    }\n                }\n                key = arg.slice(-1)[0];\n                if (!broken && key !== '-') {\n                    if (checkAllAliases(key, flags.arrays)) {\n                        // array format = '-f a b c'\n                        i = eatArray(i, key, args);\n                    }\n                    else if (checkAllAliases(key, flags.nargs) !== false) {\n                        // nargs format = '-f a b c'\n                        // should be truthy even if: flags.nargs[key] === 0\n                        i = eatNargs(i, key, args);\n                    }\n                    else {\n                        next = args[i + 1];\n                        if (next !== undefined && (!/^(-|--)[^-]/.test(next) ||\n                            next.match(negative)) &&\n                            !checkAllAliases(key, flags.bools) &&\n                            !checkAllAliases(key, flags.counts)) {\n                            setArg(key, next);\n                            i++;\n                        }\n                        else if (/^(true|false)$/.test(next)) {\n                            setArg(key, next);\n                            i++;\n                        }\n                        else {\n                            setArg(key, defaultValue(key));\n                        }\n                    }\n                }\n            }\n            else if (arg.match(/^-[0-9]$/) &&\n                arg.match(negative) &&\n                checkAllAliases(arg.slice(1), flags.bools)) {\n                // single-digit boolean alias, e.g: xargs -0\n                key = arg.slice(1);\n                setArg(key, defaultValue(key));\n            }\n            else if (arg === '--') {\n                notFlags = args.slice(i + 1);\n                break;\n            }\n            else if (configuration['halt-at-non-option']) {\n                notFlags = args.slice(i);\n                break;\n            }\n            else {\n                pushPositional(arg);\n            }\n        }\n        // order of precedence:\n        // 1. command line arg\n        // 2. value from env var\n        // 3. value from config file\n        // 4. value from config objects\n        // 5. configured default value\n        applyEnvVars(argv, true); // special case: check env vars that point to config file\n        applyEnvVars(argv, false);\n        setConfig(argv);\n        setConfigObjects();\n        applyDefaultsAndAliases(argv, flags.aliases, defaults, true);\n        applyCoercions(argv);\n        if (configuration['set-placeholder-key'])\n            setPlaceholderKeys(argv);\n        // for any counts either not in args or without an explicit default, set to 0\n        Object.keys(flags.counts).forEach(function (key) {\n            if (!hasKey(argv, key.split('.')))\n                setArg(key, 0);\n        });\n        // '--' defaults to undefined.\n        if (notFlagsOption && notFlags.length)\n            argv[notFlagsArgv] = [];\n        notFlags.forEach(function (key) {\n            argv[notFlagsArgv].push(key);\n        });\n        if (configuration['camel-case-expansion'] && configuration['strip-dashed']) {\n            Object.keys(argv).filter(key => key !== '--' && key.includes('-')).forEach(key => {\n                delete argv[key];\n            });\n        }\n        if (configuration['strip-aliased']) {\n            ;\n            [].concat(...Object.keys(aliases).map(k => aliases[k])).forEach(alias => {\n                if (configuration['camel-case-expansion'] && alias.includes('-')) {\n                    delete argv[alias.split('.').map(prop => camelCase(prop)).join('.')];\n                }\n                delete argv[alias];\n            });\n        }\n        // Push argument into positional array, applying numeric coercion:\n        function pushPositional(arg) {\n            const maybeCoercedNumber = maybeCoerceNumber('_', arg);\n            if (typeof maybeCoercedNumber === 'string' || typeof maybeCoercedNumber === 'number') {\n                argv._.push(maybeCoercedNumber);\n            }\n        }\n        // how many arguments should we consume, based\n        // on the nargs option?\n        function eatNargs(i, key, args, argAfterEqualSign) {\n            let ii;\n            let toEat = checkAllAliases(key, flags.nargs);\n            // NaN has a special meaning for the array type, indicating that one or\n            // more values are expected.\n            toEat = typeof toEat !== 'number' || isNaN(toEat) ? 1 : toEat;\n            if (toEat === 0) {\n                if (!isUndefined(argAfterEqualSign)) {\n                    error = Error(__('Argument unexpected for: %s', key));\n                }\n                setArg(key, defaultValue(key));\n                return i;\n            }\n            let available = isUndefined(argAfterEqualSign) ? 0 : 1;\n            if (configuration['nargs-eats-options']) {\n                // classic behavior, yargs eats positional and dash arguments.\n                if (args.length - (i + 1) + available < toEat) {\n                    error = Error(__('Not enough arguments following: %s', key));\n                }\n                available = toEat;\n            }\n            else {\n                // nargs will not consume flag arguments, e.g., -abc, --foo,\n                // and terminates when one is observed.\n                for (ii = i + 1; ii < args.length; ii++) {\n                    if (!args[ii].match(/^-[^0-9]/) || args[ii].match(negative) || isUnknownOptionAsArg(args[ii]))\n                        available++;\n                    else\n                        break;\n                }\n                if (available < toEat)\n                    error = Error(__('Not enough arguments following: %s', key));\n            }\n            let consumed = Math.min(available, toEat);\n            if (!isUndefined(argAfterEqualSign) && consumed > 0) {\n                setArg(key, argAfterEqualSign);\n                consumed--;\n            }\n            for (ii = i + 1; ii < (consumed + i + 1); ii++) {\n                setArg(key, args[ii]);\n            }\n            return (i + consumed);\n        }\n        // if an option is an array, eat all non-hyphenated arguments\n        // following it... YUM!\n        // e.g., --foo apple banana cat becomes [\"apple\", \"banana\", \"cat\"]\n        function eatArray(i, key, args, argAfterEqualSign) {\n            let argsToSet = [];\n            let next = argAfterEqualSign || args[i + 1];\n            // If both array and nargs are configured, enforce the nargs count:\n            const nargsCount = checkAllAliases(key, flags.nargs);\n            if (checkAllAliases(key, flags.bools) && !(/^(true|false)$/.test(next))) {\n                argsToSet.push(true);\n            }\n            else if (isUndefined(next) ||\n                (isUndefined(argAfterEqualSign) && /^-/.test(next) && !negative.test(next) && !isUnknownOptionAsArg(next))) {\n                // for keys without value ==> argsToSet remains an empty []\n                // set user default value, if available\n                if (defaults[key] !== undefined) {\n                    const defVal = defaults[key];\n                    argsToSet = Array.isArray(defVal) ? defVal : [defVal];\n                }\n            }\n            else {\n                // value in --option=value is eaten as is\n                if (!isUndefined(argAfterEqualSign)) {\n                    argsToSet.push(processValue(key, argAfterEqualSign, true));\n                }\n                for (let ii = i + 1; ii < args.length; ii++) {\n                    if ((!configuration['greedy-arrays'] && argsToSet.length > 0) ||\n                        (nargsCount && typeof nargsCount === 'number' && argsToSet.length >= nargsCount))\n                        break;\n                    next = args[ii];\n                    if (/^-/.test(next) && !negative.test(next) && !isUnknownOptionAsArg(next))\n                        break;\n                    i = ii;\n                    argsToSet.push(processValue(key, next, inputIsString));\n                }\n            }\n            // If both array and nargs are configured, create an error if less than\n            // nargs positionals were found. NaN has special meaning, indicating\n            // that at least one value is required (more are okay).\n            if (typeof nargsCount === 'number' && ((nargsCount && argsToSet.length < nargsCount) ||\n                (isNaN(nargsCount) && argsToSet.length === 0))) {\n                error = Error(__('Not enough arguments following: %s', key));\n            }\n            setArg(key, argsToSet);\n            return i;\n        }\n        function setArg(key, val, shouldStripQuotes = inputIsString) {\n            if (/-/.test(key) && configuration['camel-case-expansion']) {\n                const alias = key.split('.').map(function (prop) {\n                    return camelCase(prop);\n                }).join('.');\n                addNewAlias(key, alias);\n            }\n            const value = processValue(key, val, shouldStripQuotes);\n            const splitKey = key.split('.');\n            setKey(argv, splitKey, value);\n            // handle populating aliases of the full key\n            if (flags.aliases[key]) {\n                flags.aliases[key].forEach(function (x) {\n                    const keyProperties = x.split('.');\n                    setKey(argv, keyProperties, value);\n                });\n            }\n            // handle populating aliases of the first element of the dot-notation key\n            if (splitKey.length > 1 && configuration['dot-notation']) {\n                ;\n                (flags.aliases[splitKey[0]] || []).forEach(function (x) {\n                    let keyProperties = x.split('.');\n                    // expand alias with nested objects in key\n                    const a = [].concat(splitKey);\n                    a.shift(); // nuke the old key.\n                    keyProperties = keyProperties.concat(a);\n                    // populate alias only if is not already an alias of the full key\n                    // (already populated above)\n                    if (!(flags.aliases[key] || []).includes(keyProperties.join('.'))) {\n                        setKey(argv, keyProperties, value);\n                    }\n                });\n            }\n            // Set normalize getter and setter when key is in 'normalize' but isn't an array\n            if (checkAllAliases(key, flags.normalize) && !checkAllAliases(key, flags.arrays)) {\n                const keys = [key].concat(flags.aliases[key] || []);\n                keys.forEach(function (key) {\n                    Object.defineProperty(argvReturn, key, {\n                        enumerable: true,\n                        get() {\n                            return val;\n                        },\n                        set(value) {\n                            val = typeof value === 'string' ? mixin.normalize(value) : value;\n                        }\n                    });\n                });\n            }\n        }\n        function addNewAlias(key, alias) {\n            if (!(flags.aliases[key] && flags.aliases[key].length)) {\n                flags.aliases[key] = [alias];\n                newAliases[alias] = true;\n            }\n            if (!(flags.aliases[alias] && flags.aliases[alias].length)) {\n                addNewAlias(alias, key);\n            }\n        }\n        function processValue(key, val, shouldStripQuotes) {\n            // strings may be quoted, clean this up as we assign values.\n            if (shouldStripQuotes) {\n                val = stripQuotes(val);\n            }\n            // handle parsing boolean arguments --foo=true --bar false.\n            if (checkAllAliases(key, flags.bools) || checkAllAliases(key, flags.counts)) {\n                if (typeof val === 'string')\n                    val = val === 'true';\n            }\n            let value = Array.isArray(val)\n                ? val.map(function (v) { return maybeCoerceNumber(key, v); })\n                : maybeCoerceNumber(key, val);\n            // increment a count given as arg (either no value or value parsed as boolean)\n            if (checkAllAliases(key, flags.counts) && (isUndefined(value) || typeof value === 'boolean')) {\n                value = increment();\n            }\n            // Set normalized value when key is in 'normalize' and in 'arrays'\n            if (checkAllAliases(key, flags.normalize) && checkAllAliases(key, flags.arrays)) {\n                if (Array.isArray(val))\n                    value = val.map((val) => { return mixin.normalize(val); });\n                else\n                    value = mixin.normalize(val);\n            }\n            return value;\n        }\n        function maybeCoerceNumber(key, value) {\n            if (!configuration['parse-positional-numbers'] && key === '_')\n                return value;\n            if (!checkAllAliases(key, flags.strings) && !checkAllAliases(key, flags.bools) && !Array.isArray(value)) {\n                const shouldCoerceNumber = looksLikeNumber(value) && configuration['parse-numbers'] && (Number.isSafeInteger(Math.floor(parseFloat(`${value}`))));\n                if (shouldCoerceNumber || (!isUndefined(value) && checkAllAliases(key, flags.numbers))) {\n                    value = Number(value);\n                }\n            }\n            return value;\n        }\n        // set args from config.json file, this should be\n        // applied last so that defaults can be applied.\n        function setConfig(argv) {\n            const configLookup = Object.create(null);\n            // expand defaults/aliases, in-case any happen to reference\n            // the config.json file.\n            applyDefaultsAndAliases(configLookup, flags.aliases, defaults);\n            Object.keys(flags.configs).forEach(function (configKey) {\n                const configPath = argv[configKey] || configLookup[configKey];\n                if (configPath) {\n                    try {\n                        let config = null;\n                        const resolvedConfigPath = mixin.resolve(mixin.cwd(), configPath);\n                        const resolveConfig = flags.configs[configKey];\n                        if (typeof resolveConfig === 'function') {\n                            try {\n                                config = resolveConfig(resolvedConfigPath);\n                            }\n                            catch (e) {\n                                config = e;\n                            }\n                            if (config instanceof Error) {\n                                error = config;\n                                return;\n                            }\n                        }\n                        else {\n                            config = mixin.require(resolvedConfigPath);\n                        }\n                        setConfigObject(config);\n                    }\n                    catch (ex) {\n                        // Deno will receive a PermissionDenied error if an attempt is\n                        // made to load config without the --allow-read flag:\n                        if (ex.name === 'PermissionDenied')\n                            error = ex;\n                        else if (argv[configKey])\n                            error = Error(__('Invalid JSON config file: %s', configPath));\n                    }\n                }\n            });\n        }\n        // set args from config object.\n        // it recursively checks nested objects.\n        function setConfigObject(config, prev) {\n            Object.keys(config).forEach(function (key) {\n                const value = config[key];\n                const fullKey = prev ? prev + '.' + key : key;\n                // if the value is an inner object and we have dot-notation\n                // enabled, treat inner objects in config the same as\n                // heavily nested dot notations (foo.bar.apple).\n                if (typeof value === 'object' && value !== null && !Array.isArray(value) && configuration['dot-notation']) {\n                    // if the value is an object but not an array, check nested object\n                    setConfigObject(value, fullKey);\n                }\n                else {\n                    // setting arguments via CLI takes precedence over\n                    // values within the config file.\n                    if (!hasKey(argv, fullKey.split('.')) || (checkAllAliases(fullKey, flags.arrays) && configuration['combine-arrays'])) {\n                        setArg(fullKey, value);\n                    }\n                }\n            });\n        }\n        // set all config objects passed in opts\n        function setConfigObjects() {\n            if (typeof configObjects !== 'undefined') {\n                configObjects.forEach(function (configObject) {\n                    setConfigObject(configObject);\n                });\n            }\n        }\n        function applyEnvVars(argv, configOnly) {\n            if (typeof envPrefix === 'undefined')\n                return;\n            const prefix = typeof envPrefix === 'string' ? envPrefix : '';\n            const env = mixin.env();\n            Object.keys(env).forEach(function (envVar) {\n                if (prefix === '' || envVar.lastIndexOf(prefix, 0) === 0) {\n                    // get array of nested keys and convert them to camel case\n                    const keys = envVar.split('__').map(function (key, i) {\n                        if (i === 0) {\n                            key = key.substring(prefix.length);\n                        }\n                        return camelCase(key);\n                    });\n                    if (((configOnly && flags.configs[keys.join('.')]) || !configOnly) && !hasKey(argv, keys)) {\n                        setArg(keys.join('.'), env[envVar]);\n                    }\n                }\n            });\n        }\n        function applyCoercions(argv) {\n            let coerce;\n            const applied = new Set();\n            Object.keys(argv).forEach(function (key) {\n                if (!applied.has(key)) { // If we haven't already coerced this option via one of its aliases\n                    coerce = checkAllAliases(key, flags.coercions);\n                    if (typeof coerce === 'function') {\n                        try {\n                            const value = maybeCoerceNumber(key, coerce(argv[key]));\n                            ([].concat(flags.aliases[key] || [], key)).forEach(ali => {\n                                applied.add(ali);\n                                argv[ali] = value;\n                            });\n                        }\n                        catch (err) {\n                            error = err;\n                        }\n                    }\n                }\n            });\n        }\n        function setPlaceholderKeys(argv) {\n            flags.keys.forEach((key) => {\n                // don't set placeholder keys for dot notation options 'foo.bar'.\n                if (~key.indexOf('.'))\n                    return;\n                if (typeof argv[key] === 'undefined')\n                    argv[key] = undefined;\n            });\n            return argv;\n        }\n        function applyDefaultsAndAliases(obj, aliases, defaults, canLog = false) {\n            Object.keys(defaults).forEach(function (key) {\n                if (!hasKey(obj, key.split('.'))) {\n                    setKey(obj, key.split('.'), defaults[key]);\n                    if (canLog)\n                        defaulted[key] = true;\n                    (aliases[key] || []).forEach(function (x) {\n                        if (hasKey(obj, x.split('.')))\n                            return;\n                        setKey(obj, x.split('.'), defaults[key]);\n                    });\n                }\n            });\n        }\n        function hasKey(obj, keys) {\n            let o = obj;\n            if (!configuration['dot-notation'])\n                keys = [keys.join('.')];\n            keys.slice(0, -1).forEach(function (key) {\n                o = (o[key] || {});\n            });\n            const key = keys[keys.length - 1];\n            if (typeof o !== 'object')\n                return false;\n            else\n                return key in o;\n        }\n        function setKey(obj, keys, value) {\n            let o = obj;\n            if (!configuration['dot-notation'])\n                keys = [keys.join('.')];\n            keys.slice(0, -1).forEach(function (key) {\n                // TODO(bcoe): in the next major version of yargs, switch to\n                // Object.create(null) for dot notation:\n                key = sanitizeKey(key);\n                if (typeof o === 'object' && o[key] === undefined) {\n                    o[key] = {};\n                }\n                if (typeof o[key] !== 'object' || Array.isArray(o[key])) {\n                    // ensure that o[key] is an array, and that the last item is an empty object.\n                    if (Array.isArray(o[key])) {\n                        o[key].push({});\n                    }\n                    else {\n                        o[key] = [o[key], {}];\n                    }\n                    // we want to update the empty object at the end of the o[key] array, so set o to that object\n                    o = o[key][o[key].length - 1];\n                }\n                else {\n                    o = o[key];\n                }\n            });\n            // TODO(bcoe): in the next major version of yargs, switch to\n            // Object.create(null) for dot notation:\n            const key = sanitizeKey(keys[keys.length - 1]);\n            const isTypeArray = checkAllAliases(keys.join('.'), flags.arrays);\n            const isValueArray = Array.isArray(value);\n            let duplicate = configuration['duplicate-arguments-array'];\n            // nargs has higher priority than duplicate\n            if (!duplicate && checkAllAliases(key, flags.nargs)) {\n                duplicate = true;\n                if ((!isUndefined(o[key]) && flags.nargs[key] === 1) || (Array.isArray(o[key]) && o[key].length === flags.nargs[key])) {\n                    o[key] = undefined;\n                }\n            }\n            if (value === increment()) {\n                o[key] = increment(o[key]);\n            }\n            else if (Array.isArray(o[key])) {\n                if (duplicate && isTypeArray && isValueArray) {\n                    o[key] = configuration['flatten-duplicate-arrays'] ? o[key].concat(value) : (Array.isArray(o[key][0]) ? o[key] : [o[key]]).concat([value]);\n                }\n                else if (!duplicate && Boolean(isTypeArray) === Boolean(isValueArray)) {\n                    o[key] = value;\n                }\n                else {\n                    o[key] = o[key].concat([value]);\n                }\n            }\n            else if (o[key] === undefined && isTypeArray) {\n                o[key] = isValueArray ? value : [value];\n            }\n            else if (duplicate && !(o[key] === undefined ||\n                checkAllAliases(key, flags.counts) ||\n                checkAllAliases(key, flags.bools))) {\n                o[key] = [o[key], value];\n            }\n            else {\n                o[key] = value;\n            }\n        }\n        // extend the aliases list with inferred aliases.\n        function extendAliases(...args) {\n            args.forEach(function (obj) {\n                Object.keys(obj || {}).forEach(function (key) {\n                    // short-circuit if we've already added a key\n                    // to the aliases array, for example it might\n                    // exist in both 'opts.default' and 'opts.key'.\n                    if (flags.aliases[key])\n                        return;\n                    flags.aliases[key] = [].concat(aliases[key] || []);\n                    // For \"--option-name\", also set argv.optionName\n                    flags.aliases[key].concat(key).forEach(function (x) {\n                        if (/-/.test(x) && configuration['camel-case-expansion']) {\n                            const c = camelCase(x);\n                            if (c !== key && flags.aliases[key].indexOf(c) === -1) {\n                                flags.aliases[key].push(c);\n                                newAliases[c] = true;\n                            }\n                        }\n                    });\n                    // For \"--optionName\", also set argv['option-name']\n                    flags.aliases[key].concat(key).forEach(function (x) {\n                        if (x.length > 1 && /[A-Z]/.test(x) && configuration['camel-case-expansion']) {\n                            const c = decamelize(x, '-');\n                            if (c !== key && flags.aliases[key].indexOf(c) === -1) {\n                                flags.aliases[key].push(c);\n                                newAliases[c] = true;\n                            }\n                        }\n                    });\n                    flags.aliases[key].forEach(function (x) {\n                        flags.aliases[x] = [key].concat(flags.aliases[key].filter(function (y) {\n                            return x !== y;\n                        }));\n                    });\n                });\n            });\n        }\n        function checkAllAliases(key, flag) {\n            const toCheck = [].concat(flags.aliases[key] || [], key);\n            const keys = Object.keys(flag);\n            const setAlias = toCheck.find(key => keys.includes(key));\n            return setAlias ? flag[setAlias] : false;\n        }\n        function hasAnyFlag(key) {\n            const flagsKeys = Object.keys(flags);\n            const toCheck = [].concat(flagsKeys.map(k => flags[k]));\n            return toCheck.some(function (flag) {\n                return Array.isArray(flag) ? flag.includes(key) : flag[key];\n            });\n        }\n        function hasFlagsMatching(arg, ...patterns) {\n            const toCheck = [].concat(...patterns);\n            return toCheck.some(function (pattern) {\n                const match = arg.match(pattern);\n                return match && hasAnyFlag(match[1]);\n            });\n        }\n        // based on a simplified version of the short flag group parsing logic\n        function hasAllShortFlags(arg) {\n            // if this is a negative number, or doesn't start with a single hyphen, it's not a short flag group\n            if (arg.match(negative) || !arg.match(/^-[^-]+/)) {\n                return false;\n            }\n            let hasAllFlags = true;\n            let next;\n            const letters = arg.slice(1).split('');\n            for (let j = 0; j < letters.length; j++) {\n                next = arg.slice(j + 2);\n                if (!hasAnyFlag(letters[j])) {\n                    hasAllFlags = false;\n                    break;\n                }\n                if ((letters[j + 1] && letters[j + 1] === '=') ||\n                    next === '-' ||\n                    (/[A-Za-z]/.test(letters[j]) && /^-?\\d+(\\.\\d*)?(e-?\\d+)?$/.test(next)) ||\n                    (letters[j + 1] && letters[j + 1].match(/\\W/))) {\n                    break;\n                }\n            }\n            return hasAllFlags;\n        }\n        function isUnknownOptionAsArg(arg) {\n            return configuration['unknown-options-as-args'] && isUnknownOption(arg);\n        }\n        function isUnknownOption(arg) {\n            arg = arg.replace(/^-{3,}/, '--');\n            // ignore negative numbers\n            if (arg.match(negative)) {\n                return false;\n            }\n            // if this is a short option group and all of them are configured, it isn't unknown\n            if (hasAllShortFlags(arg)) {\n                return false;\n            }\n            // e.g. '--count=2'\n            const flagWithEquals = /^-+([^=]+?)=[\\s\\S]*$/;\n            // e.g. '-a' or '--arg'\n            const normalFlag = /^-+([^=]+?)$/;\n            // e.g. '-a-'\n            const flagEndingInHyphen = /^-+([^=]+?)-$/;\n            // e.g. '-abc123'\n            const flagEndingInDigits = /^-+([^=]+?\\d+)$/;\n            // e.g. '-a/usr/local'\n            const flagEndingInNonWordCharacters = /^-+([^=]+?)\\W+.*$/;\n            // check the different types of flag styles, including negatedBoolean, a pattern defined near the start of the parse method\n            return !hasFlagsMatching(arg, flagWithEquals, negatedBoolean, normalFlag, flagEndingInHyphen, flagEndingInDigits, flagEndingInNonWordCharacters);\n        }\n        // make a best effort to pick a default value\n        // for an option based on name and type.\n        function defaultValue(key) {\n            if (!checkAllAliases(key, flags.bools) &&\n                !checkAllAliases(key, flags.counts) &&\n                `${key}` in defaults) {\n                return defaults[key];\n            }\n            else {\n                return defaultForType(guessType(key));\n            }\n        }\n        // return a default value, given the type of a flag.,\n        function defaultForType(type) {\n            const def = {\n                [DefaultValuesForTypeKey.BOOLEAN]: true,\n                [DefaultValuesForTypeKey.STRING]: '',\n                [DefaultValuesForTypeKey.NUMBER]: undefined,\n                [DefaultValuesForTypeKey.ARRAY]: []\n            };\n            return def[type];\n        }\n        // given a flag, enforce a default type.\n        function guessType(key) {\n            let type = DefaultValuesForTypeKey.BOOLEAN;\n            if (checkAllAliases(key, flags.strings))\n                type = DefaultValuesForTypeKey.STRING;\n            else if (checkAllAliases(key, flags.numbers))\n                type = DefaultValuesForTypeKey.NUMBER;\n            else if (checkAllAliases(key, flags.bools))\n                type = DefaultValuesForTypeKey.BOOLEAN;\n            else if (checkAllAliases(key, flags.arrays))\n                type = DefaultValuesForTypeKey.ARRAY;\n            return type;\n        }\n        function isUndefined(num) {\n            return num === undefined;\n        }\n        // check user configuration settings for inconsistencies\n        function checkConfiguration() {\n            // count keys should not be set as array/narg\n            Object.keys(flags.counts).find(key => {\n                if (checkAllAliases(key, flags.arrays)) {\n                    error = Error(__('Invalid configuration: %s, opts.count excludes opts.array.', key));\n                    return true;\n                }\n                else if (checkAllAliases(key, flags.nargs)) {\n                    error = Error(__('Invalid configuration: %s, opts.count excludes opts.narg.', key));\n                    return true;\n                }\n                return false;\n            });\n        }\n        return {\n            aliases: Object.assign({}, flags.aliases),\n            argv: Object.assign(argvReturn, argv),\n            configuration: configuration,\n            defaulted: Object.assign({}, defaulted),\n            error: error,\n            newAliases: Object.assign({}, newAliases)\n        };\n    }\n}\n// if any aliases reference each other, we should\n// merge them together.\nfunction combineAliases(aliases) {\n    const aliasArrays = [];\n    const combined = Object.create(null);\n    let change = true;\n    // turn alias lookup hash {key: ['alias1', 'alias2']} into\n    // a simple array ['key', 'alias1', 'alias2']\n    Object.keys(aliases).forEach(function (key) {\n        aliasArrays.push([].concat(aliases[key], key));\n    });\n    // combine arrays until zero changes are\n    // made in an iteration.\n    while (change) {\n        change = false;\n        for (let i = 0; i < aliasArrays.length; i++) {\n            for (let ii = i + 1; ii < aliasArrays.length; ii++) {\n                const intersect = aliasArrays[i].filter(function (v) {\n                    return aliasArrays[ii].indexOf(v) !== -1;\n                });\n                if (intersect.length) {\n                    aliasArrays[i] = aliasArrays[i].concat(aliasArrays[ii]);\n                    aliasArrays.splice(ii, 1);\n                    change = true;\n                    break;\n                }\n            }\n        }\n    }\n    // map arrays back to the hash-lookup (de-dupe while\n    // we're at it).\n    aliasArrays.forEach(function (aliasArray) {\n        aliasArray = aliasArray.filter(function (v, i, self) {\n            return self.indexOf(v) === i;\n        });\n        const lastAlias = aliasArray.pop();\n        if (lastAlias !== undefined && typeof lastAlias === 'string') {\n            combined[lastAlias] = aliasArray;\n        }\n    });\n    return combined;\n}\n// this function should only be called when a count is given as an arg\n// it is NOT called to set a default value\n// thus we can start the count at 1 instead of 0\nfunction increment(orig) {\n    return orig !== undefined ? orig + 1 : 1;\n}\n// TODO(bcoe): in the next major version of yargs, switch to\n// Object.create(null) for dot notation:\nfunction sanitizeKey(key) {\n    if (key === '__proto__')\n        return '___proto___';\n    return key;\n}\nfunction stripQuotes(val) {\n    return (typeof val === 'string' &&\n        (val[0] === \"'\" || val[0] === '\"') &&\n        val[val.length - 1] === val[0])\n        ? val.substring(1, val.length - 1)\n        : val;\n}\n","// Main entrypoint for ESM web browser environments. Avoids using Node.js\n// specific libraries, such as \"path\".\n//\n// TODO: figure out reasonable web equivalents for \"resolve\", \"normalize\", etc.\nimport { camelCase, decamelize, looksLikeNumber } from './build/lib/string-utils.js'\nimport { YargsParser } from './build/lib/yargs-parser.js'\nconst parser = new YargsParser({\n  cwd: () => { return '' },\n  format: (str, arg) => { return str.replace('%s', arg) },\n  normalize: (str) => { return str },\n  resolve: (str) => { return str },\n  require: () => {\n    throw Error('loading config from files not currently supported in browser')\n  },\n  env: () => {}\n})\n\nconst yargsParser = function Parser (args, opts) {\n  const result = parser.parse(args.slice(), opts)\n  return result.argv\n}\nyargsParser.detailed = function (args, opts) {\n  return parser.parse(args.slice(), opts)\n}\nyargsParser.camelCase = camelCase\nyargsParser.decamelize = decamelize\nyargsParser.looksLikeNumber = looksLikeNumber\n\nexport default yargsParser\n","import { HoppRESTAuth } from \"@hoppscotch/data\"\nimport parser from \"yargs-parser\"\nimport * as O from \"fp-ts/Option\"\nimport * as S from \"fp-ts/string\"\nimport { pipe } from \"fp-ts/function\"\nimport { getDefaultRESTRequest } from \"~/helpers/rest/default\"\nimport { objHasProperty } from \"~/helpers/functional/object\"\n\nconst defaultRESTReq = getDefaultRESTRequest()\n\nconst getAuthFromAuthHeader = (headers: Record<string, string>) =>\n  pipe(\n    headers.Authorization,\n    O.fromNullable,\n    O.map((a) => a.split(\" \")),\n    O.filter((a) => a.length > 1),\n    O.chain((kv) =>\n      O.fromNullable(\n        (() => {\n          switch (kv[0].toLowerCase()) {\n            case \"bearer\":\n              return <HoppRESTAuth>{\n                authActive: true,\n                authType: \"bearer\",\n                token: kv[1],\n              }\n            case \"basic\": {\n              const [username, password] = pipe(\n                O.tryCatch(() => atob(kv[1])),\n                O.map(S.split(\":\")),\n                // can have a username with no password\n                O.filter((arr) => arr.length > 0),\n                O.map(\n                  ([username, password]) =>\n                    <[string, string]>[username, password]\n                ),\n                O.getOrElse(() => [\"\", \"\"])\n              )\n\n              if (!username) return undefined\n\n              return <HoppRESTAuth>{\n                authActive: true,\n                authType: \"basic\",\n                username,\n                password: password ?? \"\",\n              }\n            }\n            default:\n              return undefined\n          }\n        })()\n      )\n    )\n  )\n\nconst getAuthFromParsedArgs = (parsedArguments: parser.Arguments) =>\n  pipe(\n    parsedArguments,\n    O.fromPredicate(objHasProperty(\"u\", \"string\")),\n    O.chain((args) =>\n      pipe(\n        args.u,\n        S.split(\":\"),\n        // can have a username with no password\n        O.fromPredicate((arr) => arr.length > 0 && arr[0].length > 0),\n        O.map(\n          ([username, password]) => <[string, string]>[username, password ?? \"\"]\n        )\n      )\n    ),\n    O.map(\n      ([username, password]) =>\n        <HoppRESTAuth>{\n          authActive: true,\n          authType: \"basic\",\n          username,\n          password,\n        }\n    )\n  )\n\nconst getAuthFromURLObject = (urlObject: URL) =>\n  pipe(\n    urlObject,\n    (url) => [url.username, url.password ?? \"\"],\n    // can have a username with no password\n    O.fromPredicate(([username]) => !!username && username.length > 0),\n    O.map(\n      ([username, password]) =>\n        <HoppRESTAuth>{\n          authActive: true,\n          authType: \"basic\",\n          username,\n          password,\n        }\n    )\n  )\n\n/**\n * Preference order:\n *    - Auth headers\n *    - --user or -u argument\n *    - Creds provided along with URL\n */\nexport const getAuthObject = (\n  parsedArguments: parser.Arguments,\n  headers: Record<string, string>,\n  urlObject: URL\n): HoppRESTAuth =>\n  pipe(\n    getAuthFromAuthHeader(headers),\n    O.alt(() => getAuthFromParsedArgs(parsedArguments)),\n    O.alt(() => getAuthFromURLObject(urlObject)),\n    O.getOrElse(() => defaultRESTReq.auth)\n  )\n","import parser from \"yargs-parser\"\nimport { pipe, flow } from \"fp-ts/function\"\nimport { HoppRESTHeader } from \"@hoppscotch/data\"\nimport * as A from \"fp-ts/Array\"\nimport * as S from \"fp-ts/string\"\nimport * as O from \"fp-ts/Option\"\nimport { tupleToRecord } from \"~/helpers/functional/record\"\nimport {\n  objHasProperty,\n  objHasArrayProperty,\n} from \"~/helpers/functional/object\"\n\nconst getHeaderPair = flow(\n  S.split(\": \"),\n  // must have a key and a value\n  O.fromPredicate((arr) => arr.length === 2),\n  O.map(([k, v]) => [k.trim(), v?.trim() ?? \"\"] as [string, string])\n)\n\nexport function getHeaders(parsedArguments: parser.Arguments) {\n  let headers: Record<string, string> = {}\n\n  headers = pipe(\n    parsedArguments,\n    // make it an array if not already\n    O.fromPredicate(objHasProperty(\"H\", \"string\")),\n    O.map((args) => [args.H]),\n    O.alt(() =>\n      pipe(\n        parsedArguments,\n        O.fromPredicate(objHasArrayProperty(\"H\", \"string\")),\n        O.map((args) => args.H)\n      )\n    ),\n    O.map(\n      flow(\n        A.map(getHeaderPair),\n        A.filterMap((a) => a),\n        tupleToRecord\n      )\n    ),\n    O.getOrElseW(() => ({}))\n  )\n\n  if (\n    objHasProperty(\"A\", \"string\")(parsedArguments) ||\n    objHasProperty(\"user-agent\", \"string\")(parsedArguments)\n  )\n    headers[\"User-Agent\"] = parsedArguments.A ?? parsedArguments[\"user-agent\"]\n\n  const rawContentType =\n    headers[\"Content-Type\"] ?? headers[\"content-type\"] ?? \"\"\n\n  return {\n    headers,\n    rawContentType,\n  }\n}\n\nexport const recordToHoppHeaders = (\n  headers: Record<string, string>\n): HoppRESTHeader[] =>\n  pipe(\n    Object.keys(headers),\n    A.map((key) => ({\n      key,\n      value: headers[key],\n      active: true,\n    })),\n    A.filter(\n      (header) =>\n        header.key !== \"Authorization\" &&\n        header.key !== \"content-type\" &&\n        header.key !== \"Content-Type\"\n    )\n  )\n","import { pipe, flow } from \"fp-ts/function\"\nimport * as O from \"fp-ts/Option\"\nimport * as A from \"fp-ts/Array\"\nimport * as Sep from \"fp-ts/Separated\"\nimport { HoppRESTParam } from \"@hoppscotch/data\"\n\nconst isDangling = ([, value]: [string, string]) => !value\n\n/**\n * Converts queries to HoppRESTParam format and separates dangling ones\n * @param params Array of key value pairs of queries\n * @returns Object containing separated queries and dangling queries\n */\nexport function getQueries(params: Array<[string, string]>): {\n  queries: Array<HoppRESTParam>\n  danglingParams: Array<string>\n} {\n  return pipe(\n    params,\n    O.of,\n    O.map(\n      flow(\n        A.partition(isDangling),\n        Sep.bimap(\n          A.map(([key, value]) => ({\n            key,\n            value,\n            active: true,\n          })),\n          A.map(([key]) => key)\n        ),\n        (sep) => ({\n          queries: sep.left,\n          danglingParams: sep.right,\n        })\n      )\n    ),\n    O.getOrElseW(() => ({\n      queries: [],\n      danglingParams: [],\n    }))\n  )\n}\n","import * as _ from './internal';\n// -------------------------------------------------------------------------------------\n// constructors\n// -------------------------------------------------------------------------------------\n/**\n * Returns a `Refinement` from a `Option` returning function.\n * This function ensures that a `Refinement` definition is type-safe.\n *\n * @category lifting\n * @since 2.11.0\n */\nexport var fromOptionK = function (getOption) {\n    return function (a) { return _.isSome(getOption(a)); };\n};\n/**\n * @category lifting\n * @since 2.11.0\n */\nexport var fromEitherK = function (getEither) {\n    return function (a) { return _.isRight(getEither(a)); };\n};\n/**\n * @category constructors\n * @since 2.11.0\n */\nexport var id = function () {\n    return function (_) { return true; };\n};\n// -------------------------------------------------------------------------------------\n// combinators\n// -------------------------------------------------------------------------------------\n/**\n * @since 2.11.0\n */\nexport var not = function (refinement) {\n    return function (a) {\n        return !refinement(a);\n    };\n};\n/**\n * @since 2.11.0\n */\nexport var or = function (second) {\n    return function (first) {\n        return function (a) {\n            return first(a) || second(a);\n        };\n    };\n};\n/**\n * @since 2.11.0\n */\nexport var and = function (second) {\n    return function (first) {\n        return function (a) {\n            return first(a) && second(a);\n        };\n    };\n};\n/**\n * @since 2.11.0\n */\nexport var zero = function () {\n    return function (_) { return false; };\n};\n/**\n * @since 2.11.0\n */\nexport var compose = function (bc) {\n    return function (ab) {\n        return function (i) { return ab(i) && bc(i); };\n    };\n};\n","import parser from \"yargs-parser\"\nimport { pipe } from \"fp-ts/function\"\nimport * as O from \"fp-ts/Option\"\nimport * as R from \"fp-ts/Refinement\"\nimport { getDefaultRESTRequest } from \"~/helpers/rest/default\"\nimport {\n  objHasProperty,\n  objHasArrayProperty,\n} from \"~/helpers/functional/object\"\n\nconst defaultRESTReq = getDefaultRESTRequest()\n\nconst getMethodFromXArg = (parsedArguments: parser.Arguments) =>\n  pipe(\n    parsedArguments,\n    O.fromPredicate(objHasProperty(\"X\", \"string\")),\n    O.map((args) => args.X.trim()),\n    O.chain((xarg) =>\n      pipe(\n        O.fromNullable(\n          xarg.match(/GET|POST|PUT|PATCH|DELETE|HEAD|CONNECT|OPTIONS|TRACE/i)\n        ),\n        O.alt(() => O.fromNullable(xarg.match(/[a-zA-Z]+/)))\n      )\n    ),\n    O.map((method) => method[0])\n  )\n\nconst getMethodByDeduction = (parsedArguments: parser.Arguments) => {\n  if (\n    pipe(\n      objHasProperty(\"T\", \"string\"),\n      R.or(objHasProperty(\"upload-file\", \"string\"))\n    )(parsedArguments)\n  )\n    return O.some(\"put\")\n  else if (\n    pipe(\n      objHasProperty(\"I\", \"boolean\"),\n      R.or(objHasProperty(\"head\", \"boolean\"))\n    )(parsedArguments)\n  )\n    return O.some(\"head\")\n  else if (objHasProperty(\"G\", \"boolean\")(parsedArguments)) return O.some(\"get\")\n  else if (\n    pipe(\n      objHasProperty(\"d\", \"string\"),\n      R.or(objHasArrayProperty(\"d\", \"string\")),\n      R.or(objHasProperty(\"F\", \"string\")),\n      R.or(objHasArrayProperty(\"F\", \"string\"))\n    )(parsedArguments)\n  )\n    return O.some(\"POST\")\n  return O.none\n}\n\n/**\n * Get method type from X argument in curl string or\n * find it out through other arguments\n * @param parsedArguments Parsed Arguments object\n * @returns Method string\n */\nexport const getMethod = (parsedArguments: parser.Arguments): string =>\n  pipe(\n    getMethodFromXArg(parsedArguments),\n    O.alt(() => getMethodByDeduction(parsedArguments)),\n    O.getOrElse(() => defaultRESTReq.method)\n  )\n","import parser from \"yargs-parser\"\nimport { pipe } from \"fp-ts/function\"\nimport * as O from \"fp-ts/Option\"\nimport * as A from \"fp-ts/Array\"\nimport { getDefaultRESTRequest } from \"~/helpers/rest/default\"\nimport { stringArrayJoin } from \"~/helpers/functional/array\"\n\nconst defaultRESTReq = getDefaultRESTRequest()\n\nconst getProtocolFromURL = (url: string) =>\n  pipe(\n    // get the base URL\n    /^([^\\s:@]+:[^\\s:@]+@)?([^:/\\s]+)([:]*)/.exec(url),\n    O.fromNullable,\n    O.filter((burl) => burl.length > 1),\n    O.map((burl) => burl[2]),\n    // set protocol to http for local URLs\n    O.map((burl) =>\n      burl === \"localhost\" ||\n      burl === \"2130706433\" ||\n      /127(\\.0){0,2}\\.1/.test(burl) ||\n      /0177(\\.0){0,2}\\.1/.test(burl) ||\n      /0x7f(\\.0){0,2}\\.1/.test(burl) ||\n      /192\\.168(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){2}/.test(burl) ||\n      /10(\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/.test(burl)\n        ? \"http://\" + url\n        : \"https://\" + url\n    )\n  )\n\n/**\n * Checks if the URL is valid using the URL constructor\n * @param urlString URL string (with protocol)\n * @returns boolean whether the URL is valid using the inbuilt URL class\n */\nconst isURLValid = (urlString: string) =>\n  pipe(\n    O.tryCatch(() => new URL(urlString)),\n    O.isSome\n  )\n\n/**\n * Checks and returns URL object for the valid URL\n * @param urlText Raw URL string provided by argument parser\n * @returns Option of URL object\n */\nconst parseURL = (urlText: string | number) =>\n  pipe(\n    urlText,\n    O.fromNullable,\n    // preprocess url string\n    O.map((u) =>\n      u\n        .toString()\n        .replace(/^'|'$/g, \"\")\n        .replaceAll(/[^a-zA-Z0-9_\\-./?&=:@%+#,;()'\\s]/g, \"\")\n    ),\n    O.filter((u) => u.length > 0),\n    O.chain((u) =>\n      pipe(\n        u,\n        // check if protocol is available\n        O.fromPredicate(\n          (url: string) => /^[^:\\s]+(?=:\\/\\/)/.exec(url) !== null\n        ),\n        O.alt(() => getProtocolFromURL(u))\n      )\n    ),\n    O.filter(isURLValid),\n    O.map((u) => new URL(u))\n  )\n\n/**\n * Processes URL string and returns the URL object\n * @param parsedArguments Parsed Arguments object\n * @returns URL object\n */\nexport function getURLObject(parsedArguments: parser.Arguments) {\n  const location = parsedArguments.location ?? undefined\n\n  return pipe(\n    // contains raw url strings\n    [...parsedArguments._.slice(1), location],\n    A.findFirstMap(parseURL),\n    // no url found\n    O.getOrElse(() => new URL(defaultRESTReq.endpoint))\n  )\n}\n\n/**\n * Joins dangling params to origin\n * @param urlObject URL object containing origin and pathname\n * @param danglingParams Keys of params with empty values\n * @returns origin string concatenated with dangling paramas\n */\nexport function concatParams(urlObject: URL, danglingParams: string[]) {\n  return pipe(\n    O.Do,\n\n    O.bind(\"originString\", () =>\n      pipe(\n        urlObject.origin,\n        O.fromPredicate((h) => h !== \"\")\n      )\n    ),\n\n    O.map(({ originString }) =>\n      pipe(\n        danglingParams,\n        O.fromPredicate((dp) => dp.length > 0),\n        O.map(stringArrayJoin(\"&\")),\n        O.map((h) => originString + (urlObject.pathname || \"\") + \"?\" + h),\n        O.getOrElse(() => originString + (urlObject.pathname || \"\"))\n      )\n    ),\n\n    O.getOrElse(() => defaultRESTReq.endpoint)\n  )\n}\n","import { pipe, flow } from \"fp-ts/function\"\nimport * as S from \"fp-ts/string\"\nimport * as O from \"fp-ts/Option\"\nimport * as A from \"fp-ts/Array\"\n\nconst replaceables: { [key: string]: string } = {\n  \"--request\": \"-X\",\n  \"--header\": \"-H\",\n  \"--url\": \"\",\n  \"--form\": \"-F\",\n  \"--data-raw\": \"--data\",\n  \"--data\": \"-d\",\n  \"--data-ascii\": \"-d\",\n  \"--data-binary\": \"-d\",\n  \"--user\": \"-u\",\n  \"--get\": \"-G\",\n}\n\nconst paperCuts = flow(\n  // remove '\\' and newlines\n  S.replace(/ ?\\\\ ?$/gm, \" \"),\n  S.replace(/\\n/g, \" \"),\n  // remove all $ symbols from start of argument values\n  S.replace(/\\$'/g, \"'\"),\n  S.replace(/\\$\"/g, '\"'),\n  S.trim\n)\n\n// replace --zargs option with -Z\nconst replaceLongOptions = (curlCmd: string) =>\n  pipe(Object.keys(replaceables), A.reduce(curlCmd, replaceFunction))\n\nconst replaceFunction = (curlCmd: string, r: string) =>\n  pipe(\n    curlCmd,\n    O.fromPredicate(\n      () => r.includes(\"data\") || r.includes(\"form\") || r.includes(\"header\")\n    ),\n    O.map(S.replace(RegExp(`[ \\t]${r}([\"' ])`, \"g\"), ` ${replaceables[r]}$1`)),\n    O.alt(() =>\n      pipe(\n        curlCmd,\n        S.replace(RegExp(`[ \\t]${r}([\"' ])`), ` ${replaceables[r]}$1`),\n        O.of\n      )\n    ),\n    O.getOrElse(() => \"\")\n  )\n\n// yargs parses -XPOST as separate arguments. just prescreen for it.\nconst prescreenXArgs = flow(\n  S.replace(\n    / -X(GET|POST|PUT|PATCH|DELETE|HEAD|CONNECT|OPTIONS|TRACE)/,\n    \" -X $1\"\n  ),\n  S.trim\n)\n\n/**\n * Sanitizes and makes curl string processable\n * @param curlCommand Raw curl command string\n * @returns Processed curl command string\n */\nexport const preProcessCurlCommand = (curlCommand: string) =>\n  pipe(\n    curlCommand,\n    O.fromPredicate((curlCmd) => curlCmd.length > 0),\n    O.map(flow(paperCuts, replaceLongOptions, prescreenXArgs)),\n    O.getOrElse(() => \"\")\n  )\n","import * as O from \"fp-ts/Option\"\nimport * as A from \"fp-ts/Array\"\nimport { pipe } from \"fp-ts/function\"\n\n/**\n * Tries to match one of the given predicates.\n * If a predicate is matched, the associated value is returned in a Some.\n * Else if none of the predicates is matched, None is returned.\n * @param choice An array of tuples having a predicate function and the selected value\n * @returns A function which takes the input and returns an Option\n */\nexport const optionChoose =\n  <T, V>(choice: Array<[(x: T) => boolean, V]>) =>\n  (input: T): O.Option<V> =>\n    pipe(\n      choice,\n      A.findFirst(([pred]) => pred(input)),\n      O.map(([, value]) => value)\n    )\n","import { HoppRESTReqBody } from \"@hoppscotch/data\"\nimport * as O from \"fp-ts/Option\"\nimport * as RA from \"fp-ts/ReadonlyArray\"\nimport * as S from \"fp-ts/string\"\nimport { pipe, flow } from \"fp-ts/function\"\nimport { tupleToRecord } from \"~/helpers/functional/record\"\nimport { safeParseJSON } from \"~/helpers/functional/json\"\nimport { optionChoose } from \"~/helpers/functional/option\"\nimport xmlFormat from \"xml-formatter\"\n\nconst isJSON = flow(safeParseJSON, O.isSome)\n\nconst isXML = (rawData: string) =>\n  pipe(\n    rawData,\n    O.fromPredicate(() => /<\\/?[a-zA-Z][\\s\\S]*>/i.test(rawData)),\n    O.chain(prettifyXml),\n    O.isSome\n  )\n\nconst isHTML = (rawData: string) =>\n  pipe(\n    rawData,\n    O.fromPredicate(() => /<\\/?[a-zA-Z][\\s\\S]*>/i.test(rawData)),\n    O.isSome\n  )\n\nconst isFormData = (rawData: string) =>\n  pipe(\n    rawData.match(/^-{2,}[A-Za-z0-9]+\\\\r\\\\n/),\n    O.fromNullable,\n    O.filter((boundaryMatch) => boundaryMatch.length > 0),\n    O.isSome\n  )\n\nconst isXWWWFormUrlEncoded = (rawData: string) =>\n  pipe(\n    rawData,\n    O.fromPredicate((rd) => /([^&=]+)=([^&=]*)/.test(rd)),\n    O.isSome\n  )\n\n/**\n * Detects the content type of the input string\n * @param rawData String for which content type is to be detected\n * @returns Content type of the data\n */\nexport const detectContentType = (\n  rawData: string\n): HoppRESTReqBody[\"contentType\"] =>\n  pipe(\n    rawData,\n    optionChoose([\n      [(rd) => !rd, null],\n      [isJSON, \"application/json\" as const],\n      [isFormData, \"multipart/form-data\" as const],\n      [isXML, \"application/xml\" as const],\n      [isHTML, \"text/html\" as const],\n      [isXWWWFormUrlEncoded, \"application/x-www-form-urlencoded\" as const],\n    ]),\n    O.getOrElseW(() => \"text/plain\" as const)\n  )\n\nconst multipartFunctions = {\n  getBoundary(rawData: string, rawContentType: string | undefined) {\n    return pipe(\n      rawContentType,\n      O.fromNullable,\n      O.filter((rct) => rct.length > 0),\n      O.match(\n        () => this.getBoundaryFromRawData(rawData),\n        (rct) => this.getBoundaryFromRawContentType(rawData, rct)\n      )\n    )\n  },\n\n  getBoundaryFromRawData(rawData: string) {\n    return pipe(\n      rawData.match(/(-{2,}[A-Za-z0-9]+)\\\\r\\\\n/g),\n      O.fromNullable,\n      O.filter((boundaryMatch) => boundaryMatch.length > 0),\n      O.map((matches) => matches[0].slice(0, -4))\n    )\n  },\n\n  getBoundaryFromRawContentType(rawData: string, rawContentType: string) {\n    return pipe(\n      rawContentType.match(/boundary=(.+)/),\n      O.fromNullable,\n      O.filter((boundaryContentMatch) => boundaryContentMatch.length > 1),\n      O.filter((matches) =>\n        rawData.replaceAll(\"\\\\r\\\\n\", \"\").endsWith(\"--\" + matches[1] + \"--\")\n      ),\n      O.map((matches) => \"--\" + matches[1])\n    )\n  },\n\n  splitUsingBoundaryAndNewLines(rawData: string, boundary: string) {\n    return pipe(\n      rawData,\n      S.split(RegExp(`${boundary}-*`)),\n      RA.filter((p) => p !== \"\" && p.includes(\"name\")),\n      RA.map((p) =>\n        pipe(\n          p.replaceAll(/\\\\r\\\\n+/g, \"\\\\r\\\\n\"),\n          S.split(\"\\\\r\\\\n\"),\n          RA.filter((q) => q !== \"\")\n        )\n      )\n    )\n  },\n\n  getNameValuePair(pair: readonly string[]) {\n    return pipe(\n      pair,\n      O.fromPredicate((p) => p.length > 1),\n      O.chain((pair) => O.fromNullable(pair[0].match(/ name=\"(\\w+)\"/))),\n      O.filter((nameMatch) => nameMatch.length > 0),\n      O.chain((nameMatch) =>\n        pipe(\n          nameMatch[0],\n          S.replace(/\"/g, \"\"),\n          S.split(\"=\"),\n          O.fromPredicate((q) => q.length === 2),\n          O.map(\n            (nameArr) =>\n              [nameArr[1], pair[0].includes(\"filename\") ? \"\" : pair[1]] as [\n                string,\n                string,\n              ]\n          )\n        )\n      )\n    )\n  },\n}\n\nconst getFormDataBody = (rawData: string, rawContentType: string | undefined) =>\n  pipe(\n    multipartFunctions.getBoundary(rawData, rawContentType),\n    O.map((boundary) =>\n      pipe(\n        multipartFunctions.splitUsingBoundaryAndNewLines(rawData, boundary),\n        RA.filterMap((p) => multipartFunctions.getNameValuePair(p)),\n        RA.toArray\n      )\n    ),\n\n    O.filter((arr) => arr.length > 0),\n    O.map(tupleToRecord)\n  )\n\nconst getHTMLBody = flow(formatHTML, O.of)\n\nconst getXMLBody = (rawData: string) =>\n  pipe(\n    rawData,\n    prettifyXml,\n    O.alt(() => O.some(rawData))\n  )\n\nconst getFormattedJSON = flow(\n  safeParseJSON,\n  O.map((parsedJSON) => JSON.stringify(parsedJSON, null, 2)),\n  O.getOrElse(() => \"{ }\")\n)\n\nconst getXWWWFormUrlEncodedBody = flow(\n  decodeURIComponent,\n  (decoded) => decoded.match(/(([^&=]+)=?([^&=]*))/g),\n  O.fromNullable,\n  O.map((pairs) => pairs.map((p) => p.replace(\"=\", \": \")).join(\"\\n\"))\n)\n\n/**\n * Parses provided string according to the content type\n * @param rawData Data to be parsed\n * @param contentType Content type of the data\n * @param rawContentType Optional parameter required for multipart/form-data\n * @returns Option of parsed body as string or Record object for multipart/form-data\n */\nexport function parseBody(\n  rawData: string,\n  contentType: HoppRESTReqBody[\"contentType\"],\n  rawContentType?: string\n): O.Option<string | Record<string, string>> {\n  switch (contentType) {\n    case \"application/hal+json\":\n    case \"application/ld+json\":\n    case \"application/vnd.api+json\":\n    case \"application/json\":\n      return O.some(getFormattedJSON(rawData))\n\n    case \"application/x-www-form-urlencoded\":\n      return getXWWWFormUrlEncodedBody(rawData)\n\n    case \"multipart/form-data\":\n      return getFormDataBody(rawData, rawContentType)\n\n    case \"text/html\":\n      return getHTMLBody(rawData)\n\n    case \"application/xml\":\n      return getXMLBody(rawData)\n\n    case \"text/plain\":\n    default:\n      return O.some(rawData)\n  }\n}\n\n/**\n * Formatter Functions\n */\n\n/**\n * Prettifies XML string using xml-formatter\n * @param sourceXml The string to format\n * @returns Indented XML string (uses spaces)\n */\nfunction prettifyXml(sourceXml: string) {\n  return pipe(\n    O.tryCatch(() => {\n      return xmlFormat(sourceXml, {\n        indentation: \"  \",\n        collapseContent: true,\n        lineSeparator: \"\\n\",\n      })\n    })\n  )\n}\n\n/**\n * Prettifies HTML string\n * @param htmlString The string to format\n * @returns Indented HTML string (uses spaces)\n */\nfunction formatHTML(htmlString: string) {\n  const tab = \"  \"\n  let result = \"\"\n  let indent = \"\"\n  const emptyTags = [\n    \"area\",\n    \"base\",\n    \"br\",\n    \"col\",\n    \"embed\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n  ]\n\n  const spl = htmlString.split(/>\\s*</)\n  spl.forEach((element) => {\n    if (element.match(/^\\/\\w/)) {\n      indent = indent.substring(tab.length)\n    }\n\n    result += indent + \"<\" + element + \">\\n\"\n\n    if (\n      element.match(/^<?\\w[^>]*[^/]$/) &&\n      !emptyTags.includes(element.match(/^([a-z]*)/i)?.at(1) || \"\")\n    ) {\n      indent += tab\n    }\n  })\n\n  return result.substring(1, result.length - 2)\n}\n","import parser from \"yargs-parser\"\nimport { pipe, flow } from \"fp-ts/function\"\nimport * as O from \"fp-ts/Option\"\nimport * as A from \"fp-ts/Array\"\nimport * as RNEA from \"fp-ts/ReadonlyNonEmptyArray\"\nimport * as S from \"fp-ts/string\"\nimport {\n  HoppRESTReqBody,\n  HoppRESTReqBodyFormData,\n  ValidContentTypes,\n  knownContentTypes,\n} from \"@hoppscotch/data\"\nimport { detectContentType, parseBody } from \"./contentParser\"\nimport { tupleToRecord } from \"~/helpers/functional/record\"\nimport {\n  objHasProperty,\n  objHasArrayProperty,\n} from \"~/helpers/functional/object\"\n\ntype BodyReturnType =\n  | { type: \"FORMDATA\"; body: Record<string, string> }\n  | {\n      type: \"NON_FORMDATA\"\n      body: Exclude<HoppRESTReqBody, HoppRESTReqBodyFormData>\n    }\n\n/** Parses body based on the content type\n * @param rData Raw data\n * @param cType Sanitized content type\n * @returns Option of parsed body of type string | Record<string, string>\n */\nconst getBodyFromContentType =\n  (rData: string, cType: HoppRESTReqBody[\"contentType\"]) => (rct: string) =>\n    pipe(\n      cType,\n      O.fromPredicate((ctype) => ctype === \"multipart/form-data\"),\n      O.chain(() =>\n        pipe(\n          // pass rawContentType for boundary ascertion\n          parseBody(rData, cType, rct),\n          O.filter((parsedBody) => typeof parsedBody !== \"string\")\n        )\n      ),\n      O.alt(() =>\n        pipe(\n          parseBody(rData, cType),\n          O.filter(\n            (parsedBody) =>\n              typeof parsedBody === \"string\" && parsedBody.length > 0\n          )\n        )\n      )\n    )\n\nconst getContentTypeFromRawContentType = (rawContentType: string) =>\n  pipe(\n    rawContentType,\n    O.fromPredicate((rct) => rct.length > 0),\n    // get everything before semi-colon\n    O.map(flow(S.toLowerCase, S.split(\";\"), RNEA.head)),\n    // if rawContentType is valid, cast it to contentType type\n    O.filter((ct) => Object.keys(knownContentTypes).includes(ct)),\n    O.map((ct) => ct as HoppRESTReqBody[\"contentType\"])\n  )\n\nconst getContentTypeFromRawData = (rawData: string) =>\n  pipe(\n    rawData,\n    O.fromPredicate((rd) => rd.length > 0),\n    O.map(detectContentType)\n  )\n\nexport const getBody = (\n  rawData: string,\n  rawContentType: string,\n  contentType: HoppRESTReqBody[\"contentType\"]\n): O.Option<BodyReturnType> => {\n  return pipe(\n    O.Do,\n\n    O.bind(\"cType\", () =>\n      pipe(\n        // get provided content-type\n        contentType,\n        O.fromNullable,\n        // or figure it out\n        O.alt(() => getContentTypeFromRawContentType(rawContentType)),\n        O.alt(() => getContentTypeFromRawData(rawData))\n      )\n    ),\n\n    O.bind(\"rData\", () =>\n      pipe(\n        rawData,\n        O.fromPredicate(() => rawData.length > 0)\n      )\n    ),\n\n    O.bind(\"ctBody\", ({ cType, rData }) =>\n      pipe(rawContentType, getBodyFromContentType(rData, cType))\n    ),\n\n    O.map(({ cType, ctBody }) =>\n      typeof ctBody === \"string\"\n        ? {\n            type: \"NON_FORMDATA\",\n            body: {\n              body: ctBody,\n              contentType: cType as Exclude<\n                ValidContentTypes,\n                \"multipart/form-data\"\n              >,\n            },\n          }\n        : { type: \"FORMDATA\", body: ctBody }\n    )\n  )\n}\n\n/**\n * Parses and structures multipart/form-data from -F argument of curl command\n * @param parsedArguments Parsed Arguments object\n * @returns Option of Record<string, string> type containing key-value pairs of multipart/form-data\n */\nexport function getFArgumentMultipartData(\n  parsedArguments: parser.Arguments\n): O.Option<Record<string, string>> {\n  // --form or -F multipart data\n\n  return pipe(\n    parsedArguments,\n    // make it an array if not already\n    O.fromPredicate(objHasProperty(\"F\", \"string\")),\n    O.map((args) => [args.F]),\n    O.alt(() =>\n      pipe(\n        parsedArguments,\n        O.fromPredicate(objHasArrayProperty(\"F\", \"string\")),\n        O.map((args) => args.F)\n      )\n    ),\n    O.chain(\n      flow(\n        A.map(S.split(\"=\")),\n        // can only have a key and no value\n        O.fromPredicate((fArgs) => fArgs.length > 0),\n        O.map(\n          flow(\n            A.map(([k, v]) =>\n              pipe(\n                parsedArguments,\n                // form-string option allows for \"@\" and \"<\" prefixes\n                //   without them being considered as files\n                O.fromPredicate(objHasProperty(\"form-string\", \"boolean\")),\n                O.match(\n                  // leave the value field empty for files\n                  () => [k, v[0] === \"@\" || v[0] === \"<\" ? \"\" : v],\n                  () => [k, v]\n                )\n              )\n            ),\n            A.map(([k, v]) => [k, v] as [string, string]),\n            tupleToRecord\n          )\n        )\n      )\n    )\n  )\n}\n","/**\n * the direct import from yargs-parser uses fs which is a built in node module,\n * just adding the /browser import as a fix for now, which does not have type info on DefinitelyTyped.\n * remove/update this comment before merging the vue3 port.\n */\nimport parser from \"yargs-parser/browser\"\nimport * as O from \"fp-ts/Option\"\nimport * as A from \"fp-ts/Array\"\nimport { pipe, flow } from \"fp-ts/function\"\nimport {\n  FormDataKeyValue,\n  HoppRESTReqBody,\n  makeRESTRequest,\n} from \"@hoppscotch/data\"\nimport { getAuthObject } from \"./sub_helpers/auth\"\nimport { getHeaders, recordToHoppHeaders } from \"./sub_helpers/headers\"\n// import { getCookies } from \"./sub_helpers/cookies\"\nimport { getQueries } from \"./sub_helpers/queries\"\nimport { getMethod } from \"./sub_helpers/method\"\nimport { concatParams, getURLObject } from \"./sub_helpers/url\"\nimport { preProcessCurlCommand } from \"./sub_helpers/preproc\"\nimport { getBody, getFArgumentMultipartData } from \"./sub_helpers/body\"\nimport { getDefaultRESTRequest } from \"../rest/default\"\nimport {\n  objHasProperty,\n  objHasArrayProperty,\n} from \"~/helpers/functional/object\"\n\nconst defaultRESTReq = getDefaultRESTRequest()\n\nexport const parseCurlCommand = (curlCommand: string) => {\n  // const isDataBinary = curlCommand.includes(\" --data-binary\")\n  // const compressed = !!parsedArguments.compressed\n\n  curlCommand = preProcessCurlCommand(curlCommand)\n\n  const args: parser.Arguments = parser(curlCommand)\n\n  const parsedArguments = pipe(\n    args,\n    O.fromPredicate(\n      (args) =>\n        objHasProperty(\"dataUrlencode\", \"string\")(args) ||\n        objHasProperty(\"dataUrlencode\", \"object\")(args)\n    ),\n    O.map((args) => {\n      const urlEncodedData: string[] = Array.isArray(args.dataUrlencode)\n        ? args.dataUrlencode\n        : [args.dataUrlencode]\n\n      const data = A.map(decodeURIComponent)(urlEncodedData)\n\n      return { ...args, d: data }\n    }),\n    O.getOrElse(() => args)\n  )\n\n  const headerObject = getHeaders(parsedArguments)\n  const { headers } = headerObject\n  let { rawContentType } = headerObject\n  const hoppHeaders = pipe(\n    headers,\n    O.fromPredicate(() => Object.keys(headers).length > 0),\n    O.map(recordToHoppHeaders),\n    O.getOrElse(() => defaultRESTReq.headers)\n  )\n\n  const method = getMethod(parsedArguments)\n  // const cookies = getCookies(parsedArguments)\n  const urlObject = getURLObject(parsedArguments)\n  const auth = getAuthObject(parsedArguments, headers, urlObject)\n\n  let rawData: string | string[] = pipe(\n    parsedArguments,\n    O.fromPredicate(objHasArrayProperty(\"d\", \"string\")),\n    O.map((args) => args.d),\n    O.altW(() =>\n      pipe(\n        parsedArguments,\n        O.fromPredicate(objHasProperty(\"d\", \"string\")),\n        O.map((args) => args.d)\n      )\n    ),\n    O.getOrElseW(() => \"\")\n  )\n\n  let body: HoppRESTReqBody[\"body\"] = \"\"\n  let contentType: HoppRESTReqBody[\"contentType\"] =\n    defaultRESTReq.body.contentType\n  let hasBodyBeenParsed = false\n\n  let { queries, danglingParams } = getQueries(\n    Array.from(urlObject.searchParams.entries())\n  )\n\n  const stringToPair = flow(\n    decodeURIComponent,\n    (pair) => <[string, string]>pair.split(\"=\", 2)\n  )\n  const pairs = pipe(\n    rawData,\n    O.fromPredicate(Array.isArray),\n    O.map(A.map(stringToPair)),\n    O.alt(() =>\n      pipe(\n        rawData,\n        O.fromPredicate((s) => s.length > 0),\n        O.map(() => [stringToPair(rawData as string)])\n      )\n    ),\n    O.getOrElseW(() => undefined)\n  )\n\n  if (objHasProperty(\"G\", \"boolean\")(parsedArguments) && !!pairs) {\n    const newQueries = getQueries(pairs)\n    queries = [...queries, ...newQueries.queries]\n    danglingParams = [...danglingParams, ...newQueries.danglingParams]\n    hasBodyBeenParsed = true\n  } else if (\n    rawContentType.includes(\"application/x-www-form-urlencoded\") &&\n    !!pairs &&\n    Array.isArray(rawData)\n  ) {\n    body = pairs.map((p) => p.join(\": \")).join(\"\\n\") || null\n    contentType = \"application/x-www-form-urlencoded\"\n    hasBodyBeenParsed = true\n  }\n\n  const urlString = concatParams(urlObject, danglingParams)\n\n  let multipartUploads: Record<string, string> = pipe(\n    O.of(parsedArguments),\n    O.chain(getFArgumentMultipartData),\n    O.match(\n      () => ({}),\n      (args) => {\n        hasBodyBeenParsed = true\n        rawContentType = \"multipart/form-data\"\n        return args\n      }\n    )\n  )\n\n  if (!hasBodyBeenParsed) {\n    if (typeof rawData !== \"string\") {\n      rawData = rawData.join(\"\")\n    }\n    const bodyObject = getBody(rawData, rawContentType, contentType)\n\n    if (O.isSome(bodyObject)) {\n      const bodyObjectValue = bodyObject.value\n\n      if (bodyObjectValue.type === \"FORMDATA\") {\n        multipartUploads = bodyObjectValue.body\n      } else {\n        body = bodyObjectValue.body.body\n        contentType = bodyObjectValue.body\n          .contentType as HoppRESTReqBody[\"contentType\"]\n      }\n    }\n  }\n\n  const finalBody: HoppRESTReqBody = pipe(\n    body,\n    O.fromNullable,\n    O.filter((b) => b.length > 0),\n    O.map((b) => <HoppRESTReqBody>{ body: b, contentType }),\n    O.alt(() =>\n      pipe(\n        multipartUploads,\n        O.of,\n        O.map((m) => Object.entries(m)),\n        O.filter((m) => m.length > 0),\n        O.map(\n          flow(\n            A.map(\n              ([key, value]) =>\n                <FormDataKeyValue>{\n                  active: true,\n                  isFile: false,\n                  key,\n                  value,\n                }\n            ),\n            (b) =>\n              <HoppRESTReqBody>{ body: b, contentType: \"multipart/form-data\" }\n          )\n        )\n      )\n    ),\n    O.getOrElse(() => defaultRESTReq.body)\n  )\n\n  return makeRESTRequest({\n    name: defaultRESTReq.name,\n    endpoint: urlString,\n    method: (method || defaultRESTReq.method).toUpperCase(),\n    params: queries ?? defaultRESTReq.params,\n    headers: hoppHeaders,\n    preRequestScript: defaultRESTReq.preRequestScript,\n    testScript: defaultRESTReq.testScript,\n    auth,\n    body: finalBody,\n    requestVariables: defaultRESTReq.requestVariables,\n  })\n}\n","import { flow } from \"fp-ts/function\"\nimport { cloneDeep } from \"lodash-es\"\nimport { parseCurlCommand } from \"./curlparser\"\n\nexport const parseCurlToHoppRESTReq = flow(parseCurlCommand, cloneDeep)\n","<template>\n  <HoppSmartModal\n    v-if=\"show\"\n    dialog\n    :title=\"`${t('import.curl')}`\"\n    @close=\"hideModal\"\n  >\n    <template #body>\n      <div class=\"rounded border border-dividerLight\">\n        <div class=\"flex flex-col\">\n          <div class=\"flex items-center justify-between pl-4\">\n            <label class=\"truncate font-semibold text-secondaryLight\">\n              cURL\n            </label>\n            <div class=\"flex items-center\">\n              <HoppButtonSecondary\n                v-tippy=\"{ theme: 'tooltip' }\"\n                :title=\"t('action.clear_all')\"\n                :icon=\"IconTrash2\"\n                @click=\"clearContent()\"\n              />\n              <HoppButtonSecondary\n                v-tippy=\"{ theme: 'tooltip' }\"\n                :title=\"t('state.linewrap')\"\n                :class=\"{ '!text-accent': WRAP_LINES }\"\n                :icon=\"IconWrapText\"\n                @click.prevent=\"toggleNestedSetting('WRAP_LINES', 'importCurl')\"\n              />\n              <HoppButtonSecondary\n                v-tippy=\"{ theme: 'tooltip', allowHTML: true }\"\n                :title=\"t('action.download_file')\"\n                :icon=\"downloadIcon\"\n                @click=\"downloadResponse\"\n              />\n              <HoppButtonSecondary\n                v-tippy=\"{ theme: 'tooltip', allowHTML: true }\"\n                :title=\"t('action.copy')\"\n                :icon=\"copyIcon\"\n                @click=\"copyResponse\"\n              />\n            </div>\n          </div>\n          <div class=\"h-46\">\n            <div\n              ref=\"curlEditor\"\n              class=\"h-full rounded-b border-t border-dividerLight\"\n            ></div>\n          </div>\n        </div>\n      </div>\n    </template>\n    <template #footer>\n      <span class=\"flex space-x-2\">\n        <HoppButtonPrimary\n          ref=\"importButton\"\n          :label=\"`${t('import.title')}`\"\n          outline\n          @click=\"handleImport\"\n        />\n        <HoppButtonSecondary\n          :label=\"`${t('action.cancel')}`\"\n          outline\n          filled\n          @click=\"hideModal\"\n        />\n      </span>\n      <span class=\"flex\">\n        <HoppButtonSecondary\n          :icon=\"pasteIcon\"\n          :label=\"`${t('action.paste')}`\"\n          filled\n          outline\n          @click=\"handlePaste\"\n        />\n      </span>\n    </template>\n  </HoppSmartModal>\n</template>\n\n<script setup lang=\"ts\">\nimport { reactive, ref, watch } from \"vue\"\nimport { refAutoReset } from \"@vueuse/core\"\nimport { useCodemirror } from \"@composables/codemirror\"\nimport { useI18n } from \"@composables/i18n\"\nimport { useToast } from \"@composables/toast\"\nimport { parseCurlToHoppRESTReq } from \"~/helpers/curl\"\nimport {\n  useCopyResponse,\n  useDownloadResponse,\n} from \"~/composables/lens-actions\"\n\nimport IconWrapText from \"~icons/lucide/wrap-text\"\nimport IconClipboard from \"~icons/lucide/clipboard\"\nimport IconCheck from \"~icons/lucide/check\"\nimport IconTrash2 from \"~icons/lucide/trash-2\"\nimport { platform } from \"~/platform\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport { useService } from \"dioc/vue\"\nimport { useNestedSetting } from \"~/composables/settings\"\nimport { toggleNestedSetting } from \"~/newstore/settings\"\nimport { EditorView } from \"@codemirror/view\"\n\nconst t = useI18n()\n\nconst toast = useToast()\n\nconst tabs = useService(RESTTabService)\n\nconst curl = ref(\"\")\n\nconst curlEditor = ref<any | null>(null)\nconst WRAP_LINES = useNestedSetting(\"WRAP_LINES\", \"importCurl\")\n\nconst props = defineProps<{ show: boolean; text: string }>()\n\nuseCodemirror(\n  curlEditor,\n  curl,\n  reactive({\n    extendedEditorConfig: {\n      mode: \"application/x-sh\",\n      placeholder: `${t(\"request.enter_curl\")}`,\n      lineWrapping: WRAP_LINES,\n    },\n    linter: null,\n    completer: null,\n    environmentHighlights: false,\n    onInit: (view: EditorView) => view.focus(),\n  })\n)\n\nwatch(\n  () => props.show,\n  () => {\n    if (props.show) {\n      curl.value = props.text.toString()\n    }\n  },\n  { immediate: false }\n)\n\nconst emit = defineEmits<{\n  (e: \"hide-modal\"): void\n}>()\n\nconst hideModal = () => {\n  emit(\"hide-modal\")\n}\n\nconst handleImport = () => {\n  const text = curl.value\n  try {\n    const req = parseCurlToHoppRESTReq(text)\n\n    platform.analytics?.logEvent({\n      type: \"HOPP_REST_IMPORT_CURL\",\n    })\n\n    tabs.currentActiveTab.value.document.request = req\n  } catch (e) {\n    console.error(e)\n    toast.error(`${t(\"error.curl_invalid_format\")}`)\n  }\n  hideModal()\n}\n\nconst pasteIcon = refAutoReset<typeof IconClipboard | typeof IconCheck>(\n  IconClipboard,\n  1000\n)\n\nconst handlePaste = async () => {\n  try {\n    const text = await navigator.clipboard.readText()\n    if (text) {\n      curl.value = text\n      pasteIcon.value = IconCheck\n    }\n  } catch (e) {\n    console.error(\"Failed to copy: \", e)\n    toast.error(t(\"profile.no_permission\").toString())\n  }\n}\n\nconst { copyIcon, copyResponse } = useCopyResponse(curl)\nconst { downloadIcon, downloadResponse } = useDownloadResponse(\"\", curl)\n\nconst clearContent = () => {\n  curl.value = \"\"\n}\n</script>\n","<template>\n  <div\n    class=\"sticky top-0 z-20 flex-none flex-shrink-0 bg-primary p-4 sm:flex sm:flex-shrink-0 sm:space-x-2\"\n  >\n    <div\n      class=\"min-w-[12rem] flex flex-1 whitespace-nowrap rounded border border-divider\"\n    >\n      <div class=\"relative flex\">\n        <label for=\"method\">\n          <tippy\n            interactive\n            trigger=\"click\"\n            theme=\"popover\"\n            :on-shown=\"() => methodTippyActions.focus()\"\n          >\n            <HoppSmartSelectWrapper>\n              <input\n                id=\"method\"\n                class=\"flex w-26 cursor-pointer rounded-l bg-primaryLight px-4 py-2 font-semibold text-secondaryDark transition\"\n                :value=\"tab.document.request.method\"\n                :readonly=\"!isCustomMethod\"\n                :placeholder=\"`${t('request.method')}`\"\n                @input=\"onSelectMethod($event)\"\n              />\n            </HoppSmartSelectWrapper>\n            <template #content=\"{ hide }\">\n              <div\n                ref=\"methodTippyActions\"\n                class=\"flex flex-col focus:outline-none\"\n                tabindex=\"0\"\n                @keyup.escape=\"hide()\"\n              >\n                <HoppSmartItem\n                  v-for=\"(method, index) in methods\"\n                  :key=\"`method-${index}`\"\n                  :label=\"method\"\n                  :style=\"{\n                    color: getMethodLabelColor(method),\n                  }\"\n                  @click=\"\n                    () => {\n                      updateMethod(method)\n                      hide()\n                    }\n                  \"\n                />\n              </div>\n            </template>\n          </tippy>\n        </label>\n      </div>\n      <div\n        class=\"flex flex-1 whitespace-nowrap rounded-r border-l border-divider bg-primaryLight transition\"\n      >\n        <SmartEnvInput\n          v-model=\"tab.document.request.endpoint\"\n          :placeholder=\"`${t('request.url_placeholder')}`\"\n          :auto-complete-source=\"userHistories\"\n          :auto-complete-env=\"true\"\n          :inspection-results=\"tabResults\"\n          @paste=\"onPasteUrl($event)\"\n          @enter=\"newSendRequest\"\n        />\n      </div>\n    </div>\n    <div class=\"mt-2 flex sm:mt-0\">\n      <HoppButtonPrimary\n        id=\"send\"\n        v-tippy=\"{ theme: 'tooltip', delay: [500, 20], allowHTML: true }\"\n        :title=\"`${t(\n          'action.send'\n        )} <kbd>${getSpecialKey()}</kbd><kbd>↩</kbd>`\"\n        :label=\"`${!loading ? t('action.send') : t('action.cancel')}`\"\n        class=\"min-w-[5rem] flex-1 rounded-r-none\"\n        @click=\"!loading ? newSendRequest() : cancelRequest()\"\n      />\n      <span class=\"flex\">\n        <tippy\n          interactive\n          trigger=\"click\"\n          theme=\"popover\"\n          :on-shown=\"() => sendTippyActions.focus()\"\n        >\n          <HoppButtonPrimary\n            v-tippy=\"{ theme: 'tooltip' }\"\n            :title=\"t('app.options')\"\n            :icon=\"IconChevronDown\"\n            filled\n            class=\"rounded-l-none\"\n          />\n          <template #content=\"{ hide }\">\n            <div\n              ref=\"sendTippyActions\"\n              class=\"flex flex-col focus:outline-none\"\n              tabindex=\"0\"\n              @keyup.c=\"curl.$el.click()\"\n              @keyup.s=\"show.$el.click()\"\n              @keyup.delete=\"clearAll.$el.click()\"\n              @keyup.escape=\"hide()\"\n            >\n              <HoppSmartItem\n                ref=\"curl\"\n                :label=\"`${t('import.curl')}`\"\n                :icon=\"IconFileCode\"\n                :shortcut=\"['C']\"\n                @click=\"\n                  () => {\n                    showCurlImportModal = !showCurlImportModal\n                    hide()\n                  }\n                \"\n              />\n              <HoppSmartItem\n                ref=\"show\"\n                :label=\"`${t('show.code')}`\"\n                :icon=\"IconCode2\"\n                :shortcut=\"['S']\"\n                @click=\"\n                  () => {\n                    showCodegenModal = !showCodegenModal\n                    hide()\n                  }\n                \"\n              />\n              <HoppSmartItem\n                ref=\"clearAll\"\n                :label=\"`${t('action.clear_all')}`\"\n                :icon=\"IconRotateCCW\"\n                :shortcut=\"['⌫']\"\n                @click=\"\n                  () => {\n                    clearContent()\n                    hide()\n                  }\n                \"\n              />\n            </div>\n          </template>\n        </tippy>\n      </span>\n      <span class=\"ml-2 flex rounded border border-divider transition\">\n        <HoppButtonSecondary\n          v-tippy=\"{ theme: 'tooltip', delay: [500, 20], allowHTML: true }\"\n          :title=\"`${t(\n            'request.save'\n          )} <kbd>${getSpecialKey()}</kbd><kbd>S</kbd>`\"\n          :label=\"COLUMN_LAYOUT ? `${t('request.save')}` : ''\"\n          filled\n          :icon=\"IconSave\"\n          class=\"flex-1 rounded rounded-r-none\"\n          @click=\"saveRequest()\"\n        />\n        <span class=\"flex\">\n          <tippy\n            interactive\n            trigger=\"click\"\n            theme=\"popover\"\n            :on-shown=\"() => saveTippyActions.focus()\"\n          >\n            <HoppButtonSecondary\n              v-tippy=\"{ theme: 'tooltip' }\"\n              :title=\"t('app.options')\"\n              :icon=\"IconChevronDown\"\n              filled\n              class=\"rounded rounded-l-none\"\n            />\n            <template #content=\"{ hide }\">\n              <div\n                ref=\"saveTippyActions\"\n                class=\"flex flex-col focus:outline-none\"\n                tabindex=\"0\"\n                @keyup.escape=\"hide()\"\n              >\n                <input\n                  id=\"request-name\"\n                  v-model=\"tab.document.request.name\"\n                  :placeholder=\"`${t('request.name')}`\"\n                  name=\"request-name\"\n                  type=\"text\"\n                  autocomplete=\"off\"\n                  class=\"input mb-2 !bg-primaryContrast\"\n                  @keyup.enter=\"hide()\"\n                />\n                <HoppSmartItem\n                  ref=\"saveRequestAction\"\n                  :label=\"`${t('request.save_as')}`\"\n                  :icon=\"IconFolderPlus\"\n                  @click=\"\n                    () => {\n                      showSaveRequestModal = true\n                      hide()\n                    }\n                  \"\n                />\n                <hr />\n                <HoppSmartItem\n                  ref=\"copyRequestAction\"\n                  :label=\"t('request.share_request')\"\n                  :icon=\"IconShare2\"\n                  :loading=\"fetchingShareLink\"\n                  @click=\"\n                    () => {\n                      shareRequest()\n                      hide()\n                    }\n                  \"\n                />\n              </div>\n            </template>\n          </tippy>\n        </span>\n      </span>\n    </div>\n    <HttpImportCurl\n      :text=\"curlText\"\n      :show=\"showCurlImportModal\"\n      @hide-modal=\"showCurlImportModal = false\"\n    />\n    <HttpCodegenModal\n      v-if=\"showCodegenModal\"\n      :show=\"showCodegenModal\"\n      @hide-modal=\"showCodegenModal = false\"\n    />\n    <CollectionsSaveRequest\n      v-if=\"showSaveRequestModal\"\n      mode=\"rest\"\n      :show=\"showSaveRequestModal\"\n      :request=\"request\"\n      @hide-modal=\"showSaveRequestModal = false\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useI18n } from \"@composables/i18n\"\nimport { useSetting } from \"@composables/settings\"\nimport { useReadonlyStream, useStreamSubscriber } from \"@composables/stream\"\nimport { useToast } from \"@composables/toast\"\nimport { useVModel } from \"@vueuse/core\"\nimport * as E from \"fp-ts/Either\"\nimport { Ref, computed, ref, onUnmounted } from \"vue\"\nimport { defineActionHandler, invokeAction } from \"~/helpers/actions\"\nimport { runMutation } from \"~/helpers/backend/GQLClient\"\nimport { UpdateRequestDocument } from \"~/helpers/backend/graphql\"\nimport { getPlatformSpecialKey as getSpecialKey } from \"~/helpers/platformutils\"\nimport { runRESTRequest$ } from \"~/helpers/RequestRunner\"\nimport { HoppRESTResponse } from \"~/helpers/types/HoppRESTResponse\"\nimport { editRESTRequest } from \"~/newstore/collections\"\nimport IconChevronDown from \"~icons/lucide/chevron-down\"\nimport IconCode2 from \"~icons/lucide/code-2\"\nimport IconFileCode from \"~icons/lucide/file-code\"\nimport IconFolderPlus from \"~icons/lucide/folder-plus\"\nimport IconRotateCCW from \"~icons/lucide/rotate-ccw\"\nimport IconSave from \"~icons/lucide/save\"\nimport IconShare2 from \"~icons/lucide/share-2\"\nimport { getDefaultRESTRequest } from \"~/helpers/rest/default\"\nimport { RESTHistoryEntry, restHistory$ } from \"~/newstore/history\"\nimport { platform } from \"~/platform\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { useService } from \"dioc/vue\"\nimport { InspectionService } from \"~/services/inspection\"\nimport { InterceptorService } from \"~/services/interceptor.service\"\nimport { HoppTab } from \"~/services/tab\"\nimport { HoppRESTDocument } from \"~/helpers/rest/document\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport { getMethodLabelColor } from \"~/helpers/rest/labelColoring\"\nimport { WorkspaceService } from \"~/services/workspace.service\"\n\nconst t = useI18n()\nconst interceptorService = useService(InterceptorService)\n\nconst methods = [\n  \"GET\",\n  \"POST\",\n  \"PUT\",\n  \"PATCH\",\n  \"DELETE\",\n  \"HEAD\",\n  \"OPTIONS\",\n  \"CONNECT\",\n  \"TRACE\",\n  \"CUSTOM\",\n]\n\nconst toast = useToast()\n\nconst { subscribeToStream } = useStreamSubscriber()\n\nconst props = defineProps<{ modelValue: HoppTab<HoppRESTDocument> }>()\nconst emit = defineEmits([\"update:modelValue\"])\n\nconst tab = useVModel(props, \"modelValue\", emit)\n\nconst newEndpoint = computed(() => {\n  return tab.value.document.request.endpoint\n})\nconst newMethod = computed(() => {\n  return tab.value.document.request.method\n})\n\nconst curlText = ref(\"\")\n\nconst loading = ref(false)\n\nconst showCurlImportModal = ref(false)\nconst showCodegenModal = ref(false)\nconst showSaveRequestModal = ref(false)\n\n// Template refs\nconst methodTippyActions = ref<any | null>(null)\nconst sendTippyActions = ref<any | null>(null)\nconst saveTippyActions = ref<any | null>(null)\nconst curl = ref<any | null>(null)\nconst show = ref<any | null>(null)\nconst clearAll = ref<any | null>(null)\nconst copyRequestAction = ref<any | null>(null)\nconst saveRequestAction = ref<any | null>(null)\n\nconst history = useReadonlyStream<RESTHistoryEntry[]>(restHistory$, [])\n\nconst requestCancelFunc: Ref<(() => void) | null> = ref(null)\n\nconst userHistories = computed(() => {\n  return history.value.map((history) => history.request.endpoint).slice(0, 10)\n})\n\nconst inspectionService = useService(InspectionService)\n\nconst tabs = useService(RESTTabService)\n\nconst workspaceService = useService(WorkspaceService)\n\nconst newSendRequest = async () => {\n  if (newEndpoint.value === \"\" || /^\\s+$/.test(newEndpoint.value)) {\n    toast.error(`${t(\"empty.endpoint\")}`)\n    return\n  }\n\n  ensureMethodInEndpoint()\n\n  loading.value = true\n\n  // Log the request run into analytics\n  platform.analytics?.logEvent({\n    type: \"HOPP_REQUEST_RUN\",\n    platform: \"rest\",\n    strategy: interceptorService.currentInterceptorID.value!,\n    workspaceType: workspaceService.currentWorkspace.value.type,\n  })\n\n  const [cancel, streamPromise] = runRESTRequest$(tab)\n  const streamResult = await streamPromise\n\n  requestCancelFunc.value = cancel\n  if (E.isRight(streamResult)) {\n    subscribeToStream(\n      streamResult.right,\n      (responseState) => {\n        if (loading.value) {\n          // Check exists because, loading can be set to false\n          // when cancelled\n          updateRESTResponse(responseState)\n        }\n      },\n      () => {\n        loading.value = false\n      },\n      () => {\n        // TODO: Change this any to a proper type\n        const result = (streamResult.right as any).value\n        if (\n          result.type === \"network_fail\" &&\n          result.error?.error === \"NO_PW_EXT_HOOK\"\n        ) {\n          const errorResponse: HoppRESTResponse = {\n            type: \"extension_error\",\n            error: result.error.humanMessage.heading,\n            component: result.error.component,\n            req: result.req,\n          }\n          updateRESTResponse(errorResponse)\n        }\n        loading.value = false\n      }\n    )\n  } else {\n    loading.value = false\n    toast.error(`${t(\"error.script_fail\")}`)\n    let error: Error\n    if (typeof streamResult.left === \"string\") {\n      error = { name: \"RequestFailure\", message: streamResult.left }\n    } else {\n      error = streamResult.left\n    }\n    updateRESTResponse({\n      type: \"script_fail\",\n      error,\n    })\n  }\n}\n\nconst ensureMethodInEndpoint = () => {\n  const endpoint = newEndpoint.value.trim()\n  tab.value.document.request.endpoint = endpoint\n  if (!/^http[s]?:\\/\\//.test(endpoint) && !endpoint.startsWith(\"<<\")) {\n    const domain = endpoint.split(/[/:#?]+/)[0]\n    if (domain === \"localhost\" || /([0-9]+\\.)*[0-9]/.test(domain)) {\n      tab.value.document.request.endpoint = \"http://\" + endpoint\n    } else {\n      tab.value.document.request.endpoint = \"https://\" + endpoint\n    }\n  }\n}\n\nconst onPasteUrl = (e: { pastedValue: string; prevValue: string }) => {\n  if (!e) return\n\n  const pastedData = e.pastedValue\n\n  if (isCURL(pastedData)) {\n    showCurlImportModal.value = true\n    curlText.value = pastedData\n    tab.value.document.request.endpoint = e.prevValue\n  }\n}\n\nfunction isCURL(curl: string) {\n  return curl.includes(\"curl \")\n}\n\nconst currentTabID = tabs.currentTabID.value\n\nonUnmounted(() => {\n  //check if current tab id exist in the current tab id lists\n  const isCurrentTabRemoved = !tabs\n    .getActiveTabs()\n    .value.some((tab) => tab.id === currentTabID)\n\n  if (isCurrentTabRemoved) cancelRequest()\n})\n\nconst cancelRequest = () => {\n  loading.value = false\n  requestCancelFunc.value?.()\n\n  updateRESTResponse(null)\n}\n\nconst updateMethod = (method: string) => {\n  tab.value.document.request.method = method\n}\n\nconst onSelectMethod = (e: Event | any) => {\n  // type any because of value property not being recognized by TS in the event.target object. It is a valid property though.\n  updateMethod(e.target.value)\n}\n\nconst clearContent = () => {\n  tab.value.document.request = getDefaultRESTRequest()\n}\n\nconst updateRESTResponse = (response: HoppRESTResponse | null) => {\n  tab.value.document.response = response\n}\n\nconst currentUser = useReadonlyStream(\n  platform.auth.getCurrentUserStream(),\n  platform.auth.getCurrentUser()\n)\n\nconst fetchingShareLink = ref(false)\n\nconst shareRequest = () => {\n  if (currentUser.value) {\n    invokeAction(\"share.request\", {\n      request: tab.value.document.request,\n    })\n  } else {\n    invokeAction(\"modals.login.toggle\")\n  }\n}\n\nconst cycleUpMethod = () => {\n  const currentIndex = methods.indexOf(newMethod.value)\n  if (currentIndex === -1) {\n    // Most probs we are in CUSTOM mode\n    // Cycle up from CUSTOM is PATCH\n    updateMethod(\"PATCH\")\n  } else if (currentIndex === 0) {\n    updateMethod(\"CUSTOM\")\n  } else {\n    updateMethod(methods[currentIndex - 1])\n  }\n}\n\nconst cycleDownMethod = () => {\n  const currentIndex = methods.indexOf(newMethod.value)\n  if (currentIndex === -1) {\n    // Most probs we are in CUSTOM mode\n    // Cycle down from CUSTOM is GET\n    updateMethod(\"GET\")\n  } else if (currentIndex === methods.length - 1) {\n    updateMethod(\"GET\")\n  } else {\n    updateMethod(methods[currentIndex + 1])\n  }\n}\n\nconst saveRequest = () => {\n  const saveCtx = tab.value.document.saveContext\n\n  if (!saveCtx) {\n    showSaveRequestModal.value = true\n    return\n  }\n  if (saveCtx.originLocation === \"user-collection\") {\n    const req = tab.value.document.request\n\n    try {\n      editRESTRequest(saveCtx.folderPath, saveCtx.requestIndex, req)\n\n      tab.value.document.isDirty = false\n\n      platform.analytics?.logEvent({\n        type: \"HOPP_SAVE_REQUEST\",\n        platform: \"rest\",\n        createdNow: false,\n        workspaceType: \"personal\",\n      })\n\n      toast.success(`${t(\"request.saved\")}`)\n    } catch (e) {\n      tab.value.document.saveContext = undefined\n      saveRequest()\n    }\n  } else if (saveCtx.originLocation === \"team-collection\") {\n    const req = tab.value.document.request\n\n    // TODO: handle error case (NOTE: overwriteRequestTeams is async)\n    try {\n      platform.analytics?.logEvent({\n        type: \"HOPP_SAVE_REQUEST\",\n        platform: \"rest\",\n        createdNow: false,\n        workspaceType: \"team\",\n      })\n\n      runMutation(UpdateRequestDocument, {\n        requestID: saveCtx.requestID,\n        data: {\n          title: req.name,\n          request: JSON.stringify(req),\n        },\n      })().then((result) => {\n        if (E.isLeft(result)) {\n          toast.error(`${t(\"profile.no_permission\")}`)\n        } else {\n          tab.value.document.isDirty = false\n\n          toast.success(`${t(\"request.saved\")}`)\n        }\n      })\n    } catch (error) {\n      showSaveRequestModal.value = true\n      toast.error(`${t(\"error.something_went_wrong\")}`)\n      console.error(error)\n    }\n  }\n}\n\nconst request = ref<HoppRESTRequest | null>(null)\n\ndefineActionHandler(\"request.send-cancel\", () => {\n  if (!loading.value) newSendRequest()\n  else cancelRequest()\n})\ndefineActionHandler(\"request.reset\", clearContent)\ndefineActionHandler(\"request.share-request\", shareRequest)\ndefineActionHandler(\"request.method.next\", cycleDownMethod)\ndefineActionHandler(\"request.method.prev\", cycleUpMethod)\ndefineActionHandler(\"request.save\", saveRequest)\ndefineActionHandler(\"request.save-as\", (req) => {\n  showSaveRequestModal.value = true\n  if (req?.requestType === \"rest\") {\n    request.value = req.request\n  }\n})\ndefineActionHandler(\"request.method.get\", () => updateMethod(\"GET\"))\ndefineActionHandler(\"request.method.post\", () => updateMethod(\"POST\"))\ndefineActionHandler(\"request.method.put\", () => updateMethod(\"PUT\"))\ndefineActionHandler(\"request.method.delete\", () => updateMethod(\"DELETE\"))\ndefineActionHandler(\"request.method.head\", () => updateMethod(\"HEAD\"))\n\ndefineActionHandler(\"request.import-curl\", () => {\n  showCurlImportModal.value = true\n})\ndefineActionHandler(\"request.show-code\", () => {\n  showCodegenModal.value = true\n})\n\nconst isCustomMethod = computed(() => {\n  return (\n    tab.value.document.request.method === \"CUSTOM\" ||\n    !methods.includes(newMethod.value)\n  )\n})\n\nconst COLUMN_LAYOUT = useSetting(\"COLUMN_LAYOUT\")\n\nconst tabResults = inspectionService.getResultViewFor(tabs.currentTabID.value)\n</script>\n","<template>\n  <AppPaneLayout layout-id=\"rest-primary\">\n    <template #primary>\n      <HttpRequest v-model=\"tab\" />\n      <HttpRequestOptions\n        v-model=\"tab.document.request\"\n        v-model:option-tab=\"tab.document.optionTabPreference\"\n        v-model:inherited-properties=\"tab.document.inheritedProperties\"\n      />\n    </template>\n    <template #secondary>\n      <HttpResponse v-model:document=\"tab.document\" :is-embed=\"false\" />\n    </template>\n  </AppPaneLayout>\n</template>\n\n<script setup lang=\"ts\">\nimport { watch } from \"vue\"\nimport { useVModel } from \"@vueuse/core\"\nimport { cloneDeep } from \"lodash-es\"\nimport { isEqualHoppRESTRequest } from \"@hoppscotch/data\"\nimport { HoppTab } from \"~/services/tab\"\nimport { HoppRESTDocument } from \"~/helpers/rest/document\"\n\n// TODO: Move Response and Request execution code to over here\n\nconst props = defineProps<{ modelValue: HoppTab<HoppRESTDocument> }>()\n\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", val: HoppTab<HoppRESTDocument>): void\n}>()\n\nconst tab = useVModel(props, \"modelValue\", emit)\n\n// TODO: Come up with a better dirty check\nlet oldRequest = cloneDeep(tab.value.document.request)\nwatch(\n  () => tab.value.document.request,\n  (updatedValue) => {\n    if (\n      !tab.value.document.isDirty &&\n      !isEqualHoppRESTRequest(oldRequest, updatedValue)\n    ) {\n      tab.value.document.isDirty = true\n    }\n\n    oldRequest = cloneDeep(updatedValue)\n  },\n  { deep: true }\n)\n</script>\n","<template>\n  <div\n    v-tippy=\"{ theme: 'tooltip', delay: [500, 20] }\"\n    :title=\"tab.document.request.name\"\n    class=\"flex items-center truncate px-2\"\n    @dblclick=\"emit('open-rename-modal')\"\n    @contextmenu.prevent=\"options?.tippy?.show()\"\n    @click.middle=\"emit('close-tab')\"\n  >\n    <span\n      class=\"text-tiny font-semibold mr-2\"\n      :style=\"{ color: getMethodLabelColorClassOf(tab.document.request) }\"\n    >\n      {{ tab.document.request.method }}\n    </span>\n    <tippy\n      ref=\"options\"\n      trigger=\"manual\"\n      interactive\n      theme=\"popover\"\n      :on-shown=\"() => tippyActions!.focus()\"\n    >\n      <span class=\"truncate\">\n        {{ tab.document.request.name }}\n      </span>\n      <template #content=\"{ hide }\">\n        <div\n          ref=\"tippyActions\"\n          class=\"flex flex-col focus:outline-none\"\n          tabindex=\"0\"\n          @keyup.r=\"renameAction?.$el.click()\"\n          @keyup.s=\"shareRequestAction?.$el.click()\"\n          @keyup.d=\"duplicateAction?.$el.click()\"\n          @keyup.w=\"closeAction?.$el.click()\"\n          @keyup.x=\"closeOthersAction?.$el.click()\"\n          @keyup.escape=\"hide()\"\n        >\n          <HoppSmartItem\n            ref=\"renameAction\"\n            :icon=\"IconFileEdit\"\n            :label=\"t('request.rename')\"\n            :shortcut=\"['R']\"\n            @click=\"\n              () => {\n                emit('open-rename-modal')\n                hide()\n              }\n            \"\n          />\n          <HoppSmartItem\n            ref=\"duplicateAction\"\n            :icon=\"IconCopy\"\n            :label=\"t('tab.duplicate')\"\n            :shortcut=\"['D']\"\n            @click=\"\n              () => {\n                emit('duplicate-tab')\n                hide()\n              }\n            \"\n          />\n          <HoppSmartItem\n            ref=\"shareRequestAction\"\n            :icon=\"IconShare2\"\n            :label=\"t('tab.share_tab_request')\"\n            :shortcut=\"['S']\"\n            @click=\"\n              () => {\n                emit('share-tab-request')\n                hide()\n              }\n            \"\n          />\n          <HoppSmartItem\n            v-if=\"isRemovable\"\n            ref=\"closeAction\"\n            :icon=\"IconXCircle\"\n            :label=\"t('tab.close')\"\n            :shortcut=\"['W']\"\n            @click=\"\n              () => {\n                emit('close-tab')\n                hide()\n              }\n            \"\n          />\n          <HoppSmartItem\n            v-if=\"isRemovable\"\n            ref=\"closeOthersAction\"\n            :icon=\"IconXSquare\"\n            :label=\"t('tab.close_others')\"\n            :shortcut=\"['X']\"\n            @click=\"\n              () => {\n                emit('close-other-tabs')\n                hide()\n              }\n            \"\n          />\n        </div>\n      </template>\n    </tippy>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\"\nimport { TippyComponent } from \"vue-tippy\"\nimport { getMethodLabelColorClassOf } from \"~/helpers/rest/labelColoring\"\nimport { useI18n } from \"~/composables/i18n\"\nimport IconXCircle from \"~icons/lucide/x-circle\"\nimport IconXSquare from \"~icons/lucide/x-square\"\nimport IconFileEdit from \"~icons/lucide/file-edit\"\nimport IconCopy from \"~icons/lucide/copy\"\nimport IconShare2 from \"~icons/lucide/share-2\"\nimport { HoppTab } from \"~/services/tab\"\nimport { HoppRESTDocument } from \"~/helpers/rest/document\"\n\nconst t = useI18n()\n\ndefineProps<{\n  tab: HoppTab<HoppRESTDocument>\n  isRemovable: boolean\n}>()\n\nconst emit = defineEmits<{\n  (event: \"open-rename-modal\"): void\n  (event: \"close-tab\"): void\n  (event: \"close-other-tabs\"): void\n  (event: \"duplicate-tab\"): void\n  (event: \"share-tab-request\"): void\n}>()\n\nconst tippyActions = ref<TippyComponent | null>(null)\nconst options = ref<TippyComponent | null>(null)\n\nconst renameAction = ref<HTMLButtonElement | null>(null)\nconst closeAction = ref<HTMLButtonElement | null>(null)\nconst closeOthersAction = ref<HTMLButtonElement | null>(null)\nconst duplicateAction = ref<HTMLButtonElement | null>(null)\nconst shareRequestAction = ref<HTMLButtonElement | null>(null)\n</script>\n","import { FormDataKeyValue, HoppRESTRequest } from \"@hoppscotch/data\"\nimport { getDefaultRESTRequest } from \"./rest/default\"\nimport { isJSONContentType } from \"./utils/contenttypes\"\n\n/**\n * Handles translations for all the hopp.io REST Shareable URL params\n */\nexport function translateExtURLParams(\n  urlParams: Record<string, any>,\n  initialReq?: HoppRESTRequest\n): HoppRESTRequest {\n  if (urlParams.v) return parseV1ExtURL(urlParams, initialReq)\n  return parseV0ExtURL(urlParams, initialReq)\n}\n\nfunction parseV0ExtURL(\n  urlParams: Record<string, any>,\n  initialReq?: HoppRESTRequest\n): HoppRESTRequest {\n  const resolvedReq = initialReq ?? getDefaultRESTRequest()\n\n  if (urlParams.method && typeof urlParams.method === \"string\") {\n    resolvedReq.method = urlParams.method\n  }\n\n  if (urlParams.url && typeof urlParams.url === \"string\") {\n    if (urlParams.path && typeof urlParams.path === \"string\") {\n      resolvedReq.endpoint = `${urlParams.url}/${urlParams.path}`\n    } else {\n      resolvedReq.endpoint = urlParams.url\n    }\n  }\n\n  if (urlParams.headers && typeof urlParams.headers === \"string\") {\n    resolvedReq.headers = JSON.parse(urlParams.headers)\n  }\n\n  if (urlParams.params && typeof urlParams.params === \"string\") {\n    resolvedReq.params = JSON.parse(urlParams.params)\n  }\n\n  if (urlParams.httpUser && typeof urlParams.httpUser === \"string\") {\n    resolvedReq.auth = {\n      authType: \"basic\",\n      authActive: true,\n      username: urlParams.httpUser,\n      password: urlParams.httpPassword ?? \"\",\n    }\n  }\n\n  if (urlParams.bearerToken && typeof urlParams.bearerToken === \"string\") {\n    resolvedReq.auth = {\n      authType: \"bearer\",\n      authActive: true,\n      token: urlParams.bearerToken,\n    }\n  }\n\n  if (urlParams.contentType) {\n    if (urlParams.contentType === \"multipart/form-data\") {\n      resolvedReq.body = {\n        contentType: \"multipart/form-data\",\n        body: JSON.parse(urlParams.bodyParams || \"[]\").map(\n          (x: any) =>\n            <FormDataKeyValue>{\n              active: x.active,\n              key: x.key,\n              value: x.value,\n              isFile: false,\n            }\n        ),\n      }\n    } else if (isJSONContentType(urlParams.contentType)) {\n      if (urlParams.rawParams) {\n        resolvedReq.body = {\n          contentType: urlParams.contentType,\n          body: urlParams.rawParams,\n        }\n      } else {\n        resolvedReq.body = {\n          contentType: urlParams.contentType,\n          body: urlParams.bodyParams,\n        }\n      }\n    } else {\n      resolvedReq.body = {\n        contentType: urlParams.contentType,\n        body: urlParams.rawParams,\n      }\n    }\n  }\n\n  return resolvedReq\n}\n\nfunction parseV1ExtURL(\n  urlParams: Record<string, any>,\n  initialReq?: HoppRESTRequest\n): HoppRESTRequest {\n  const resolvedReq = initialReq ?? getDefaultRESTRequest()\n\n  if (urlParams.headers && typeof urlParams.headers === \"string\") {\n    resolvedReq.headers = JSON.parse(urlParams.headers)\n  }\n\n  if (urlParams.params && typeof urlParams.params === \"string\") {\n    resolvedReq.params = JSON.parse(urlParams.params)\n  }\n\n  if (urlParams.method && typeof urlParams.method === \"string\") {\n    resolvedReq.method = urlParams.method\n  }\n\n  if (urlParams.endpoint && typeof urlParams.endpoint === \"string\") {\n    resolvedReq.endpoint = urlParams.endpoint\n  }\n\n  if (urlParams.body && typeof urlParams.body === \"string\") {\n    resolvedReq.body = JSON.parse(urlParams.body)\n  }\n\n  return resolvedReq\n}\n","import { Service } from \"dioc\"\nimport { InspectionService, Inspector, InspectorResult } from \"..\"\nimport { getI18n } from \"~/modules/i18n\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { Ref, computed, markRaw } from \"vue\"\nimport IconAlertTriangle from \"~icons/lucide/alert-triangle\"\nimport { InterceptorService } from \"~/services/interceptor.service\"\n\n/**\n * This inspector is responsible for inspecting the header of a request.\n * It checks if the header contains cookies.\n *\n * NOTE: Initializing this service registers it as a inspector with the Inspection Service.\n */\nexport class HeaderInspectorService extends Service implements Inspector {\n  public static readonly ID = \"HEADER_INSPECTOR_SERVICE\"\n\n  private t = getI18n()\n\n  public readonly inspectorID = \"header\"\n\n  private readonly inspection = this.bind(InspectionService)\n  private readonly interceptorService = this.bind(InterceptorService)\n\n  override onServiceInit() {\n    this.inspection.registerInspector(this)\n  }\n\n  private cookiesCheck(headerKey: string) {\n    const cookieKeywords = [\"Cookie\", \"Set-Cookie\", \"Cookie2\", \"Set-Cookie2\"]\n\n    return cookieKeywords.includes(headerKey)\n  }\n\n  getInspections(req: Readonly<Ref<HoppRESTRequest>>) {\n    return computed(() => {\n      const results: InspectorResult[] = []\n\n      const headers = req.value.headers\n\n      const headerKeys = Object.values(headers).map((header) => header.key)\n\n      const isContainCookies = headerKeys.includes(\"Cookie\")\n\n      if (\n        isContainCookies &&\n        !this.interceptorService.currentInterceptor.value?.supportsCookies\n      ) {\n        headerKeys.forEach((headerKey, index) => {\n          if (this.cookiesCheck(headerKey)) {\n            results.push({\n              id: \"header\",\n              icon: markRaw(IconAlertTriangle),\n              text: {\n                type: \"text\",\n                text: this.t(\"inspections.header.cookie\"),\n              },\n              severity: 2,\n              isApplicable: true,\n              locations: {\n                type: \"header\",\n                position: \"key\",\n                key: headerKey,\n                index: index,\n              },\n              doc: {\n                text: this.t(\"action.download_here\"),\n                link: \"https://hoppscotch.com/download\",\n              },\n            })\n          }\n        })\n      }\n\n      return results\n    })\n  }\n}\n","import { getI18n } from \"~/modules/i18n\"\nimport {\n  InspectionService,\n  Inspector,\n  InspectorLocation,\n  InspectorResult,\n} from \"..\"\nimport { Service } from \"dioc\"\nimport { Ref, markRaw } from \"vue\"\nimport IconPlusCircle from \"~icons/lucide/plus-circle\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport {\n  AggregateEnvironment,\n  aggregateEnvsWithSecrets$,\n  getCurrentEnvironment,\n  getSelectedEnvironmentType,\n} from \"~/newstore/environments\"\nimport { invokeAction } from \"~/helpers/actions\"\nimport { computed } from \"vue\"\nimport { useStreamStatic } from \"~/composables/stream\"\nimport { SecretEnvironmentService } from \"~/services/secret-environment.service\"\nimport { RESTTabService } from \"~/services/tab/rest\"\n\nconst HOPP_ENVIRONMENT_REGEX = /(<<[a-zA-Z0-9-_]+>>)/g\n\nconst isENVInString = (str: string) => {\n  return HOPP_ENVIRONMENT_REGEX.test(str)\n}\n\n/**\n * This inspector is responsible for inspecting the environment variables of a input.\n * It checks if the environment variables are defined in the environment.\n * It also provides an action to add the environment variable.\n *\n * NOTE: Initializing this service registers it as a inspector with the Inspection Service.\n */\nexport class EnvironmentInspectorService extends Service implements Inspector {\n  public static readonly ID = \"ENVIRONMENT_INSPECTOR_SERVICE\"\n\n  private t = getI18n()\n\n  public readonly inspectorID = \"environment\"\n\n  private readonly inspection = this.bind(InspectionService)\n  private readonly secretEnvs = this.bind(SecretEnvironmentService)\n  private readonly restTabs = this.bind(RESTTabService)\n\n  private aggregateEnvsWithSecrets = useStreamStatic(\n    aggregateEnvsWithSecrets$,\n    [],\n    () => {\n      /* noop */\n    }\n  )[0]\n\n  override onServiceInit() {\n    this.inspection.registerInspector(this)\n  }\n\n  /**\n   * Validates the environment variables in the target array\n   * @param target The target array to validate\n   * @param locations The location where results are to be displayed\n   * @returns The results array containing the results of the validation\n   */\n  private validateEnvironmentVariables = (\n    target: any[],\n    locations: InspectorLocation\n  ) => {\n    const newErrors: InspectorResult[] = []\n\n    const currentTab = this.restTabs.currentActiveTab.value\n\n    const environmentVariables = [\n      ...currentTab.document.request.requestVariables,\n      ...this.aggregateEnvsWithSecrets.value,\n    ]\n\n    const envKeys = environmentVariables.map((e) => e.key)\n\n    target.forEach((element, index) => {\n      if (isENVInString(element)) {\n        const extractedEnv = element.match(HOPP_ENVIRONMENT_REGEX)\n\n        if (extractedEnv) {\n          extractedEnv.forEach((exEnv: string) => {\n            const formattedExEnv = exEnv.slice(2, -2)\n            const itemLocation: InspectorLocation = {\n              type: locations.type,\n              position:\n                locations.type === \"url\" ||\n                locations.type === \"body\" ||\n                locations.type === \"response\"\n                  ? \"key\"\n                  : locations.position,\n              index: index,\n              key: element,\n            }\n            if (!envKeys.includes(formattedExEnv)) {\n              newErrors.push({\n                id: `environment-not-found-${newErrors.length}`,\n                text: {\n                  type: \"text\",\n                  text: this.t(\"inspections.environment.not_found\", {\n                    environment: exEnv,\n                  }),\n                },\n                icon: markRaw(IconPlusCircle),\n                action: {\n                  text: this.t(\"inspections.environment.add_environment\"),\n                  apply: () => {\n                    invokeAction(\"modals.environment.add\", {\n                      envName: formattedExEnv,\n                      variableName: \"\",\n                    })\n                  },\n                },\n                severity: 3,\n                isApplicable: true,\n                locations: itemLocation,\n                doc: {\n                  text: this.t(\"action.learn_more\"),\n                  link: \"https://docs.hoppscotch.io/documentation/features/inspections\",\n                },\n              })\n            }\n          })\n        }\n      }\n    })\n\n    return newErrors\n  }\n\n  /**\n   * Transforms the environment list to a list with unique keys with value\n   * @param envs The environment list to be transformed\n   * @returns The transformed environment list with keys with value\n   */\n  private filterNonEmptyEnvironmentVariables = (\n    envs: AggregateEnvironment[]\n  ): AggregateEnvironment[] => {\n    const envsMap = new Map<string, AggregateEnvironment>()\n\n    envs.forEach((env) => {\n      if (envsMap.has(env.key)) {\n        const existingEnv = envsMap.get(env.key)\n\n        if (existingEnv?.value === \"\" && env.value !== \"\") {\n          envsMap.set(env.key, env)\n        }\n      } else {\n        envsMap.set(env.key, env)\n      }\n    })\n\n    return Array.from(envsMap.values())\n  }\n\n  /**\n   * Checks if the environment variables in the target array are empty\n   * @param target The target array to validate\n   * @param locations The location where results are to be displayed\n   * @returns The results array containing the results of the validation\n   */\n  private validateEmptyEnvironmentVariables = (\n    target: any[],\n    locations: InspectorLocation\n  ) => {\n    const newErrors: InspectorResult[] = []\n\n    target.forEach((element, index) => {\n      if (isENVInString(element)) {\n        const extractedEnv = element.match(HOPP_ENVIRONMENT_REGEX)\n\n        if (extractedEnv) {\n          extractedEnv.forEach((exEnv: string) => {\n            const formattedExEnv = exEnv.slice(2, -2)\n            const currentSelectedEnvironment = getCurrentEnvironment()\n\n            const currentTab = this.restTabs.currentActiveTab.value\n\n            const environmentVariables =\n              this.filterNonEmptyEnvironmentVariables([\n                ...currentTab.document.request.requestVariables.map((env) => ({\n                  ...env,\n                  secret: false,\n                  sourceEnv: \"RequestVariable\",\n                })),\n                ...this.aggregateEnvsWithSecrets.value,\n              ])\n\n            environmentVariables.forEach((env) => {\n              const hasSecretEnv = this.secretEnvs.hasSecretValue(\n                env.sourceEnv !== \"Global\"\n                  ? currentSelectedEnvironment.id\n                  : \"Global\",\n                env.key\n              )\n\n              if (env.key === formattedExEnv) {\n                if (env.secret ? !hasSecretEnv : env.value === \"\") {\n                  const itemLocation: InspectorLocation = {\n                    type: locations.type,\n                    position:\n                      locations.type === \"url\" ||\n                      locations.type === \"body\" ||\n                      locations.type === \"response\"\n                        ? \"key\"\n                        : locations.position,\n                    index: index,\n                    key: element,\n                  }\n\n                  const currentEnvironmentType = getSelectedEnvironmentType()\n\n                  let invokeActionType:\n                    | \"modals.my.environment.edit\"\n                    | \"modals.team.environment.edit\"\n                    | \"modals.global.environment.update\" =\n                    \"modals.my.environment.edit\"\n\n                  if (env.sourceEnv === \"Global\") {\n                    invokeActionType = \"modals.global.environment.update\"\n                  } else if (currentEnvironmentType === \"MY_ENV\") {\n                    invokeActionType = \"modals.my.environment.edit\"\n                  } else if (currentEnvironmentType === \"TEAM_ENV\") {\n                    invokeActionType = \"modals.team.environment.edit\"\n                  } else {\n                    invokeActionType = \"modals.my.environment.edit\"\n                  }\n\n                  newErrors.push({\n                    id: `environment-empty-${newErrors.length}`,\n                    text: {\n                      type: \"text\",\n                      text: this.t(\"inspections.environment.empty_value\", {\n                        variable: exEnv,\n                      }),\n                    },\n                    icon: markRaw(IconPlusCircle),\n                    action: {\n                      text: this.t(\n                        \"inspections.environment.add_environment_value\"\n                      ),\n                      apply: () => {\n                        if (env.sourceEnv === \"RequestVariable\") {\n                          currentTab.document.optionTabPreference =\n                            \"requestVariables\"\n                        } else {\n                          invokeAction(invokeActionType, {\n                            envName:\n                              env.sourceEnv === \"Global\"\n                                ? \"Global\"\n                                : currentSelectedEnvironment.name,\n                            variableName: formattedExEnv,\n                            isSecret: env.secret,\n                          })\n                        }\n                      },\n                    },\n                    severity: 2,\n                    isApplicable: true,\n                    locations: itemLocation,\n                    doc: {\n                      text: this.t(\"action.learn_more\"),\n                      link: \"https://docs.hoppscotch.io/documentation/features/inspections\",\n                    },\n                  })\n                }\n              }\n            })\n          })\n        }\n      }\n    })\n\n    return newErrors\n  }\n\n  getInspections(req: Readonly<Ref<HoppRESTRequest>>) {\n    return computed(() => {\n      const results: InspectorResult[] = []\n\n      const headers = req.value.headers\n\n      const params = req.value.params\n\n      /**\n       * Validate the environment variables in the URL\n       */\n      const url = req.value.endpoint\n\n      results.push(\n        ...this.validateEnvironmentVariables([url], {\n          type: \"url\",\n        })\n      )\n      results.push(\n        ...this.validateEmptyEnvironmentVariables([url], {\n          type: \"url\",\n        })\n      )\n\n      /**\n       * Validate the environment variables in the headers\n       */\n      const headerKeys = Object.values(headers).map((header) => header.key)\n\n      results.push(\n        ...this.validateEnvironmentVariables(headerKeys, {\n          type: \"header\",\n          position: \"key\",\n        })\n      )\n      results.push(\n        ...this.validateEmptyEnvironmentVariables(headerKeys, {\n          type: \"header\",\n          position: \"key\",\n        })\n      )\n\n      const headerValues = Object.values(headers).map((header) => header.value)\n\n      results.push(\n        ...this.validateEnvironmentVariables(headerValues, {\n          type: \"header\",\n          position: \"value\",\n        })\n      )\n      results.push(\n        ...this.validateEmptyEnvironmentVariables(headerValues, {\n          type: \"header\",\n          position: \"value\",\n        })\n      )\n\n      /**\n       * Validate the environment variables in the parameters\n       */\n      const paramsKeys = Object.values(params).map((param) => param.key)\n\n      results.push(\n        ...this.validateEnvironmentVariables(paramsKeys, {\n          type: \"parameter\",\n          position: \"key\",\n        })\n      )\n      results.push(\n        ...this.validateEmptyEnvironmentVariables(paramsKeys, {\n          type: \"parameter\",\n          position: \"key\",\n        })\n      )\n\n      const paramsValues = Object.values(params).map((param) => param.value)\n\n      results.push(\n        ...this.validateEnvironmentVariables(paramsValues, {\n          type: \"parameter\",\n          position: \"value\",\n        })\n      )\n\n      results.push(\n        ...this.validateEmptyEnvironmentVariables(paramsValues, {\n          type: \"parameter\",\n          position: \"value\",\n        })\n      )\n\n      return results\n    })\n  }\n}\n","import { Service } from \"dioc\"\nimport { InspectionService, Inspector, InspectorResult } from \"..\"\nimport { getI18n } from \"~/modules/i18n\"\nimport { HoppRESTRequest } from \"@hoppscotch/data\"\nimport { markRaw } from \"vue\"\nimport IconAlertTriangle from \"~icons/lucide/alert-triangle\"\nimport { HoppRESTResponse } from \"~/helpers/types/HoppRESTResponse\"\nimport { Ref } from \"vue\"\nimport { computed } from \"vue\"\n\n/**\n * This inspector is responsible for inspecting the response of a request.\n * It checks if the response is successful and if it contains errors.\n *\n * NOTE: Initializing this service registers it as a inspector with the Inspection Service.\n */\nexport class ResponseInspectorService extends Service implements Inspector {\n  public static readonly ID = \"RESPONSE_INSPECTOR_SERVICE\"\n\n  private t = getI18n()\n\n  public readonly inspectorID = \"response\"\n\n  private readonly inspection = this.bind(InspectionService)\n\n  override onServiceInit() {\n    this.inspection.registerInspector(this)\n  }\n\n  getInspections(\n    _req: Readonly<Ref<HoppRESTRequest>>,\n    res: Readonly<Ref<HoppRESTResponse | null | undefined>>\n  ) {\n    return computed(() => {\n      const results: InspectorResult[] = []\n      if (!res.value) return results\n\n      const hasErrors =\n        res && (res.value.type !== \"success\" || res.value.statusCode !== 200)\n\n      let text: string | undefined = undefined\n\n      if (res.value.type === \"network_fail\" && !navigator.onLine) {\n        text = this.t(\"inspections.response.network_error\")\n      } else if (res.value.type === \"fail\") {\n        text = this.t(\"inspections.response.default_error\")\n      } else if (res.value.type === \"success\" && res.value.statusCode === 404) {\n        text = this.t(\"inspections.response.404_error\")\n      } else if (res.value.type === \"success\" && res.value.statusCode === 401) {\n        text = this.t(\"inspections.response.401_error\")\n      }\n\n      if (hasErrors && text) {\n        results.push({\n          id: \"url\",\n          icon: markRaw(IconAlertTriangle),\n          text: {\n            type: \"text\",\n            text: text,\n          },\n          severity: 2,\n          isApplicable: true,\n          locations: {\n            type: \"response\",\n          },\n          doc: {\n            text: this.t(\"action.learn_more\"),\n            link: \"https://docs.hoppscotch.io/documentation/features/inspections\",\n          },\n        })\n      }\n\n      return results\n    })\n  }\n}\n","<template>\n  <div>\n    <AppPaneLayout layout-id=\"http\">\n      <template #primary>\n        <HoppSmartWindows\n          v-if=\"currentTabID\"\n          :id=\"'rest_windows'\"\n          v-model=\"currentTabID\"\n          @remove-tab=\"removeTab\"\n          @add-tab=\"addNewTab\"\n          @sort=\"sortTabs\"\n        >\n          <HoppSmartWindow\n            v-for=\"tab in activeTabs\"\n            :id=\"tab.id\"\n            :key=\"tab.id\"\n            :label=\"tab.document.request.name\"\n            :is-removable=\"activeTabs.length > 1\"\n            :close-visibility=\"'hover'\"\n          >\n            <template #tabhead>\n              <HttpTabHead\n                :tab=\"tab\"\n                :is-removable=\"activeTabs.length > 1\"\n                @open-rename-modal=\"openReqRenameModal(tab.id)\"\n                @close-tab=\"removeTab(tab.id)\"\n                @close-other-tabs=\"closeOtherTabsAction(tab.id)\"\n                @duplicate-tab=\"duplicateTab(tab.id)\"\n                @share-tab-request=\"shareTabRequest(tab.id)\"\n              />\n            </template>\n            <template #suffix>\n              <span\n                v-if=\"tab.document.isDirty\"\n                class=\"flex w-4 items-center justify-center text-secondary group-hover:hidden\"\n              >\n                <svg\n                  viewBox=\"0 0 24 24\"\n                  width=\"1.2em\"\n                  height=\"1.2em\"\n                  class=\"h-1.5 w-1.5\"\n                >\n                  <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"currentColor\"></circle>\n                </svg>\n              </span>\n            </template>\n            <HttpRequestTab\n              :model-value=\"tab\"\n              @update:model-value=\"onTabUpdate\"\n            />\n          </HoppSmartWindow>\n          <template #actions>\n            <EnvironmentsSelector class=\"h-full\" />\n          </template>\n        </HoppSmartWindows>\n      </template>\n      <template #sidebar>\n        <HttpSidebar />\n      </template>\n    </AppPaneLayout>\n    <CollectionsEditRequest\n      v-model=\"reqName\"\n      :show=\"showRenamingReqNameModal\"\n      @submit=\"renameReqName\"\n      @hide-modal=\"showRenamingReqNameModal = false\"\n    />\n    <HoppSmartConfirmModal\n      :show=\"confirmingCloseAllTabs\"\n      :confirm=\"t('modal.close_unsaved_tab')\"\n      :title=\"t('confirm.close_unsaved_tabs', { count: unsavedTabsCount })\"\n      @hide-modal=\"confirmingCloseAllTabs = false\"\n      @resolve=\"onResolveConfirmCloseAllTabs\"\n    />\n    <HoppSmartModal\n      v-if=\"confirmingCloseForTabID !== null\"\n      dialog\n      role=\"dialog\"\n      aria-modal=\"true\"\n      :title=\"t('modal.close_unsaved_tab')\"\n      @close=\"confirmingCloseForTabID = null\"\n    >\n      <template #body>\n        <div class=\"text-center\">\n          {{ t(\"confirm.save_unsaved_tab\") }}\n        </div>\n      </template>\n      <template #footer>\n        <span class=\"flex space-x-2\">\n          <HoppButtonPrimary\n            v-focus\n            :label=\"t?.('action.yes')\"\n            outline\n            @click=\"onResolveConfirmSaveTab\"\n          />\n          <HoppButtonSecondary\n            :label=\"t?.('action.no')\"\n            filled\n            outline\n            @click=\"onCloseConfirmSaveTab\"\n          />\n        </span>\n      </template>\n    </HoppSmartModal>\n    <CollectionsSaveRequest\n      v-if=\"savingRequest\"\n      mode=\"rest\"\n      :show=\"savingRequest\"\n      @hide-modal=\"onSaveModalClose\"\n    />\n    <AppContextMenu\n      v-if=\"contextMenu.show\"\n      :show=\"contextMenu.show\"\n      :position=\"contextMenu.position\"\n      :text=\"contextMenu.text\"\n      @hide-modal=\"contextMenu.show = false\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { ref, onMounted } from \"vue\"\nimport { safelyExtractRESTRequest } from \"@hoppscotch/data\"\nimport { translateExtURLParams } from \"~/helpers/RESTExtURLParams\"\nimport { useRoute } from \"vue-router\"\nimport { useI18n } from \"@composables/i18n\"\nimport { getDefaultRESTRequest } from \"~/helpers/rest/default\"\nimport { defineActionHandler, invokeAction } from \"~/helpers/actions\"\nimport { platform } from \"~/platform\"\nimport { useReadonlyStream } from \"~/composables/stream\"\nimport { useService } from \"dioc/vue\"\nimport { InspectionService } from \"~/services/inspection\"\nimport { HeaderInspectorService } from \"~/services/inspection/inspectors/header.inspector\"\nimport { EnvironmentInspectorService } from \"~/services/inspection/inspectors/environment.inspector\"\nimport { ResponseInspectorService } from \"~/services/inspection/inspectors/response.inspector\"\nimport { cloneDeep } from \"lodash-es\"\nimport { RESTTabService } from \"~/services/tab/rest\"\nimport { HoppTab } from \"~/services/tab\"\nimport { HoppRESTDocument } from \"~/helpers/rest/document\"\n\nconst savingRequest = ref(false)\nconst confirmingCloseForTabID = ref<string | null>(null)\nconst confirmingCloseAllTabs = ref(false)\nconst showRenamingReqNameModal = ref(false)\nconst reqName = ref<string>(\"\")\nconst unsavedTabsCount = ref(0)\nconst exceptedTabID = ref<string | null>(null)\nconst renameTabID = ref<string | null>(null)\n\nconst t = useI18n()\n\nconst tabs = useService(RESTTabService)\n\nconst currentTabID = tabs.currentTabID\n\nconst currentUser = useReadonlyStream(\n  platform.auth.getCurrentUserStream(),\n  platform.auth.getCurrentUser()\n)\n\ntype PopupDetails = {\n  show: boolean\n  position: {\n    top: number\n    left: number\n  }\n  text: string | null\n}\n\nconst contextMenu = ref<PopupDetails>({\n  show: false,\n  position: {\n    top: 0,\n    left: 0,\n  },\n  text: null,\n})\n\nconst activeTabs = tabs.getActiveTabs()\n\nfunction bindRequestToURLParams() {\n  const route = useRoute()\n  // Get URL parameters and set that as the request\n  onMounted(() => {\n    const query = route.query\n    // If query params are empty, or contains code or error param (these are from Oauth Redirect)\n    // We skip URL params parsing\n    if (Object.keys(query).length === 0 || query.code || query.error) return\n\n    const request = tabs.currentActiveTab.value.document.request\n\n    tabs.currentActiveTab.value.document.request = safelyExtractRESTRequest(\n      translateExtURLParams(query, request),\n      getDefaultRESTRequest()\n    )\n  })\n}\n\nconst onTabUpdate = (tab: HoppTab<HoppRESTDocument>) => {\n  tabs.updateTab(tab)\n}\n\nconst addNewTab = () => {\n  const tab = tabs.createNewTab({\n    request: getDefaultRESTRequest(),\n    isDirty: false,\n  })\n\n  tabs.setActiveTab(tab.id)\n}\nconst sortTabs = (e: { oldIndex: number; newIndex: number }) => {\n  tabs.updateTabOrdering(e.oldIndex, e.newIndex)\n}\n\nconst inspectionService = useService(InspectionService)\n\nconst removeTab = (tabID: string) => {\n  const tabState = tabs.getTabRef(tabID).value\n\n  if (tabState.document.isDirty) {\n    confirmingCloseForTabID.value = tabID\n  } else {\n    tabs.closeTab(tabState.id)\n    inspectionService.deleteTabInspectorResult(tabState.id)\n  }\n}\n\nconst closeOtherTabsAction = (tabID: string) => {\n  const isTabDirty = tabs.getTabRef(tabID).value?.document.isDirty\n  const dirtyTabCount = tabs.getDirtyTabsCount()\n  // If current tab is dirty, so we need to subtract 1 from the dirty tab count\n  const balanceDirtyTabCount = isTabDirty ? dirtyTabCount - 1 : dirtyTabCount\n\n  // If there are dirty tabs, show the confirm modal\n  if (balanceDirtyTabCount > 0) {\n    confirmingCloseAllTabs.value = true\n    unsavedTabsCount.value = balanceDirtyTabCount\n    exceptedTabID.value = tabID\n  } else {\n    tabs.closeOtherTabs(tabID)\n  }\n}\n\nconst duplicateTab = (tabID: string) => {\n  const tab = tabs.getTabRef(tabID)\n  if (tab.value) {\n    const newTab = tabs.createNewTab({\n      request: cloneDeep(tab.value.document.request),\n      isDirty: true,\n    })\n    tabs.setActiveTab(newTab.id)\n  }\n}\n\nconst onResolveConfirmCloseAllTabs = () => {\n  if (exceptedTabID.value) tabs.closeOtherTabs(exceptedTabID.value)\n  confirmingCloseAllTabs.value = false\n}\n\nconst openReqRenameModal = (tabID?: string) => {\n  if (tabID) {\n    const tab = tabs.getTabRef(tabID)\n    reqName.value = tab.value.document.request.name\n    renameTabID.value = tabID\n  } else {\n    reqName.value = tabs.currentActiveTab.value.document.request.name\n  }\n  showRenamingReqNameModal.value = true\n}\n\nconst renameReqName = () => {\n  const tab = tabs.getTabRef(renameTabID.value ?? currentTabID.value)\n  if (tab.value) {\n    tab.value.document.request.name = reqName.value\n    tabs.updateTab(tab.value)\n  }\n  showRenamingReqNameModal.value = false\n}\n\n/**\n * This function is closed when the confirm tab is closed by some means (even saving triggers close)\n */\nconst onCloseConfirmSaveTab = () => {\n  if (!savingRequest.value && confirmingCloseForTabID.value) {\n    tabs.closeTab(confirmingCloseForTabID.value)\n    inspectionService.deleteTabInspectorResult(confirmingCloseForTabID.value)\n    confirmingCloseForTabID.value = null\n  }\n}\n\n/**\n * Called when the user confirms they want to save the tab\n */\nconst onResolveConfirmSaveTab = () => {\n  if (tabs.currentActiveTab.value.document.saveContext) {\n    invokeAction(\"request.save\")\n\n    if (confirmingCloseForTabID.value) {\n      tabs.closeTab(confirmingCloseForTabID.value)\n      confirmingCloseForTabID.value = null\n    }\n  } else {\n    savingRequest.value = true\n  }\n}\n\n/**\n * Called when the Save Request modal is done and is closed\n */\nconst onSaveModalClose = () => {\n  savingRequest.value = false\n  if (confirmingCloseForTabID.value) {\n    tabs.closeTab(confirmingCloseForTabID.value)\n    confirmingCloseForTabID.value = null\n  }\n}\n\nconst shareTabRequest = (tabID: string) => {\n  const tab = tabs.getTabRef(tabID)\n  if (tab.value) {\n    if (currentUser.value) {\n      invokeAction(\"share.request\", {\n        request: tab.value.document.request,\n      })\n    } else {\n      invokeAction(\"modals.login.toggle\")\n    }\n  }\n}\n\ndefineActionHandler(\"contextmenu.open\", ({ position, text }) => {\n  if (text) {\n    contextMenu.value = {\n      show: true,\n      position,\n      text,\n    }\n  } else {\n    contextMenu.value = {\n      show: false,\n      position,\n      text,\n    }\n  }\n})\n\nbindRequestToURLParams()\n\ndefineActionHandler(\"rest.request.open\", ({ doc }) => {\n  tabs.createNewTab(doc)\n})\n\ndefineActionHandler(\"request.rename\", openReqRenameModal)\ndefineActionHandler(\"tab.duplicate-tab\", ({ tabID }) => {\n  duplicateTab(tabID ?? currentTabID.value)\n})\ndefineActionHandler(\"tab.close-current\", () => {\n  removeTab(currentTabID.value)\n})\ndefineActionHandler(\"tab.close-other\", () => {\n  tabs.closeOtherTabs(currentTabID.value)\n})\ndefineActionHandler(\"tab.open-new\", addNewTab)\n\nuseService(HeaderInspectorService)\nuseService(EnvironmentInspectorService)\nuseService(ResponseInspectorService)\nfor (const inspectorDef of platform.additionalInspectors ?? []) {\n  useService(inspectorDef.service)\n}\n</script>\n"],"names":["ContextMenuService","Service","__publicField","menu","text","x","EnvironmentMenuService","getI18n","results","ref","markRaw","IconPlusCircle","invokeAction","urlAndParameterRegex","ParameterMenuService","input","newURL","url","regex","matches","params","match","key","value","queryParams","tabService","getService","RESTTabService","textRegex","IconArrowDownRight","isValidURL","URLMenuService","request","getDefaultRESTRequest","IconCopyPlus","props","__props","emit","__emit","contextMenuRef","contextMenuOptions","onClickOutside","contextMenuService","useService","handleClick","option","watch","val","options","Stream","require$$0","module","through","write","end","opts","data","ended","destroyed","buffer","_ended","stream","drain","_end","from","source","source_index","source_len","s","i","next","writeMethods","readMethods","readEvents","slice","duplexer","duplex","forEach","arr","fn","writer","reader","proxyWriter","proxyReader","proxyStream","handleEnd","reemit","methodName","method","func","args","err","mapStream","mapper","inputs","outputs","paused","lastWritten","inNext","errorEventName","writeQueue","queueData","number","nextToWrite","dataToWrite","wrappedMapper","callback","written","pauseStream","Decoder","require$$1","split_1","split","matcher","decoder","soFar","maxLength","trailing","piece","pieces","b","streamCombiner","streams","first","last","thepipe","recurse","onerror","es","exports","require$$2","require$$3","map","require$$4","pause","require$$5","require$$6","pipeline","require$$7","immediately","global","toMerge","endCount","e","done","a","array","isDone","l","continueOnError","reading","get","sync","mappedData","test","name","child","emitError","obj","Buffer","require$$8","to","str","body","browser","__generator","this","thisArg","_","t","f","y","verb","n","v","step","op","__values","o","m","__read","r","ar","error","carriage","dashes","NAME","isBlob","object","getFooter","boundary","getHeader","field","header","formDataIterator","form","form_1","form_1_1","_a","e_1_1","e_1","_b","_c","ucs2length","length","len","pos","util","copy","checkDataType","checkDataTypes","coerceToTypes","toHash","getProperty","escapeQuotes","varOccurences","varReplace","schemaHasRules","schemaHasRulesExcept","schemaUnknownRules","toQuotedString","getPathExpr","getPath","getData","unescapeFragment","unescapeJsonPointer","escapeFragment","escapeJsonPointer","dataType","strictNumbers","negate","EQUAL","AND","OK","NOT","dataTypes","code","types","COERCE_TO_TYPES","optionCoerceTypes","hash","IDENTIFIER","SINGLE_QUOTE","dataVar","expr","schema","rules","exceptKeyword","currentPath","jsonPointers","isNumber","path","joinPaths","prop","JSON_POINTER","RELATIVE_JSON_POINTER","$data","lvl","paths","up","jsonPointer","segments","segment","schema_obj","SchemaObject","traverse","jsonSchemaTraverseModule","cb","pre","post","_traverse","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","sch","escapeJsonPtr","URI","equal","resolve_1","resolve","normalizeId","getFullPath","resolveUrl","resolveIds","inlineRef","resolveSchema","compile","root","refVal","res","baseId","p","refPath","_getFullPath","id","resolveRecursive","getJsonPointer","parsedRef","PREVENT_SCOPE_CHANGE","parts","part","$ref","SIMPLE_INLINED","limit","checkNoRef","countKeys","item","count","normalize","TRAILING_SLASH_HASH","schemaId","baseIds","fullPaths","localRefs","self","fullPath","error_classes","errorSubclass","ValidationError","MissingRefError","errors","message","Subclass","fastJsonStableStringify","cycles","cmp","node","aobj","bobj","seen","stringify","out","seenIndex","keys","validate","it","$keyword","$ruleType","$async","$refKeywords","$id","$unknownKwd","$keywordsMsg","$lvl","$dataLvl","$schema","$schemaPath","$errSchemaPath","$breakOnError","$errorKeyword","$valid","$$outStack","__err","$top","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","$parentData","$parentDataProperty","arr2","i2","l2","$schemaKeys","arr3","$propertyKey","i3","l3","$sch","$passData","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","$ruleImplementsSomeKeyword","impl","errorClasses","stableStringify","validateGenerator","compile_1","refs","patterns","patternsHash","defaults","defaultsHash","customRules","c","checkCompiling","compilation","callValidate","formats","RULES","localCompile","cv","endCompiling","result","_schema","_root","isRoot","sourceCode","resolveRef","usePattern","useDefault","useCustomRule","vars","refValCode","patternCode","defaultCode","customRuleCode","makeValidate","refIndex","_refVal","refCode","resolvedRef","rootRefId","addLocalRef","localSchema","removeLocalRef","replaceLocalRef","refId","regexStr","index","valueStr","rule","deps","keyword","validateSchema","valid","inline","macro","compIndex","statement","Cache","cacheModule","DATE","DAYS","TIME","HOSTNAME","URIREF","URITEMPLATE","URL","UUID","JSON_POINTER_URI_FRAGMENT","formats_1","mode","date","time","date_time","uri","isLeapYear","year","month","day","full","hour","minute","second","timeZone","DATE_TIME_SEPARATOR","dateTime","NOT_URI_FRAGMENT","Z_ANCHOR","$refCode","$refVal","$message","$it","$nextValid","__callValidate","allOf","$closingBraces","$currentBaseId","$allSchemasEmpty","anyOf","$errs","$noEmptySchema","$wasComposite","comment","$comment","_const","$isData","contains","$idx","$dataNxt","$nextData","$nonEmptySchema","dependencies","$schemaDeps","$propertyDeps","$ownProperties","$property","$deps","$currentErrorPath","$prop","$useData","$propertyPath","$missingProperty","_enum","$vSchema","format","$schemaValue","$unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","_if","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","items","$additionalItems","$currErrSchemaPath","_limit","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opExpr","$opStr","_limitItems","_limitLength","_limitProperties","multipleOf","not","$allErrorsOption","oneOf","$prevValid","$passingSchemas","pattern","$regexp","properties","$key","$dataProperties","notProto","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","$checkAdditional","$required","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","propertyNames","$invalidName","required","$propertySch","$loopRequired","uniqueItems","$itemType","dotjs","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","ruleModules","ALL","KEYWORDS","TYPES","group","implKeywords","k","metaSchema","keywordsJsonPointers","keywords","j","async","compileAsync","meta","loadMetaSchemaOf","schemaObj","_compileAsync","loadMissingSchema","added","schemaPromise","removePromise","custom","$definition","$rDef","$compile","$inline","$macro","$ruleValidate","$validateCode","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","def_callRuleValidate","def_customError","definition_schema","definitionSchema","addKeyword","getKeyword","removeKeyword","validateKeyword","definition","_addRule","ruleGroup","rg","throwError","compileSchema","$dataMetaSchema","ajv","Ajv","addSchema","addMetaSchema","getSchema","removeSchema","addFormat","errorsText","_addSchema","_compile","customKeyword","META_SCHEMA_ID","META_IGNORE_OPTIONS","META_SUPPORT_DATA","setLogger","chooseGetId","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addDefaultMetaSchema","addInitialSchemas","schemaKeyRef","_meta","_skipValidation","checkUnique","skipValidation","throwOrLogError","defaultMeta","keyRef","_getSchemaObj","_getSchemaFragment","_removeAllSchemas","serialize","cacheKey","schemas","shouldAddSchema","cached","willValidate","recursiveMeta","currentOpts","_validate","_get$IdOrId","_getId","_get$Id","separator","$dataSchema","optsSchemas","metaOpts","logger","noop","lib","__extends","extendStatics","d","__","__createBinding","k2","desc","__setModuleDefault","__importStar","mod","__importDefault","harValidator","ajv_1","HARError","_super","_this","validateHarRequest","getHeaderName","headers","headerName","hasHeader","mimeTypeJson","isMimeTypeJSON","mimeType","type","reducer_1","reducer","accumulator","pair","currentValue","__spreadArray","pack","codeBuilder","DEFAULT_INDENTATION_CHARACTER","DEFAULT_LINE_JOIN","CodeBuilder","indent","join","line","indentationLevel","newLine","unreplacedCode","replacedOutput","replacer","postProcessor","_escape","escapeString","rawValue","delimiter","escapeChar","escapeNewlines","stringValue","escapeForSingleQuotes","escapeForDoubleQuotes","client","code_builder_1","escape_1","fullUrl","headersObj","allHeaders","postData","push","blank","target","client_1","headers_1","Keyword","File","jsType","objEmpty","filterEmpty","padBlock","padSize","padding","jsToEdn","js","queryObj","methods","param","formattedParams","__assign","getDecompressionMethods","acceptEncodings","supportedMethods","acceptEncoding","encoding","_d","clienthandler","cookies","decompressionMethods","contentType","isSupportedMethod","client_2","showBoilerplate","checkErrors","_e","printBody","_f","timeout","_g","insecureSkipVerify","errorPlaceholder","errorCheck","hasTimeout","hasClient","CRLF","uriObj","httpVersion","requestUrl","headerKeys","keyCapitalized","headerSection","messageBody","methodsWithBody","client_3","client_4","isRegexp","re","isObj","keySymbol","getOwnEnumPropSymbols","stringifyObject","pad","tokens","expandWhiteSpace","string","oneLined","ret","el","eol","objKeys","isSymbol","isClassic","stringify_object_1","addPostProcessor","requestOptions","optionString","inputOpts","contentTypeHeader","property","originalResult","settings","stringifiedSettings","reqOpts","stringifiedOptions","includeFS","unshift","cookiesString","cookie","attachment","multipart_1","client_5","nsDeclaration","nsClass","parameters","opening","literal","literalRepresentation","indentation","valuesRepresentation","keyValuePairs","helpers_1","req","head","tail","h","convertType","lastIndent","contents","closingTag","maxRedirects","namedErrors","noTags","shortTags","_h","_j","curlOptions","curlopts","escape","curlCookies","requestCode","requestPush","requestJoin","fields_1","cookieString","cookiesObj","hasBody","files_1","fileName","formValue","common","generatePowershellConvert","command","convert","commandOptions","common_1","protocol","host","sslContext","payload","headerCount","concatValues","concatType","values","pretty","indentLevel","currentIndent","closingBraceIndent","openingBrace","closingBrace","pretty_1","builtInMethods","qs","files","hasFiles","hasPayload","jsonPayload","nonFilePayload","payload_1","queryString","entries","entriesCount","entry","isLastItem","maybeComma","cookieHeader","acceptHeader","setCookies","setAccept","setContentType","otherHeaders","setHeaders","headerAdditions","rawMethod","capMethod","shell","quote","safe","isShellSafe","shell_1","getArg","short","longName","shortName","binary","globOff","prettifyJson","arg","formattedUrl","contentTypeHeaderName","noBoundary","unencoded","encoded","needsEncoding","flag","builtPayload","couldBeJSON","raw","flags","cliFlags","postDataText","buildString","concatArray","literalDeclaration","target_1","target_2","target_3","target_4","target_5","target_6","target_7","target_8","target_9","target_10","target_11","target_12","target_13","target_14","target_15","target_16","target_17","target_18","isTarget","got","addTarget","isClient","addTargetClient","targetId","utils","targets_1","availableTargets","clientId","extname","event_stream_1","form_data_1","querystring_1","url_1","form_data_2","har_validator_1","utils_1","targets_2","isHarEntry","HTTPSnippet","harRequest","http2VersionRegex_1","isNativeFormData_1","filename","data_1","urlWithParsedQuery","search","objectFieldIncludes","splitHarQueryParams","sep","pipe","S.split","rest","buildHarHeaders","buildHarQueryStrings","buildHarPostParams","RA.map","flow","S.trim","RA.toArray","file","buildHarPostData","buildHarRequest","CodegenDefinitions","generateCode","codegen","codegenInfo","E.tryCatch","E.chainW","E.fromPredicate","O.fromEither","useI18n","tabs","computed","cloneDeep","codegenType","errorState","aggregateEnvs","getAggregateEnvs","env","requestVariable","effectiveRequest","getEffectiveRESTRequest","makeRESTRequest","resolvesEnvsInBody","O.isSome","tippyActions","generatedCode","WRAP_LINES","useNestedSetting","useCodemirror","reactive","onMounted","platform","searchQuery","filteredCodegenDefinitions","copyIcon","copyResponse","useCopyResponse","downloadIcon","downloadResponse","useDownloadResponse","shortcodeBaseURL","embedOptions","useVModel","noActiveTab","tab","systemPrefersDark","usePreferredDark","embedColours","theme","darkThemeClasses","lightThemeClasses","selectedWidget","widgets","embedThemeIcon","IconMonitor","IconSun","IconMoon","removeEmbedOption","nextTab","buttonVariants","linkVariants","copyEmbed","copyButton","variationID","badge","copyLink","copyContent","widget","content","copyContent2","embedOption","createSharedRequest","copySharedRequest","hideModal","getBooleanAlgebra","B","getSemigroup","S","g","getMonoid","M","getSemigroupM","getSemiring","getRing","R","apply","identity","constant","flip","_i","ab","bc","cd","de","ef","fg","gh","hi","ij","tuple","increment","decrement","absurd","tupled","untupled","SK","predicate","getEndomorphismMonoid","dual","arity","isDataFirst","openInNewTabAction","customizeAction","deleteAction","parseRequest","translateToNewRequest","requestLabelColor","getMethodLabelColorClassOf","customizeSharedRequest","embedProperties","deleteSharedRequest","timeStamp","shortDateTime","ShortcodeListAdapter","deferInit","BehaviorSubject","forcedAttempt","lastCodeID","runGQLQuery","GetUserShortcodesDocument","E.isLeft","fetchedResult","BACKEND_PAGE_SIZE","userShortcodes","shortcode","userShortcode","codeId","newShortcode","oldShortcode","shortcodeCreated$","shortcodeCreatedSub","runAuthOnlyGQLSubscription","ShortcodeCreatedDocument","shortcodeRevoked$","shortcodeRevokedSub","ShortcodeDeletedDocument","shortcodeUpdated$","shortcodeUpdatedSub","ShortcodeUpdatedDocument","createShortcode","runMutation","CreateShortcodeDocument","deleteShortcode","DeleteShortcodeDocument","updateEmbedProperties","UpdateEmbedPropertiesDocument","colorMode","useColorMode","toast","useToast","showConfirmModal","confirmModalTitle","modalLoadingState","showShareRequestModal","sharedRequestID","shareRequestCreatingLoading","requestToShare","updateEmbedProperty","shareRequestID","customizeEmbedResult","restTab","currentUser","useReadonlyStream","adapter","adapterLoading","adapterError","sharedRequests","hasMoreSharedRequests","loading","onLoggedIn","initLoadTimeout","onAuthEvent","ev","shareRequest","codeID","onDeleteSharedRequest","backendDeleteShortcode","TE.match","getErrorMessage","loadMoreSharedRequests","displayShareRequestModal","show","displayCustomizeRequestModal","parsedEmbedProperties","sharedRequestResult","E.isRight","shredRequestID","copyToClipboard","resolveConfirmModal","title","openRequestInNewTab","defineActionHandler","mdAndLarger","useBreakpoints","breakpointsTailwind","myEnvironments","environments$","workspaceService","WorkspaceService","workspace","teamListAdapter","myTeams","teamListFetched","REMEMBERED_TEAM_ID","useLocalState","switchToTeamWorkspace","team","newTeams","t2","teamEnvListAdapter","TeamEnvironmentAdapter","teamListLoading","teamAdapterError","teamEnvironmentList","handleEnvironmentChange","selectedEnvironmentIndex","isEnvActive","selectedEnv","useStream","selectedEnvironmentIndex$","setSelectedEnvironmentIndex","isTeamSelected","selectedEnvTab","newVal","environment","teamEnv","envSelectorActions","envQuickPeekActions","globalEnvs","globalEnv$","environmentVariables","editGlobalEnv","editEnv","scope","replaceWithVariable","editingName","editingValue","addEnvironment","addGlobalEnvVariable","addEnvironmentVariable","newVariables","updateTeamEnvironment","variableName","environmentIDRef","toRef","copyTextIcon","copyText","activeTab","refAutoReset","IconCopy","copyEnvironmentID","IconCheck","hoppEnvImporter","parsedContents","safeParseJSON","parsed","O.isNone","TE.left","IMPORTER_INVALID_FILE_FORMAT","parsedValues","unwrappedContent","O.toNullable","contentEntry","valueEntry","validationResult","z","entityReference","Environment","environments","TE.right","postmanEnvSchema","postmanEnvImporter","unwrappedEntry","uniqueID","entires","environmentsExporter","isEnvironmentGistExportInProgress","isTeamEnvironment","environmentJson","HoppEnvironmentsImport","IconFolderPlus","FileSource","showImportFailedError","handleImportToStore","PostmanEnvironmentsImport","IconPostman","insomniaEnvironmentsImport","IconInsomnia","insomniaEnvImporter","otherEnvs","EnvironmentsImportFromGIST","GistSource","HoppEnvironmentsExport","IconUser","initializeDownloadCollection","HoppEnvironmentsGistExporter","accessToken","gistExporter","importerModules","exporterModules","enabledExporters","variables","secret","appendEnvironments","importToTeams","envImportPromises","res2","createTeamEnvironment","getEnvironmentJson","environmentObj","environmentIndex","newEnvironment","exportAsJSON","secretEnvironmentService","SecretEnvironmentService","confirmRemove","exportEnvironmentAsJSON","edit","duplicate","exportAsJsonEl","propertiesAction","removeEnvironment","deleteTeamEnvironment","duplicateEnvironments","duplicateEnvironment","showModalImportExport","showModalDetails","action","editingEnvironment","editingVariableName","secretOptionSelected","showEnvironmentsPropertiesModal","environmentsPropertiesModalActiveTab","selectedEnvironmentID","isTeamViewer","displayModalAdd","shouldDisplay","displayModalEdit","resetSelectedData","displayModalImportExport","editEnvironment","showEnvironmentProperties","environmentID","envName","isSecret","teamEnvToEdit","deleteEnvironment","createEnvironment","getGlobalVariables","editingEnvironmentIndex","envIndex","environmentType","globalEnv","globalEnvironment","switchToMyEnvironments","updateEnvironmentType","updateSelectedTeam","newSelectedTeam","newEnvironmentType","newWorkspace","newValue","showConfirmRemoveEnvModal","showModalNew","editingVariableValue","position","displayModalNew","removeSelectedEnvironment","selectedEnvIndex","getSelectedEnvironmentIndex","additionalVars","envVars","newTeamEnvironmentList","isEqual","selectedNavigationTab","copyCodeIcon","goingToShow","copyRequestCode","camelCase","camelcase","nextChrUpper","leadingHyphens","chr","decamelize","joinString","lowercase","notCamelcase","chrLower","chrString","looksLikeNumber","tokenizeArgString","argString","prevC","ii","DefaultValuesForTypeKey","mixin","YargsParser","_mixin","argsInput","inputIsString","aliases","combineAliases","configuration","configObjects","envPrefix","notFlagsOption","notFlagsArgv","newAliases","defaulted","negative","negatedBoolean","opt","assignment","extendAliases","alias","checkConfiguration","notFlags","argv","argvReturn","truncatedArg","broken","letters","isUnknownOptionAsArg","pushPositional","checkAllAliases","eatArray","eatNargs","setArg","defaultValue","applyEnvVars","setConfig","setConfigObjects","applyDefaultsAndAliases","applyCoercions","setPlaceholderKeys","hasKey","maybeCoercedNumber","maybeCoerceNumber","argAfterEqualSign","toEat","isUndefined","available","consumed","argsToSet","nargsCount","defVal","processValue","shouldStripQuotes","addNewAlias","splitKey","setKey","keyProperties","stripQuotes","configLookup","configKey","configPath","config","resolvedConfigPath","resolveConfig","setConfigObject","ex","prev","fullKey","configObject","configOnly","prefix","envVar","coerce","applied","ali","canLog","sanitizeKey","isTypeArray","isValueArray","toCheck","setAlias","hasAnyFlag","flagsKeys","hasFlagsMatching","hasAllShortFlags","hasAllFlags","isUnknownOption","defaultForType","guessType","num","aliasArrays","combined","change","aliasArray","lastAlias","orig","parser","yargsParser","defaultRESTReq","getAuthFromAuthHeader","O.fromNullable","O.map","O.filter","O.chain","kv","username","password","O.tryCatch","O.getOrElse","getAuthFromParsedArgs","parsedArguments","O.fromPredicate","objHasProperty","getAuthFromURLObject","urlObject","getAuthObject","O.alt","getHeaderPair","getHeaders","objHasArrayProperty","A.map","A.filterMap","tupleToRecord","O.getOrElseW","rawContentType","recordToHoppHeaders","A.filter","isDangling","getQueries","O.of","A.partition","Sep.bimap","or","getMethodFromXArg","xarg","getMethodByDeduction","R.or","O.some","O.none","getMethod","getProtocolFromURL","burl","isURLValid","urlString","parseURL","urlText","u","getURLObject","location","A.findFirstMap","concatParams","danglingParams","O.Do","O.bind","originString","dp","stringArrayJoin","replaceables","paperCuts","S.replace","replaceLongOptions","curlCmd","A.reduce","replaceFunction","prescreenXArgs","preProcessCurlCommand","curlCommand","optionChoose","choice","A.findFirst","pred","isJSON","isXML","rawData","prettifyXml","isHTML","isFormData","boundaryMatch","isXWWWFormUrlEncoded","rd","detectContentType","multipartFunctions","rct","O.match","boundaryContentMatch","RA.filter","q","nameMatch","nameArr","getFormDataBody","RA.filterMap","getHTMLBody","formatHTML","getXMLBody","getFormattedJSON","parsedJSON","getXWWWFormUrlEncodedBody","decoded","pairs","parseBody","sourceXml","xmlFormat","htmlString","emptyTags","element","getBodyFromContentType","rData","cType","ctype","parsedBody","getContentTypeFromRawContentType","S.toLowerCase","RNEA.head","ct","knownContentTypes","getContentTypeFromRawData","getBody","ctBody","getFArgumentMultipartData","fArgs","parseCurlCommand","urlEncodedData","headerObject","hoppHeaders","auth","O.altW","hasBodyBeenParsed","queries","stringToPair","newQueries","multipartUploads","bodyObject","bodyObjectValue","finalBody","parseCurlToHoppRESTReq","curl","curlEditor","view","handleImport","pasteIcon","IconClipboard","handlePaste","clearContent","interceptorService","InterceptorService","subscribeToStream","useStreamSubscriber","newEndpoint","newMethod","curlText","showCurlImportModal","showCodegenModal","showSaveRequestModal","methodTippyActions","sendTippyActions","saveTippyActions","clearAll","copyRequestAction","saveRequestAction","history","restHistory$","requestCancelFunc","userHistories","history2","inspectionService","InspectionService","newSendRequest","ensureMethodInEndpoint","cancel","streamPromise","runRESTRequest$","streamResult","responseState","updateRESTResponse","errorResponse","endpoint","domain","onPasteUrl","pastedData","isCURL","curl2","currentTabID","onUnmounted","tab2","cancelRequest","updateMethod","onSelectMethod","response","fetchingShareLink","cycleUpMethod","currentIndex","cycleDownMethod","saveRequest","saveCtx","editRESTRequest","UpdateRequestDocument","isCustomMethod","COLUMN_LAYOUT","useSetting","tabResults","oldRequest","updatedValue","isEqualHoppRESTRequest","renameAction","closeAction","closeOthersAction","duplicateAction","shareRequestAction","translateExtURLParams","urlParams","initialReq","parseV1ExtURL","parseV0ExtURL","resolvedReq","isJSONContentType","HeaderInspectorService","headerKey","IconAlertTriangle","HOPP_ENVIRONMENT_REGEX","isENVInString","EnvironmentInspectorService","useStreamStatic","aggregateEnvsWithSecrets$","locations","newErrors","envKeys","extractedEnv","exEnv","formattedExEnv","itemLocation","envs","envsMap","existingEnv","currentSelectedEnvironment","getCurrentEnvironment","currentTab","hasSecretEnv","currentEnvironmentType","getSelectedEnvironmentType","invokeActionType","headerValues","paramsKeys","paramsValues","ResponseInspectorService","_req","hasErrors","savingRequest","confirmingCloseForTabID","confirmingCloseAllTabs","showRenamingReqNameModal","reqName","unsavedTabsCount","exceptedTabID","renameTabID","contextMenu","activeTabs","bindRequestToURLParams","route","useRoute","query","safelyExtractRESTRequest","onTabUpdate","addNewTab","sortTabs","removeTab","tabID","tabState","closeOtherTabsAction","isTabDirty","dirtyTabCount","balanceDirtyTabCount","duplicateTab","newTab","onResolveConfirmCloseAllTabs","openReqRenameModal","renameReqName","onCloseConfirmSaveTab","onResolveConfirmSaveTab","onSaveModalClose","shareTabRequest","doc","inspectorDef"],"mappings":"y5FAoFO,MAAMA,WAA2BC,EAAQ,CAAzC,kCAGGC,GAAA,iBAAsC,KAMvC,aAAaC,EAAmB,CACrC,KAAK,MAAM,IAAIA,EAAK,OAAQA,CAAI,CAClC,CAMO,WAAWC,EAAmC,CAK5C,OAJO,MAAM,KAAK,KAAK,MAAM,OAAO,CAAC,EAAE,IAAKC,GAAMA,EAAE,WAAWD,CAAI,CAAC,EAEtD,QAASC,GAAMA,EAAE,OAAO,CAG/C,CACF,CAvBEH,GADWF,GACY,KAAK,wBCpEvB,MAAMM,WAA+BL,EAA+B,CAApE,kCAGGC,GAAA,SAAIK,GAAQ,GAEJL,GAAA,cAAS,eAERA,GAAA,mBAAc,KAAK,KAAKF,EAAkB,GAElD,eAAgB,CAClB,KAAA,YAAY,aAAa,IAAI,CACpC,CAEA,WAAWI,EAA0C,CAC7C,MAAAI,EAAUC,EAAyB,CAAA,CAAE,EAC3C,OAAAD,EAAQ,MAAQ,CACd,CACE,GAAI,cACJ,KAAM,CACJ,KAAM,OACN,KAAM,KAAK,EAAE,uCAAuC,CACtD,EACA,KAAME,GAAQC,EAAc,EAC5B,OAAQ,IAAM,CACZC,GAAa,yBAA0B,CACrC,QAAS,GACT,aAAcR,CAAA,CACf,CACH,CACF,CAAA,EAEkC,CAClC,QAASI,EAAQ,KAAA,CAGrB,CACF,CAnCEN,GADWI,GACY,KAAK,oWCJxBO,GAAuB,IAAI,OAAO,gBAAgB,EAoBjD,MAAMC,WAA6Bb,EAA+B,CAAlE,kCAGGC,GAAA,SAAIK,GAAQ,GAEJL,GAAA,cAAS,aAERA,GAAA,mBAAc,KAAK,KAAKF,EAAkB,GAElD,eAAgB,CAClB,KAAA,YAAY,aAAa,IAAI,CACpC,CAOQ,cAAce,EAAgC,CACpD,IAAIX,EAAOW,EACPC,EAGA,GAAAZ,EAAK,WAAW,MAAM,EAAG,CACrB,MAAAa,EAAM,IAAI,IAAIb,CAAI,EACfY,EAAAC,EAAI,OAASA,EAAI,SACnBb,EAAAa,EAAI,OAAO,MAAM,CAAC,CAC3B,CAEA,MAAMC,EAAQ,eACRC,EAAUf,EAAK,SAASc,CAAK,EAC7BE,EAAgB,CAAA,EAGtB,UAAWC,KAASF,EAAS,CAC3B,KAAM,EAAGG,EAAKC,CAAK,EAAIF,EACvBD,EAAOE,CAAG,EAAIC,CAChB,CAEO,MAAA,CAAE,OAAAH,EAAQ,OAAAJ,EACnB,CAOQ,aAAaZ,EAAc,CACjC,KAAM,CAAE,OAAAgB,EAAQ,OAAAJ,CAAA,EAAW,KAAK,cAAcZ,CAAI,EAE5CoB,EAAc,CAAA,EACpB,SAAW,CAACF,EAAKC,CAAK,IAAK,OAAO,QAAQH,CAAM,EAC9CI,EAAY,KAAK,CAAE,IAAAF,EAAK,MAAAC,EAAO,OAAQ,GAAM,EAGzC,MAAAE,EAAaC,GAAWC,EAAc,EAQ5C,GALAF,EAAW,iBAAiB,MAAM,SAAS,QAAQ,OAAS,CAC1D,GAAGA,EAAW,iBAAiB,MAAM,SAAS,QAAQ,OACtD,GAAGD,CAAA,EAGDR,EACFS,EAAW,iBAAiB,MAAM,SAAS,QAAQ,SAAWT,MACzD,CAEC,MAAAY,EAAY,IAAI,OAAO,MAAMxB,EAAK,QAAQ,MAAO,EAAE,CAAC,MAAO,IAAI,EAG/DY,EADJS,EAAW,iBAAiB,MAAM,SAAS,QAAQ,SACxB,QAAQG,EAAW,EAAE,EAClDH,EAAW,iBAAiB,MAAM,SAAS,QAAQ,SAAWT,CAChE,CACF,CAEA,WAAWZ,EAA0C,CAC7C,MAAAI,EAAUC,EAAyB,CAAA,CAAE,EAEvC,OAAAI,GAAqB,KAAKT,CAAI,IAChCI,EAAQ,MAAQ,CACd,CACE,GAAI,cACJ,KAAM,CACJ,KAAM,OACN,KAAM,KAAK,EAAE,6BAA6B,CAC5C,EACA,KAAME,GAAQmB,EAAkB,EAChC,OAAQ,IAAM,CACZ,KAAK,aAAazB,CAAI,CACxB,CACF,CAAA,GAIgC,CAClC,QAASI,EAAQ,KAAA,CAIrB,CACF,CAnGEN,GADWY,GACY,KAAK,kCCjB9B,SAASgB,GAAWb,EAAa,CAC3B,GAAA,CAGF,WAAI,IAAIA,CAAG,EACJ,QACO,CAGP,MADS,iDACD,KAAKA,CAAG,CACzB,CACF,CAEO,MAAMc,WAAuB9B,EAA+B,CAA5D,kCAGGC,GAAA,SAAIK,GAAQ,GAEJL,GAAA,cAAS,OAERA,GAAA,mBAAc,KAAK,KAAKF,EAAkB,GAC1CE,GAAA,eAAU,KAAK,KAAKyB,EAAc,GAE1C,eAAgB,CAClB,KAAA,YAAY,aAAa,IAAI,CACpC,CAMQ,WAAWV,EAAa,CAE9B,MAAMe,EAAU,CACd,GAAGC,GAAsB,EACzB,SAAUhB,CAAA,EAGZ,KAAK,QAAQ,aAAa,CACxB,QAAAe,EACA,QAAS,EAAA,CACV,CACH,CAEA,WAAW5B,EAA0C,CAC7C,MAAAI,EAAUC,EAAyB,CAAA,CAAE,EAEvC,OAAAqB,GAAW1B,CAAI,IACjBI,EAAQ,MAAQ,CACd,CACE,GAAI,WACJ,KAAM,CACJ,KAAM,OACN,KAAM,KAAK,EAAE,sCAAsC,CACrD,EACA,KAAME,GAAQwB,EAAY,EAC1B,OAAQ,IAAM,CACZ,KAAK,WAAW9B,CAAI,CACtB,CACF,CAAA,GAIgC,CAClC,QAASI,EAAQ,KAAA,CAIrB,CACF,CAvDEN,GADW6B,GACY,KAAK,sLCI9B,MAAAI,EAAAC,EAMAC,EAAAC,EAIAC,EAAA9B,EAAA,IAAA,EAEA+B,EAAA/B,EAAA,CAAA,CAAA,EAEAgC,GAAAF,EAAA,IAAA,CACEF,EAAA,YAAA,CAAiB,CAAA,EAGnB,MAAAK,EAAAC,GAAA3C,EAAA,EAEA2C,GAAArC,EAAA,EACAqC,GAAA7B,EAAA,EACA6B,GAAAZ,EAAA,EAEA,MAAAa,EAAAC,GAAA,CACEA,EAAA,OAAA,EACAR,EAAA,YAAA,CAAiB,EAGnB,OAAAS,GAAA,IAAA,CAAAX,EAAA,KAAAA,EAAA,IAAA,EAC+BY,GAAA,CAE3B,GAAAA,GAAAZ,EAAA,KAAA,CACE,MAAAa,EAAAN,EAAA,WAAAP,EAAA,IAAA,EACAK,EAAA,MAAAQ,CAA2B,CAC7B,EACF,CAAA,UAAA,EAAA,CACkB,opBCzEpB,IAAIC,EAASC,GAOHC,UAAiBC,EAC3BA,EAAQ,QAAUA,EAIlB,SAASA,EAASC,EAAOC,EAAKC,EAAM,CAClCF,EAAQA,GAAS,SAAUG,EAAM,CAAE,KAAK,MAAMA,CAAI,CAAG,EACrDF,EAAMA,GAAO,UAAY,CAAE,KAAK,MAAM,IAAI,CAAG,EAE7C,IAAIG,EAAQ,GAAOC,EAAY,GAAOC,EAAS,CAAA,EAAIC,EAAS,GACxDC,EAAS,IAAIZ,EACjBY,EAAO,SAAWA,EAAO,SAAW,GACpCA,EAAO,OAAS,GAGhBA,EAAO,YAAc,EAAEN,GAAQA,EAAK,cAAgB,IAEpDM,EAAO,MAAQ,SAAUL,EAAM,CAC7B,OAAAH,EAAM,KAAK,KAAMG,CAAI,EACd,CAACK,EAAO,MAChB,EAED,SAASC,GAAQ,CACf,KAAMH,EAAO,QAAU,CAACE,EAAO,QAAQ,CACrC,IAAIL,EAAOG,EAAO,MAAO,EACzB,GAAYH,IAAT,KACD,OAAOK,EAAO,KAAK,KAAK,EAExBA,EAAO,KAAK,OAAQL,CAAI,CAC3B,CACF,CAEDK,EAAO,MAAQA,EAAO,KAAO,SAAUL,EAAM,CAE3C,OAAGI,IACAJ,IAAS,OAAMI,EAAS,IAC3BD,EAAO,KAAKH,CAAI,EAChBM,EAAO,GACAD,CACR,EAQDA,EAAO,GAAG,MAAO,UAAY,CAC3BA,EAAO,SAAW,GACf,CAACA,EAAO,UAAYA,EAAO,aAC5B,QAAQ,SAAS,UAAY,CAC3BA,EAAO,QAAS,CACxB,CAAO,CACP,CAAG,EAED,SAASE,GAAQ,CACfF,EAAO,SAAW,GAClBP,EAAI,KAAKO,CAAM,EACZ,CAACA,EAAO,UAAYA,EAAO,aAC5BA,EAAO,QAAS,CACnB,CAED,OAAAA,EAAO,IAAM,SAAUL,EAAM,CAC3B,GAAG,CAAAC,EACH,OAAAA,EAAQ,GACL,UAAU,QAAQI,EAAO,MAAML,CAAI,EACtCO,EAAM,EACCF,CACR,EAEDA,EAAO,QAAU,UAAY,CAC3B,GAAG,CAAAH,EACH,OAAAA,EAAY,GACZD,EAAQ,GACRE,EAAO,OAAS,EAChBE,EAAO,SAAWA,EAAO,SAAW,GACpCA,EAAO,KAAK,OAAO,EACZA,CACR,EAEDA,EAAO,MAAQ,UAAY,CACzB,GAAG,CAAAA,EAAO,OACV,OAAAA,EAAO,OAAS,GACTA,CACR,EAEDA,EAAO,OAAS,UAAY,CAC1B,OAAGA,EAAO,SACRA,EAAO,OAAS,GAChBA,EAAO,KAAK,QAAQ,GAEtBC,EAAO,EAGHD,EAAO,QACTA,EAAO,KAAK,OAAO,EACdA,CACR,EACMA,CACT,0BCvGIZ,GAASC,GAQbc,GACA,SAASA,EAAMC,EAAQ,CACrB,GAAG,MAAM,QAAQA,CAAM,EAAG,CAC1B,IAAIC,EAAe,EAAGC,EAAaF,EAAO,OACxC,OAAOD,EAAM,SAAU,EAAG,CACxB,OAAGE,EAAeC,EAChB,KAAK,KAAK,OAAQF,EAAOC,GAAc,CAAC,EAExC,KAAK,KAAK,KAAK,EACV,EACb,CAAK,CACF,CACD,IAAIE,EAAI,IAAInB,GAAUoB,EAAI,EAC1BD,EAAE,MAAQ,GACVA,EAAE,QAAU,GACZA,EAAE,SAAW,GACbA,EAAE,SAAW,GACbA,EAAE,OAAS,GACXA,EAAE,MAAQ,GACVA,EAAE,MAAQ,UAAY,CACpBA,EAAE,QAAU,GACZA,EAAE,OAAS,EACZ,EACD,SAASE,GAAQ,CAEf,GADAF,EAAE,QAAU,GACT,CAAAA,EAAE,MACL,KAAM,CAACA,EAAE,OAAS,CAACA,EAAE,QAAUH,EAAO,KAAKG,EAAGC,IAAK,UAAY,CAC1D,CAACD,EAAE,OAAS,CAACA,EAAE,QACd,QAAQ,SAASE,CAAI,CAC/B,CAAK,GACC,CACH,CACD,OAAAF,EAAE,OAAS,UAAY,CACrBA,EAAE,QAAU,GACZA,EAAE,OAAS,GACXE,EAAM,CACP,EACDF,EAAE,GAAG,MAAO,UAAY,CACtBA,EAAE,MAAQ,GACVA,EAAE,SAAW,GACb,QAAQ,SAASA,EAAE,OAAO,CAC9B,CAAG,EACDA,EAAE,QAAU,UAAY,CACtBA,EAAE,MAAQ,GACVA,EAAE,KAAK,OAAO,CACf,EAOD,QAAQ,SAAS,UAAY,CACvBA,EAAE,SAASA,EAAE,OAAQ,CAC7B,CAAG,EACMA,CACT,ECnEInB,GAASC,GACTqB,GAAe,CAAC,QAAS,MAAO,SAAS,EACzCC,GAAc,CAAC,SAAU,OAAO,EAChCC,GAAa,CAAC,OAAQ,OAAO,EAC7BC,GAAQ,MAAM,UAAU,MAE5BC,GAAiBC,GAEjB,SAASC,GAASC,EAAKC,EAAI,CACvB,GAAID,EAAI,QACJ,OAAOA,EAAI,QAAQC,CAAE,EAGzB,QAASV,EAAI,EAAGA,EAAIS,EAAI,OAAQT,IAC5BU,EAAGD,EAAIT,CAAC,EAAGA,CAAC,CAEpB,CAEA,SAASO,GAAOI,EAAQC,EAAQ,CAC5B,IAAIpB,EAAS,IAAIZ,GACbQ,EAAQ,GAEZ,OAAAoB,GAAQN,GAAcW,CAAW,EAEjCL,GAAQL,GAAaW,CAAW,EAEhCN,GAAQJ,GAAYW,CAAW,EAE/BH,EAAO,GAAG,MAAOI,CAAS,EAE1BL,EAAO,GAAG,QAAS,UAAW,CAC5BnB,EAAO,KAAK,OAAO,CACzB,CAAK,EAEDmB,EAAO,GAAG,QAASM,CAAM,EACzBL,EAAO,GAAG,QAASK,CAAM,EAEzBzB,EAAO,SAAWmB,EAAO,SACzBnB,EAAO,SAAWoB,EAAO,SAElBpB,EAEP,SAASqB,EAAYK,EAAY,CAC7B1B,EAAO0B,CAAU,EAAIC,EAErB,SAASA,GAAS,CACd,OAAOR,EAAOO,CAAU,EAAE,MAAMP,EAAQ,SAAS,CACpD,CACJ,CAED,SAASG,EAAYI,EAAY,CAC7B1B,EAAO0B,CAAU,EAAIC,EAErB,SAASA,GAAS,CACd3B,EAAO,KAAK0B,CAAU,EACtB,IAAIE,EAAOR,EAAOM,CAAU,EAC5B,GAAIE,EACA,OAAOA,EAAK,MAAMR,EAAQ,SAAS,EAEvCA,EAAO,KAAKM,CAAU,CACzB,CACJ,CAED,SAASH,EAAYG,EAAY,CAC7BN,EAAO,GAAGM,EAAYD,CAAM,EAE5B,SAASA,GAAS,CACd,IAAII,EAAOhB,GAAM,KAAK,SAAS,EAC/BgB,EAAK,QAAQH,CAAU,EACvB1B,EAAO,KAAK,MAAMA,EAAQ6B,CAAI,CACjC,CACJ,CAED,SAASL,GAAY,CACjB,GAAI,CAAA5B,EAGJ,CAAAA,EAAQ,GACR,IAAIiC,EAAOhB,GAAM,KAAK,SAAS,EAC/BgB,EAAK,QAAQ,KAAK,EAClB7B,EAAO,KAAK,MAAMA,EAAQ6B,CAAI,EACjC,CAED,SAASJ,EAAOK,EAAK,CACjB9B,EAAO,KAAK,QAAS8B,CAAG,CAC3B,CACL,CC/EA,IAAI1C,GAASC,GAAkB,OAO/B0C,GAAiB,SAAUC,EAAQtC,EAAM,CAEvC,IAAIM,EAAS,IAAIZ,GACb6C,EAAS,EACTC,EAAU,EACVtC,EAAQ,GACRuC,EAAS,GACTtC,EAAY,GACZuC,EAAc,EACdC,EAAS,GAEb3C,EAAOA,GAAQ,GACf,IAAI4C,EAAiB5C,EAAK,SAAW,UAAY,QAI7C6C,EAAa,CAAE,EAEnBvC,EAAO,SAAW,GAClBA,EAAO,SAAW,GAElB,SAASwC,EAAW7C,EAAM8C,EAAQ,CAChC,IAAIC,EAAcN,EAAc,EAehC,GAbIK,IAAWC,GAET/C,IAAS,QACXK,EAAO,KAAK,MAAMA,EAAQ,CAAC,OAAQL,CAAI,CAAC,EAE1CyC,IACAM,KAGAH,EAAWE,CAAM,EAAI9C,EAInB4C,EAAW,eAAeG,CAAW,EAAG,CAC1C,IAAIC,EAAcJ,EAAWG,CAAW,EACxC,cAAOH,EAAWG,CAAW,EACtBF,EAAUG,EAAaD,CAAW,CAC1C,CAEDR,IACGD,IAAWC,IACTC,IAAQA,EAAS,GAAOnC,EAAO,KAAK,OAAO,GAC3CJ,GAAOH,EAAK,EAElB,CAED,SAASgB,EAAMqB,EAAKnC,EAAM8C,EAAQ,CAC7B5C,IACHwC,EAAS,IAEL,CAACP,GAAOpC,EAAK,WACf8C,EAAU7C,EAAM8C,CAAM,EAGpBX,GACF9B,EAAO,KAAK,MAAMA,EAAQ,CAAEsC,EAAgBR,CAAG,CAAE,EAGnDO,EAAS,GACV,CAID,SAASO,EAAe1F,EAAOuF,EAAQI,EAAU,CAC/C,OAAOb,EAAO,KAAK,KAAM9E,EAAO,SAAS4E,EAAKnC,EAAK,CACjDkD,EAASf,EAAKnC,EAAM8C,CAAM,CAChC,CAAK,CACF,CAEDzC,EAAO,MAAQ,SAAUL,EAAM,CAC7B,GAAGC,EAAO,MAAM,IAAI,MAAM,4BAA4B,EACtDyC,EAAS,GACTJ,IAEA,GAAI,CAEF,IAAIa,EAAUF,EAAcjD,EAAMsC,EAAQxB,CAAI,EAC9C,OAAA0B,EAAUW,IAAY,GACf,CAACX,CACT,OAAQL,EAAK,CAGZ,GAAGO,EACD,MAAMP,EACR,OAAArB,EAAKqB,CAAG,EACD,CAACK,CACT,CACF,EAED,SAAS1C,EAAKE,EAAM,CAIlB,GAFAC,EAAQ,GACRI,EAAO,SAAW,GACfL,IAAS,OACV,OAAO6C,EAAU7C,EAAMsC,CAAM,EACpBA,GAAUC,IACnBlC,EAAO,SAAW,GAAOA,EAAO,KAAK,KAAK,EAAGA,EAAO,QAAS,EAEhE,CAED,OAAAA,EAAO,IAAM,SAAUL,EAAM,CACxBC,GACHH,EAAIE,CAAI,CACT,EAEDK,EAAO,QAAU,UAAY,CAC3BJ,EAAQC,EAAY,GACpBG,EAAO,SAAWA,EAAO,SAAWmC,EAAS,GAC7C,QAAQ,SAAS,UAAY,CAC3BnC,EAAO,KAAK,OAAO,CACzB,CAAK,CACF,EACDA,EAAO,MAAQ,UAAY,CACzBmC,EAAS,EACV,EAEDnC,EAAO,OAAS,UAAY,CAC1BmC,EAAS,EACV,EAEMnC,CACT,EC1IA+C,GAAiB1D,GCMbE,GAAUF,GACV2D,GAAUC,GAA0B,cAExCC,GAAiBC,GAIjB,SAASA,GAAOC,EAASpB,EAAQ7C,EAAS,CACxC,IAAIkE,EAAU,IAAIL,GACdM,EAAQ,GACRC,EAAYpE,GAAWA,EAAQ,UAC/BqE,EAAW,EAAArE,GAAWA,EAAQ,WAAa,IAC7B,OAAOiE,GAAtB,aACDpB,EAASoB,EAASA,EAAU,MACzBA,IACHA,EAAU,SAEZ,SAAS5E,EAAKwB,EAAQyD,EAAO,CAC3B,GAAGzB,EAAQ,CACT,GAAI,CACFyB,EAAQzB,EAAOyB,CAAK,CACrB,OACM3B,EAAK,CACV,OAAO9B,EAAO,KAAK,QAAS8B,CAAG,CAChC,CACkB,OAAO2B,EAAvB,KACDzD,EAAO,MAAMyD,CAAK,CACrB,MAECzD,EAAO,MAAMyD,CAAK,CACrB,CAED,SAAShD,EAAMT,EAAQF,EAAQ,CAC7B,IAAI4D,IAAWJ,GAAwB,IAAMxD,GAAQ,MAAMsD,CAAO,EAGlE,GAFAE,EAAQI,EAAO,IAAK,EAEhBH,GAAaD,EAAM,OAASC,EAC9B,OAAOvD,EAAO,KAAK,QAAS,IAAI,MAAM,wBAAwB,CAAC,EAEjE,QAASQ,EAAI,EAAGA,EAAIkD,EAAO,OAAQlD,IAAK,CACtC,IAAIiD,EAAQC,EAAOlD,CAAC,EACpBhC,EAAKwB,EAAQyD,CAAK,CACnB,CACF,CAED,OAAOlE,GAAQ,SAAUoE,EAAG,CAC1BlD,EAAK,KAAM4C,EAAQ,MAAMM,CAAC,CAAC,CAC5B,EACD,UAAY,CACPN,EAAQ,KACT5C,EAAK,KAAM4C,EAAQ,KAAK,EACvBG,GAAYF,GAAS,MACtB9E,EAAK,KAAM8E,CAAK,EAClB,KAAK,MAAM,IAAI,CACnB,CAAG,CACH,CC9DA,IAAIxC,GAAWzB,GACXE,GAAU0D,GAEdW,GAAiB,UAAY,CAC3B,IAAIC,EAQJ,GANG,UAAU,QAAU,GAAK,MAAM,QAAQ,UAAU,CAAC,CAAC,EACpDA,EAAU,UAAU,CAAC,EAErBA,EAAU,CAAE,EAAC,MAAM,KAAK,SAAS,EAGhCA,EAAQ,QAAU,EACnB,OAAOtE,GAAS,EACb,GAAGsE,EAAQ,QAAU,EACxB,OAAOA,EAAQ,CAAC,EAElB,IAAIC,EAAQD,EAAQ,CAAC,EACjBE,EAAOF,EAAQA,EAAQ,OAAS,CAAC,EACjCG,EAAUlD,GAASgD,EAAOC,CAAI,EAIlC,SAASE,EAASJ,EAAS,CACtBA,EAAQ,OAAS,IAEpBA,EAAQ,CAAC,EAAE,KAAKA,EAAQ,CAAC,CAAC,EAC1BI,EAAQJ,EAAQ,MAAM,CAAC,CAAC,EACzB,CAEDI,EAAQJ,CAAO,EAEf,SAASK,GAAW,CAClB,IAAIrC,EAAO,CAAE,EAAC,MAAM,KAAK,SAAS,EAClCA,EAAK,QAAQ,OAAO,EACpBmC,EAAQ,KAAK,MAAMA,EAASnC,CAAI,CACjC,CAID,QAAQrB,EAAI,EAAGA,EAAIqD,EAAQ,OAAS,EAAGrD,IACrCqD,EAAQrD,CAAC,EAAE,GAAG,QAAS0D,CAAO,EAEhC,OAAOF,CACT,eCtCA,IAAI5E,EAASC,GAAkB,OAC3B8E,EAAKC,EACL7E,EAAU0D,GACV9C,EAAOkE,GACPtD,EAASuD,GACTC,EAAMC,GACNC,EAAQC,GACRvB,EAAQwB,GACRC,EAAWC,GACXC,EAAcC,EAAO,cAAgB,QAAQ,SAEjDZ,EAAG,OAAS/E,EACZ+E,EAAG,QAAU5E,EACb4E,EAAG,KAAOhE,EACVgE,EAAG,OAASpD,EACZoD,EAAG,IAAMI,EACTJ,EAAG,MAAQM,EACXN,EAAG,MAAQhB,EACXgB,EAAG,SAAWA,EAAG,QAAUA,EAAG,KAAOS,EAMrCT,EAAG,OACHA,EAAG,MAAQ,UAA0B,CACnC,IAAIa,EAAU,CAAE,EAAC,MAAM,KAAK,SAAS,EACjCA,EAAQ,SAAW,GAAMA,EAAQ,CAAC,YAAa,QACjDA,EAAUA,EAAQ,CAAC,GAErB,IAAIhF,EAAS,IAAIZ,EACjBY,EAAO,gBAAgB,CAAC,EACxB,IAAIiF,EAAW,EACf,OAAAjF,EAAO,SAAWA,EAAO,SAAW,GAEhCgF,EAAQ,OACVA,EAAQ,QAAQ,SAAUE,EAAG,CAC3BA,EAAE,KAAKlF,EAAQ,CAAC,IAAK,EAAK,CAAC,EAC3B,IAAIJ,EAAQ,GACZsF,EAAE,GAAG,MAAO,UAAY,CACnBtF,IACHA,EAAQ,GACRqF,IACGA,GAAYD,EAAQ,QACrBhF,EAAO,KAAK,KAAK,EAC3B,CAAO,CACP,CAAK,EAED,QAAQ,SAAS,UAAY,CAC3BA,EAAO,KAAK,KAAK,CACvB,CAAK,EAGHA,EAAO,MAAQ,SAAUL,EAAM,CAC7B,KAAK,KAAK,OAAQA,CAAI,CACvB,EACDK,EAAO,QAAU,UAAY,CAC3BgF,EAAQ,QAAQ,SAAUE,EAAG,CACxBA,EAAE,SAASA,EAAE,QAAS,CAC/B,CAAK,CACF,EACMlF,CACR,EAODmE,EAAG,QACHA,EAAG,WAAa,SAAUgB,EAAM,CAC9B,GAAmB,OAAOA,GAAtB,WACF,MAAM,IAAI,MAAM,mDAAmD,EAErE,IAAIC,EAAI,IAAIhG,EACRiG,EAAQ,CAAA,EAAIC,EAAS,GACzB,OAAAF,EAAE,MAAQ,SAAUG,EAAG,CACrBF,EAAM,KAAKE,CAAC,CACb,EACDH,EAAE,IAAM,UAAY,CAClBE,EAAS,GACTH,EAAK,KAAME,CAAK,CACjB,EACDD,EAAE,SAAW,GACbA,EAAE,SAAW,GACbA,EAAE,QAAU,UAAY,CACtBA,EAAE,SAAWA,EAAE,SAAW,GACvB,CAAAE,GACHH,EAAK,IAAI,MAAM,sBAAsB,EAAGE,CAAK,CAC9C,EACMD,CACR,EAKDjB,EAAG,UAAY,SAAUkB,EAAO,CAC9B,IAAIrF,EAAS,IAAIZ,EACboB,EAAI,EACJ2B,EAAS,GACTvC,EAAQ,GAKZ,GAHAI,EAAO,SAAW,GAClBA,EAAO,SAAW,GAEf,CAAC,MAAM,QAAQqF,CAAK,EACrB,MAAM,IAAI,MAAM,oCAAoC,EAEtD,OAAArF,EAAO,OAAS,UAAY,CAC1B,GAAG,CAAAJ,EACH,CAAAuC,EAAS,GAET,QADIoD,EAAIF,EAAM,OACR7E,EAAI+E,GAAK,CAACpD,GAAU,CAACvC,GACzBI,EAAO,KAAK,OAAQqF,EAAM7E,GAAG,CAAC,EAE7BA,GAAK+E,GAAK,CAAC3F,IACZA,EAAQ,GAAMI,EAAO,SAAW,GAAOA,EAAO,KAAK,KAAK,GAC3D,EACD,QAAQ,SAASA,EAAO,MAAM,EAC9BA,EAAO,MAAQ,UAAY,CACxBmC,EAAS,EACX,EACDnC,EAAO,QAAU,UAAY,CAC3BJ,EAAQ,GACRI,EAAO,KAAK,OAAO,CACpB,EACMA,CACR,EASDmE,EAAG,SACH,SAAUvC,EAAM4D,EAAiB,CAC/B,IAAIxF,EAAS,IAAIZ,EACboB,EAAI,EACJ2B,EAAS,GACTvC,EAAQ,GACR6F,EAAU,GAKd,GAHAzF,EAAO,SAAW,GAClBA,EAAO,SAAW,GAEA,OAAO4B,GAAtB,WACD,MAAM,IAAI,MAAM,8CAA8C,EAEhE5B,EAAO,GAAG,MAAO,UAAY,CAAEJ,EAAQ,EAAI,CAAE,EAE7C,SAAS8F,EAAK5D,EAAKnC,EAAM,CAEpBmC,GACD9B,EAAO,KAAK,QAAS8B,CAAG,EACpB0D,GAAiBxF,EAAO,KAAK,KAAK,GAC7B,UAAU,OAAS,GAC5BA,EAAO,KAAK,OAAQL,CAAI,EAE1BmF,EAAY,UAAY,CACtB,GAAG,EAAAlF,GAASuC,GAAUsD,GACtB,GAAI,CACFA,EAAU,GACV7D,EAAK,KAAK5B,EAAQQ,IAAK,UAAY,CACjCiF,EAAU,GACVC,EAAI,MAAM,KAAM,SAAS,CACnC,CAAS,CACF,OAAQ5D,EAAK,CACZ9B,EAAO,KAAK,QAAS8B,CAAG,CACzB,CACP,CAAK,CACF,CACD,OAAA9B,EAAO,OAAS,UAAY,CAC1BmC,EAAS,GACTuD,EAAK,CACN,EACD,QAAQ,SAASA,CAAG,EACpB1F,EAAO,MAAQ,UAAY,CACxBmC,EAAS,EACX,EACDnC,EAAO,QAAU,UAAY,CAC3BA,EAAO,KAAK,KAAK,EACjBA,EAAO,KAAK,OAAO,EACnBJ,EAAQ,EACT,EACMI,CACR,EAODmE,EAAG,QAAU,SAAUwB,EAAM,CAC3B,OAAOxB,EAAG,QAAQ,SAAexE,EAAM,CACrC,IAAIiG,EACJ,GAAI,CACFA,EAAaD,EAAKhG,CAAI,CACvB,OAAQmC,EAAK,CACZ,OAAO,KAAK,KAAK,QAASA,CAAG,CAC9B,CACG8D,IAAe,QACjB,KAAK,KAAK,OAAQA,CAAU,CAClC,CAAG,CACF,EAMDzB,EAAG,WAAa,SAAU0B,EAAM,CAC9B,OAAO1B,EAAG,QAAQ,SAASxE,EAAK,CAC9B,IAAIY,EAAI,KACJsF,EAAKlG,CAAI,GACXY,EAAE,MAAMZ,CAAI,CAElB,CAAG,CACF,EAMDwE,EAAG,YAAc,SAAUnC,EAAQ,CACjC,OAAOmC,EAAG,QAAQ,SAASxE,EAAM,CAC/B,IAAIY,EAAI,KACRZ,EAAK,QAAQ,SAASuF,EAAG,CACvB3E,EAAE,MAAMyB,EAAOkD,CAAC,CAAC,CACvB,CAAK,CACL,CAAG,CACF,EAMDf,EAAG,IAAM,SAAU2B,EAAM,CACvB,OAAO3B,EAAG,QAAQ,SAAUxE,EAAM,CACrB,GAAG,MAAM,KAAK,SAAS,EAC/BmG,EAAM,QAAQ,MAAMA,EAAMnG,CAAI,EACxB,QAAQ,MAAMA,CAAI,EAC3B,KAAK,KAAK,OAAQA,CAAI,CAC1B,CAAG,CACF,EAODwE,EAAG,MAAQ,SAAU4B,EAAO,CAE1B,OAAO5B,EAAG,OAAO4B,EAAM,MAAOA,EAAM,MAAM,CAE3C,EAQD5B,EAAG,MAAQ,SAAUhF,EAAS,CAC5B,IAAI6G,EAAY,CAAC,EAAE7G,GAAUA,EAAQ,OACrC,OAAOgF,EAAG,QAAQ,SAAUxE,EAAM,CAChC,IAAIsG,EACJ,GAAI,CACCtG,IACDsG,EAAM,KAAK,MAAMtG,EAAK,SAAQ,CAAE,EACnC,OAAQmC,EAAK,CACZ,OAAIkE,EACK,KAAK,KAAK,QAASlE,CAAG,EACxB,QAAQ,MAAMA,EAAK,uBAAwBnC,CAAI,CACvD,CAEEsG,IAAQ,QACT,KAAK,KAAK,OAAQA,CAAG,CAC3B,CAAG,CACF,EAKD9B,EAAG,UAAY,UAAY,CACzB,IAAI+B,EAASC,GAAkB,OAC/B,OAAOhC,EAAG,QAAQ,SAAUe,EAAE,CAC5B,OAAO,KAAK,UAAUgB,EAAO,SAAShB,CAAC,EAAIA,EAAE,SAAQ,EAAKA,CAAC,EAAI;AAAA,CACnE,CAAG,CACF,EAUDf,EAAG,QAAU,SAAUhE,EAAMiG,EAAI,CAC/B,OAAOjC,EAAG,SAASA,EAAG,MAAMhE,CAAI,EAAGgE,EAAG,KAAKiC,CAAE,CAAC,CAC/C,EAQDjC,EAAG,KAAO,SAAUkC,EAAK,CAGvB,GAAkB,OAAOA,GAAtB,WACD,OAAOlC,EAAG,KAAKkC,CAAG,EAEpB,IAAIvC,EAAQ,GACZ,OAAOK,EAAG,QAAQ,SAAUxE,EAAM,CAChC,OAAImE,GACF,KAAK,KAAK,OAAQuC,CAAG,EACvBvC,EAAQ,GACR,KAAK,KAAK,OAAQnE,CAAI,EACf,EACX,CAAG,CACF,EAODwE,EAAG,KAAO,SAAUtB,EAAU,CAC5B,IAAI5B,EAAM,CAAE,EACZ,OAAOkD,EAAG,QAAQ,SAAUxE,EAAM,CAAEsB,EAAI,KAAKtB,CAAI,CAAG,EAClD,UAAY,CACV,IAAI2G,EAAO,OAAO,SAASrF,EAAI,CAAC,CAAC,EAAI,OAAO,OAAOA,CAAG,EAClDA,EAAI,KAAK,EAAE,EACf,KAAK,KAAK,OAAQqF,CAAI,EACtB,KAAK,KAAK,KAAK,EACZzD,GAAUA,EAAS,KAAMyD,CAAI,CACtC,CAAK,CACJ,EAEDnC,EAAG,SAAW,UAAY,CACxB,MAAM,IAAI,MAAM,0CAA0C,CAC5D,QC7VA,IAAAoC,GAAiB,OAAO,MAAQ,SAAW,KAAK,SAAW,OAAO,4BCAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GA2BA,IAAIC,EAAeC,GAAQA,EAAK,aAAgB,SAAUC,EAASJ,EAAM,CACrE,IAAIK,EAAI,CAAE,MAAO,EAAG,KAAM,UAAW,CAAE,GAAIC,EAAE,CAAC,EAAI,EAAG,MAAMA,EAAE,CAAC,EAAG,OAAOA,EAAE,CAAC,CAAI,EAAE,KAAM,CAAE,EAAE,IAAK,CAAA,CAAI,EAAEC,EAAGC,EAAGF,EAAG,EAC/G,OAAO,EAAI,CAAE,KAAMG,EAAK,CAAC,EAAG,MAASA,EAAK,CAAC,EAAG,OAAUA,EAAK,CAAC,CAAG,EAAE,OAAO,QAAW,aAAe,EAAE,OAAO,QAAQ,EAAI,UAAW,CAAE,OAAO,IAAO,GAAG,EACvJ,SAASA,EAAKC,EAAG,CAAE,OAAO,SAAUC,EAAG,CAAE,OAAOC,EAAK,CAACF,EAAGC,CAAC,CAAC,CAAI,CAAG,CAClE,SAASC,EAAKC,EAAI,CACd,GAAIN,EAAG,MAAM,IAAI,UAAU,iCAAiC,EAC5D,KAAOF,GAAG,GAAI,CACV,GAAIE,EAAI,EAAGC,IAAMF,EAAIO,EAAG,CAAC,EAAI,EAAIL,EAAE,OAAYK,EAAG,CAAC,EAAIL,EAAE,SAAcF,EAAIE,EAAE,SAAcF,EAAE,KAAKE,CAAC,EAAG,GAAKA,EAAE,OAAS,EAAEF,EAAIA,EAAE,KAAKE,EAAGK,EAAG,CAAC,CAAC,GAAG,KAAM,OAAOP,EAE3J,OADIE,EAAI,EAAGF,IAAGO,EAAK,CAACA,EAAG,CAAC,EAAI,EAAGP,EAAE,KAAK,GAC9BO,EAAG,CAAC,EAAC,CACT,IAAK,GAAG,IAAK,GAAGP,EAAIO,EAAI,MACxB,IAAK,GAAG,OAAAR,EAAE,QAAgB,CAAE,MAAOQ,EAAG,CAAC,EAAG,KAAM,EAAK,EACrD,IAAK,GAAGR,EAAE,QAASG,EAAIK,EAAG,CAAC,EAAGA,EAAK,CAAC,CAAC,EAAG,SACxC,IAAK,GAAGA,EAAKR,EAAE,IAAI,MAAOA,EAAE,KAAK,IAAG,EAAI,SACxC,QACI,GAAMC,EAAID,EAAE,KAAM,EAAAC,EAAIA,EAAE,OAAS,GAAKA,EAAEA,EAAE,OAAS,CAAC,KAAOO,EAAG,CAAC,IAAM,GAAKA,EAAG,CAAC,IAAM,GAAI,CAAER,EAAI,EAAG,QAAW,CAC5G,GAAIQ,EAAG,CAAC,IAAM,IAAM,CAACP,GAAMO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAKO,EAAG,CAAC,EAAIP,EAAE,CAAC,GAAK,CAAED,EAAE,MAAQQ,EAAG,CAAC,EAAG,KAAQ,CACtF,GAAIA,EAAG,CAAC,IAAM,GAAKR,EAAE,MAAQC,EAAE,CAAC,EAAG,CAAED,EAAE,MAAQC,EAAE,CAAC,EAAGA,EAAIO,EAAI,KAAQ,CACrE,GAAIP,GAAKD,EAAE,MAAQC,EAAE,CAAC,EAAG,CAAED,EAAE,MAAQC,EAAE,CAAC,EAAGD,EAAE,IAAI,KAAKQ,CAAE,EAAG,KAAQ,CAC/DP,EAAE,CAAC,GAAGD,EAAE,IAAI,IAAG,EACnBA,EAAE,KAAK,IAAK,EAAE,QACrB,CACDQ,EAAKb,EAAK,KAAKI,EAASC,CAAC,CAC5B,OAAQzB,EAAG,CAAEiC,EAAK,CAAC,EAAGjC,CAAC,EAAG4B,EAAI,CAAE,QAAW,CAAED,EAAID,EAAI,CAAI,CAC1D,GAAIO,EAAG,CAAC,EAAI,EAAG,MAAMA,EAAG,CAAC,EAAG,MAAO,CAAE,MAAOA,EAAG,CAAC,EAAIA,EAAG,CAAC,EAAI,OAAQ,KAAM,GAC7E,CACL,EACIC,EAAYX,GAAQA,EAAK,UAAa,SAASY,EAAG,CAClD,IAAI9G,EAAI,OAAO,QAAW,YAAc,OAAO,SAAU+G,EAAI/G,GAAK8G,EAAE9G,CAAC,EAAGC,EAAI,EAC5E,GAAI8G,EAAG,OAAOA,EAAE,KAAKD,CAAC,EACtB,GAAIA,GAAK,OAAOA,EAAE,QAAW,SAAU,MAAO,CAC1C,KAAM,UAAY,CACd,OAAIA,GAAK7G,GAAK6G,EAAE,SAAQA,EAAI,QACrB,CAAE,MAAOA,GAAKA,EAAE7G,GAAG,EAAG,KAAM,CAAC6G,EACvC,CACT,EACI,MAAM,IAAI,UAAU9G,EAAI,0BAA4B,iCAAiC,CACzF,EACIgH,EAAUd,GAAQA,EAAK,QAAW,SAAUY,EAAGL,EAAG,CAClD,IAAIM,EAAI,OAAO,QAAW,YAAcD,EAAE,OAAO,QAAQ,EACzD,GAAI,CAACC,EAAG,OAAOD,EACf,IAAI7G,EAAI8G,EAAE,KAAKD,CAAC,EAAGG,EAAGC,EAAK,CAAE,EAAEvC,EAC/B,GAAI,CACA,MAAQ8B,IAAM,QAAUA,KAAM,IAAM,EAAEQ,EAAIhH,EAAE,KAAM,GAAE,MAAMiH,EAAG,KAAKD,EAAE,KAAK,CAC5E,OACME,EAAO,CAAExC,EAAI,CAAE,MAAOwC,CAAO,CAAG,QAC/B,CACJ,GAAI,CACIF,GAAK,CAACA,EAAE,OAASF,EAAI9G,EAAE,SAAY8G,EAAE,KAAK9G,CAAC,CAClD,QACO,CAAE,GAAI0E,EAAG,MAAMA,EAAE,KAAQ,CACpC,CACD,OAAOuC,CACX,EACArD,EAAA,WAAqB,GACrBA,EAA2B,iBAAAA,EAAA,OAAiB,OAC5C,IAAIuD,EAAW;AAAA,EACXC,EAAS,IAAI,OAAO,CAAC,EACrBC,EAAO,OAAO,YACdC,EAAS,SAAUC,EAAQ,CAC3B,OAAO,OAAOA,GAAW,UACrB,OAAOA,EAAO,aAAgB,YAC9B,OAAOA,EAAO,MAAS,UACvB,OAAOA,EAAO,QAAW,YACzB,OAAOA,EAAO,aAAgB,YAC9B,gBAAgB,KAAKA,EAAOF,CAAI,CAAC,CACzC,EACAzD,EAAA,OAAiB0D,EACjB,IAAIE,EAAY,SAAUC,EAAU,CAAE,MAAO,GAAG,OAAOL,CAAM,EAAE,OAAOK,CAAQ,EAAE,OAAOL,CAAM,EAAE,OAAOD,EAAS,OAAO,CAAC,CAAC,GACpHO,EAAY,SAAUD,EAAUnC,EAAMqC,EAAO,CAC7C,IAAIC,EAAS,GACb,OAAAA,GAAU,GAAG,OAAOR,CAAM,EAAE,OAAOK,CAAQ,EAAE,OAAON,CAAQ,EAC5DS,GAAU,yCAA0C,OAAOtC,EAAM,GAAI,KAC7D1B,EAAQ,QAAQ+D,CAAK,IACzBC,GAAU,eAAgB,OAAOD,EAAM,KAAM,GAAI,EAAE,OAAOR,CAAQ,EAClES,GAAU,iBAAiB,OAAOD,EAAM,MAAQ,0BAA0B,GAEvE,GAAG,OAAOC,CAAM,EAAE,OAAOT,EAAS,OAAO,CAAC,CAAC,CACtD,EACIU,EAAmB,SAAUC,EAAML,EAAU,CAC7C,IAAIM,EAAQC,EAAUC,EAAI3C,EAAMpI,EAAOgL,EACnCC,EAAKC,EACT,OAAOpC,EAAY,KAAM,SAAUqC,EAAI,CACnC,OAAQA,EAAG,MAAK,CACZ,IAAK,GACDA,EAAG,KAAK,KAAK,CAAC,EAAG,GAAI,GAAI,EAAE,CAAC,EAC5BN,EAASnB,EAASkB,CAAI,EAAGE,EAAWD,EAAO,OAC3CM,EAAG,MAAQ,EACf,IAAK,GACD,OAAML,EAAS,KAAa,CAAC,EAAa,CAAC,GAC3CC,EAAKlB,EAAOiB,EAAS,MAAO,CAAC,EAAG1C,EAAO2C,EAAG,CAAC,EAAG/K,EAAQ+K,EAAG,CAAC,EACnD,CAAC,EAAaP,EAAUD,EAAUnC,EAAMpI,CAAK,CAAC,GACzD,IAAK,GAED,OADAmL,EAAG,KAAI,KACEzE,EAAQ,QAAQ1G,CAAK,EACvB,CAAC,EAAc0J,EAAS1J,EAAM,OAAM,CAAE,CAAC,EADN,CAAC,EAAa,CAAC,EAE3D,IAAK,GACD,OAAAmL,EAAG,KAAI,EACA,CAAC,EAAa,CAAC,EAC1B,IAAK,GAAG,MAAO,CAAC,EAAanL,CAAK,EAClC,IAAK,GACDmL,EAAG,KAAI,EACPA,EAAG,MAAQ,EACf,IAAK,GAAG,MAAO,CAAC,EAAalB,CAAQ,EACrC,IAAK,GACDkB,EAAG,KAAI,EACPA,EAAG,MAAQ,EACf,IAAK,GACD,OAAAL,EAAWD,EAAO,OACX,CAAC,EAAa,CAAC,EAC1B,IAAK,GAAG,MAAO,CAAC,EAAa,EAAE,EAC/B,IAAK,IACD,OAAAG,EAAQG,EAAG,OACXF,EAAM,CAAE,MAAOD,GACR,CAAC,EAAa,EAAE,EAC3B,IAAK,IACD,GAAI,CACIF,GAAY,CAACA,EAAS,OAASI,EAAKL,EAAO,SAAYK,EAAG,KAAKL,CAAM,CAC5E,QACO,CAAE,GAAII,EAAK,MAAMA,EAAI,KAAQ,CACrC,MAAO,CAAC,CAAC,EACb,IAAK,IAAI,MAAO,CAAC,EAAaX,EAAUC,CAAQ,CAAC,EACjD,IAAK,IACD,OAAAY,EAAG,KAAI,EACA,CAAC,CAAC,CAChB,CACT,CAAK,CACL,EACAzE,EAAA,iBAA2BiE,kBCxJ3BS,GAAiB,SAAoBzC,EAAK,CAKxC,QAJI0C,EAAS,EACTC,EAAM3C,EAAI,OACV4C,EAAM,EACNvL,EACGuL,EAAMD,GACXD,IACArL,EAAQ2I,EAAI,WAAW4C,GAAK,EACxBvL,GAAS,OAAUA,GAAS,OAAUuL,EAAMD,IAE9CtL,EAAQ2I,EAAI,WAAW4C,CAAG,GACrBvL,EAAQ,QAAW,OAAQuL,KAGpC,OAAOF,CACT,EChBAG,GAAiB,CACf,KAAMC,GACN,cAAeC,GACf,eAAgBC,GAChB,cAAeC,GACf,OAAQC,GACR,YAAaC,GACb,aAAcC,GACd,MAAOpK,GACP,WAAY4D,GACZ,cAAeyG,GACf,WAAYC,GACZ,eAAgBC,GAChB,qBAAsBC,GACtB,mBAAoBC,GACpB,eAAgBC,GAChB,YAAaC,GACb,QAASC,GACT,QAASC,GACT,iBAAkBC,GAClB,oBAAqBC,GACrB,eAAgBC,GAChB,kBAAmBC,EACrB,EAGA,SAASnB,GAAK9B,EAAGjB,EAAI,CACnBA,EAAKA,GAAM,GACX,QAAS3I,KAAO4J,EAAGjB,EAAG3I,CAAG,EAAI4J,EAAE5J,CAAG,EAClC,OAAO2I,CACT,CAGA,SAASgD,GAAcmB,EAAU5K,EAAM6K,EAAeC,EAAQ,CAC5D,IAAIC,EAAQD,EAAS,QAAU,QAC3BE,EAAMF,EAAS,OAAS,OACxBG,EAAKH,EAAS,IAAM,GACpBI,EAAMJ,EAAS,GAAK,IACxB,OAAQF,EAAQ,CACd,IAAK,OAAQ,OAAO5K,EAAO+K,EAAQ,OACnC,IAAK,QAAS,OAAOE,EAAK,iBAAmBjL,EAAO,IACpD,IAAK,SAAU,MAAO,IAAMiL,EAAKjL,EAAOgL,EAClB,UAAYhL,EAAO+K,EAAQ,WAAaC,EACxCE,EAAM,iBAAmBlL,EAAO,KACtD,IAAK,UAAW,MAAO,WAAaA,EAAO+K,EAAQ,WAAaC,EACzCE,EAAM,IAAMlL,EAAO,QACnBgL,EAAMhL,EAAO+K,EAAQ/K,GACpB6K,EAAiBG,EAAMC,EAAK,YAAcjL,EAAO,IAAO,IAAM,IACtF,IAAK,SAAU,MAAO,WAAaA,EAAO+K,EAAQ,IAAMH,EAAW,KAC5CC,EAAiBG,EAAMC,EAAK,YAAcjL,EAAO,IAAO,IAAM,IACrF,QAAS,MAAO,UAAYA,EAAO+K,EAAQ,IAAMH,EAAW,GAC7D,CACH,CAGA,SAASlB,GAAeyB,EAAWnL,EAAM6K,EAAe,CACtD,OAAQM,EAAU,OAAM,CACtB,IAAK,GAAG,OAAO1B,GAAc0B,EAAU,CAAC,EAAGnL,EAAM6K,EAAe,EAAI,EACpE,QACE,IAAIO,EAAO,GACPC,EAAQzB,GAAOuB,CAAS,EACxBE,EAAM,OAASA,EAAM,SACvBD,EAAOC,EAAM,KAAO,IAAK,KAAOrL,EAAO,OACvCoL,GAAQ,UAAYpL,EAAO,iBAC3B,OAAOqL,EAAM,KACb,OAAOA,EAAM,MACb,OAAOA,EAAM,QAEXA,EAAM,QAAQ,OAAOA,EAAM,QAC/B,QAASpE,KAAKoE,EACZD,IAASA,EAAO,OAAS,IAAO3B,GAAcxC,EAAGjH,EAAM6K,EAAe,EAAI,EAE5E,OAAOO,CACV,CACH,CAGA,IAAIE,GAAkB1B,GAAO,CAAE,SAAU,SAAU,UAAW,UAAW,MAAM,CAAE,EACjF,SAASD,GAAc4B,EAAmBJ,EAAW,CACnD,GAAI,MAAM,QAAQA,CAAS,EAAG,CAE5B,QADIE,EAAQ,CAAA,EACHxK,EAAE,EAAGA,EAAEsK,EAAU,OAAQtK,IAAK,CACrC,IAAI,EAAIsK,EAAUtK,CAAC,GACfyK,GAAgB,CAAC,GACZC,IAAsB,SAAW,IAAM,WAASF,EAAMA,EAAM,MAAM,EAAI,EAChF,CACD,GAAIA,EAAM,OAAQ,OAAOA,CAC7B,KAAS,IAAIC,GAAgBH,CAAS,EAClC,MAAO,CAACA,CAAS,EACZ,GAAII,IAAsB,SAAWJ,IAAc,QACxD,MAAO,CAAC,OAAO,EAEnB,CAGA,SAASvB,GAAOtI,EAAK,CAEnB,QADIkK,EAAO,CAAA,EACF3K,EAAE,EAAGA,EAAES,EAAI,OAAQT,IAAK2K,EAAKlK,EAAIT,CAAC,CAAC,EAAI,GAChD,OAAO2K,CACT,CAGA,IAAIC,GAAa,wBACbC,GAAe,QACnB,SAAS7B,GAAY/L,EAAK,CACxB,OAAO,OAAOA,GAAO,SACX,IAAMA,EAAM,IACZ2N,GAAW,KAAK3N,CAAG,EACjB,IAAMA,EACN,KAAOgM,GAAahM,CAAG,EAAI,IACzC,CAGA,SAASgM,GAAapD,EAAK,CACzB,OAAOA,EAAI,QAAQgF,GAAc,MAAM,EAC5B,QAAQ,MAAO,KAAK,EACpB,QAAQ,MAAO,KAAK,EACpB,QAAQ,MAAO,KAAK,EACpB,QAAQ,MAAO,KAAK,CACjC,CAGA,SAAS3B,GAAcrD,EAAKiF,EAAS,CACnCA,GAAW,SACX,IAAIhO,EAAU+I,EAAI,MAAM,IAAI,OAAOiF,EAAS,GAAG,CAAC,EAChD,OAAOhO,EAAUA,EAAQ,OAAS,CACpC,CAGA,SAASqM,GAAWtD,EAAKiF,EAASC,EAAM,CACtC,OAAAD,GAAW,WACXC,EAAOA,EAAK,QAAQ,MAAO,MAAM,EAC1BlF,EAAI,QAAQ,IAAI,OAAOiF,EAAS,GAAG,EAAGC,EAAO,IAAI,CAC1D,CAGA,SAAS3B,GAAe4B,EAAQC,EAAO,CACrC,GAAI,OAAOD,GAAU,UAAW,MAAO,CAACA,EACxC,QAAS/N,KAAO+N,EAAQ,GAAIC,EAAMhO,CAAG,EAAG,MAAO,EACjD,CAGA,SAASoM,GAAqB2B,EAAQC,EAAOC,EAAe,CAC1D,GAAI,OAAOF,GAAU,UAAW,MAAO,CAACA,GAAUE,GAAiB,MACnE,QAASjO,KAAO+N,EAAQ,GAAI/N,GAAOiO,GAAiBD,EAAMhO,CAAG,EAAG,MAAO,EACzE,CAGA,SAASqM,GAAmB0B,EAAQC,EAAO,CACzC,GAAI,OAAOD,GAAU,WACrB,QAAS/N,KAAO+N,EAAQ,GAAI,CAACC,EAAMhO,CAAG,EAAG,OAAOA,EAClD,CAGA,SAASsM,GAAe1D,EAAK,CAC3B,MAAO,IAAOoD,GAAapD,CAAG,EAAI,GACpC,CAGA,SAAS2D,GAAY2B,EAAaJ,EAAMK,EAAcC,EAAU,CAC9D,IAAIC,EAAOF,EACG,SAAaL,GAAQM,EAAW,GAAK,8CACpCA,EAAW,SAAaN,EAAO,SAAa,YAAiBA,EAAO,YACnF,OAAOQ,GAAUJ,EAAaG,CAAI,CACpC,CAGA,SAAS7B,GAAQ0B,EAAaK,EAAMJ,EAAc,CAChD,IAAIE,EACU/B,GADH6B,EACkB,IAAMtB,GAAkB0B,CAAI,EAC5BxC,GAAYwC,CAAI,CADa,EAE1D,OAAOD,GAAUJ,EAAaG,CAAI,CACpC,CAGA,IAAIG,GAAe,sBACfC,GAAwB,mCAC5B,SAAShC,GAAQiC,EAAOC,EAAKC,EAAO,CAClC,IAAIC,EAAIC,EAAa5M,EAAMrC,EAC3B,GAAI6O,IAAU,GAAI,MAAO,WACzB,GAAIA,EAAM,CAAC,GAAK,IAAK,CACnB,GAAI,CAACF,GAAa,KAAKE,CAAK,EAAG,MAAM,IAAI,MAAM,yBAA2BA,CAAK,EAC/EI,EAAcJ,EACdxM,EAAO,UACX,KAAS,CAEL,GADArC,EAAU6O,EAAM,MAAMD,EAAqB,EACvC,CAAC5O,EAAS,MAAM,IAAI,MAAM,yBAA2B6O,CAAK,EAG9D,GAFAG,EAAK,CAAChP,EAAQ,CAAC,EACfiP,EAAcjP,EAAQ,CAAC,EACnBiP,GAAe,IAAK,CACtB,GAAID,GAAMF,EAAK,MAAM,IAAI,MAAM,gCAAkCE,EAAK,gCAAkCF,CAAG,EAC3G,OAAOC,EAAMD,EAAME,CAAE,CACtB,CAED,GAAIA,EAAKF,EAAK,MAAM,IAAI,MAAM,sBAAwBE,EAAK,gCAAkCF,CAAG,EAEhG,GADAzM,EAAO,QAAWyM,EAAME,GAAO,IAC3B,CAACC,EAAa,OAAO5M,CAC1B,CAID,QAFI4L,EAAO5L,EACP6M,EAAWD,EAAY,MAAM,GAAG,EAC3B/L,EAAE,EAAGA,EAAEgM,EAAS,OAAQhM,IAAK,CACpC,IAAIiM,EAAUD,EAAShM,CAAC,EACpBiM,IACF9M,GAAQ6J,GAAYY,GAAoBqC,CAAO,CAAC,EAChDlB,GAAQ,OAAS5L,EAEpB,CACD,OAAO4L,CACT,CAGA,SAASQ,GAAW3G,EAAGzB,EAAG,CACxB,OAAIyB,GAAK,KAAazB,GACdyB,EAAI,MAAQzB,GAAG,QAAQ,iBAAkB,IAAI,CACvD,CAGA,SAASwG,GAAiB9D,EAAK,CAC7B,OAAO+D,GAAoB,mBAAmB/D,CAAG,CAAC,CACpD,CAGA,SAASgE,GAAehE,EAAK,CAC3B,OAAO,mBAAmBiE,GAAkBjE,CAAG,CAAC,CAClD,CAGA,SAASiE,GAAkBjE,EAAK,CAC9B,OAAOA,EAAI,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CACpD,CAGA,SAAS+D,GAAoB/D,EAAK,CAChC,OAAOA,EAAI,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,CACnD,CC5OA,IAAI6C,GAAO7J,GAEXqN,GAAiBC,GAEjB,SAASA,GAAa1G,EAAK,CACzBiD,GAAK,KAAKjD,EAAK,IAAI,CACrB,qBCNI2G,GAAWC,GAAA,QAAiB,SAAUrB,EAAQ9L,EAAMoN,EAAI,CAEtD,OAAOpN,GAAQ,aACjBoN,EAAKpN,EACLA,EAAO,CAAA,GAGToN,EAAKpN,EAAK,IAAMoN,EAChB,IAAIC,EAAO,OAAOD,GAAM,WAAcA,EAAKA,EAAG,KAAO,UAAW,GAC5DE,EAAOF,EAAG,MAAQ,UAAW,CAAA,EAEjCG,GAAUvN,EAAMqN,EAAKC,EAAMxB,EAAQ,GAAIA,CAAM,CAC/C,EAGAoB,GAAS,SAAW,CAClB,gBAAiB,GACjB,MAAO,GACP,SAAU,GACV,qBAAsB,GACtB,cAAe,GACf,IAAK,EACP,EAEAA,GAAS,cAAgB,CACvB,MAAO,GACP,MAAO,GACP,MAAO,GACP,MAAO,EACT,EAEAA,GAAS,cAAgB,CACvB,YAAa,GACb,WAAY,GACZ,kBAAmB,GACnB,aAAc,EAChB,EAEAA,GAAS,aAAe,CACtB,QAAS,GACT,KAAM,GACN,MAAO,GACP,SAAU,GACV,QAAS,GACT,QAAS,GACT,iBAAkB,GAClB,iBAAkB,GAClB,WAAY,GACZ,UAAW,GACX,UAAW,GACX,QAAS,GACT,OAAQ,GACR,SAAU,GACV,SAAU,GACV,YAAa,GACb,cAAe,GACf,cAAe,EACjB,EAGA,SAASK,GAAUvN,EAAMqN,EAAKC,EAAMxB,EAAQ0B,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,EAAU,CACrH,GAAI/B,GAAU,OAAOA,GAAU,UAAY,CAAC,MAAM,QAAQA,CAAM,EAAG,CACjEuB,EAAIvB,EAAQ0B,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,CAAQ,EACrF,QAAS9P,KAAO+N,EAAQ,CACtB,IAAIgC,EAAMhC,EAAO/N,CAAG,EACpB,GAAI,MAAM,QAAQ+P,CAAG,GACnB,GAAI/P,KAAOmP,GAAS,cAClB,QAASpM,EAAE,EAAGA,EAAEgN,EAAI,OAAQhN,IAC1ByM,GAAUvN,EAAMqN,EAAKC,EAAMQ,EAAIhN,CAAC,EAAG0M,EAAU,IAAMzP,EAAM,IAAM+C,EAAG2M,EAAYD,EAASzP,EAAK+N,EAAQhL,CAAC,UAEhG/C,KAAOmP,GAAS,eACzB,GAAIY,GAAO,OAAOA,GAAO,SACvB,QAASxB,KAAQwB,EACfP,GAAUvN,EAAMqN,EAAKC,EAAMQ,EAAIxB,CAAI,EAAGkB,EAAU,IAAMzP,EAAM,IAAMgQ,GAAczB,CAAI,EAAGmB,EAAYD,EAASzP,EAAK+N,EAAQQ,CAAI,OAExHvO,KAAOmP,GAAS,UAAalN,EAAK,SAAW,EAAEjC,KAAOmP,GAAS,gBACxEK,GAAUvN,EAAMqN,EAAKC,EAAMQ,EAAKN,EAAU,IAAMzP,EAAK0P,EAAYD,EAASzP,EAAK+N,CAAM,CAExF,CACDwB,EAAKxB,EAAQ0B,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,CAAQ,CACvF,CACH,CAGA,SAASE,GAAcpH,EAAK,CAC1B,OAAOA,EAAI,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CACpD,mBCtFIqH,GAAMrO,GACNsO,GAAQ1K,GACRiG,GAAO7E,GACPsI,GAAerI,GACfsI,GAAWpI,GAEfoJ,GAAiBC,GAEjBA,GAAQ,YAAcC,GACtBD,GAAQ,SAAWE,GACnBF,GAAQ,IAAMG,GACdH,GAAQ,IAAMI,GACdJ,GAAQ,UAAYK,GACpBL,GAAQ,OAASM,GAUjB,SAASN,GAAQO,EAASC,EAAMzR,EAAK,CAEnC,IAAI0R,EAAS,KAAK,MAAM1R,CAAG,EAC3B,GAAI,OAAO0R,GAAU,SACnB,GAAI,KAAK,MAAMA,CAAM,EAAGA,EAAS,KAAK,MAAMA,CAAM,MAC7C,QAAOT,GAAQ,KAAK,KAAMO,EAASC,EAAMC,CAAM,EAItD,GADAA,EAASA,GAAU,KAAK,SAAS1R,CAAG,EAChC0R,aAAkB3B,GACpB,OAAOuB,GAAUI,EAAO,OAAQ,KAAK,MAAM,UAAU,EAC3CA,EAAO,OACPA,EAAO,UAAY,KAAK,SAASA,CAAM,EAGnD,IAAIC,EAAMJ,GAAc,KAAK,KAAME,EAAMzR,CAAG,EACxC4O,EAAQvE,EAAGuH,EACf,OAAID,IACF/C,EAAS+C,EAAI,OACbF,EAAOE,EAAI,KACXC,EAASD,EAAI,QAGX/C,aAAkBmB,GACpB1F,EAAIuE,EAAO,UAAY4C,EAAQ,KAAK,KAAM5C,EAAO,OAAQ6C,EAAM,OAAWG,CAAM,EACvEhD,IAAW,SACpBvE,EAAIiH,GAAU1C,EAAQ,KAAK,MAAM,UAAU,EACrCA,EACA4C,EAAQ,KAAK,KAAM5C,EAAQ6C,EAAM,OAAWG,CAAM,GAGnDvH,CACT,CAUA,SAASkH,GAAcE,EAAMzR,EAAK,CAEhC,IAAI6R,EAAIf,GAAI,MAAM9Q,CAAG,EACjB8R,EAAUC,GAAaF,CAAC,EACxBD,EAAST,GAAY,KAAK,OAAOM,EAAK,MAAM,CAAC,EACjD,GAAI,OAAO,KAAKA,EAAK,MAAM,EAAE,SAAW,GAAKK,IAAYF,EAAQ,CAC/D,IAAII,EAAKd,GAAYY,CAAO,EACxBJ,EAAS,KAAK,MAAMM,CAAE,EAC1B,GAAI,OAAON,GAAU,SACnB,OAAOO,GAAiB,KAAK,KAAMR,EAAMC,EAAQG,CAAC,EAC7C,GAAIH,aAAkB3B,GACtB2B,EAAO,UAAU,KAAK,SAASA,CAAM,EAC1CD,EAAOC,UAEPA,EAAS,KAAK,SAASM,CAAE,EACrBN,aAAkB3B,GAAc,CAElC,GADK2B,EAAO,UAAU,KAAK,SAASA,CAAM,EACtCM,GAAMd,GAAYlR,CAAG,EACvB,MAAO,CAAE,OAAQ0R,EAAQ,KAAMD,EAAM,OAAQG,GAC/CH,EAAOC,CACf,KACQ,QAGJ,GAAI,CAACD,EAAK,OAAQ,OAClBG,EAAST,GAAY,KAAK,OAAOM,EAAK,MAAM,CAAC,CAC9C,CACD,OAAOS,GAAe,KAAK,KAAML,EAAGD,EAAQH,EAAK,OAAQA,CAAI,CAC/D,CAIA,SAASQ,GAAiBR,EAAMzR,EAAKmS,EAAW,CAE9C,IAAIR,EAAMJ,GAAc,KAAK,KAAME,EAAMzR,CAAG,EAC5C,GAAI2R,EAAK,CACP,IAAI/C,EAAS+C,EAAI,OACbC,EAASD,EAAI,OACjBF,EAAOE,EAAI,KACX,IAAIK,EAAK,KAAK,OAAOpD,CAAM,EAC3B,OAAIoD,IAAIJ,EAASR,GAAWQ,EAAQI,CAAE,GAC/BE,GAAe,KAAK,KAAMC,EAAWP,EAAQhD,EAAQ6C,CAAI,CACjE,CACH,CAGA,IAAIW,GAAuB9F,GAAK,OAAO,CAAC,aAAc,oBAAqB,OAAQ,eAAgB,aAAa,CAAC,EAEjH,SAAS4F,GAAeC,EAAWP,EAAQhD,EAAQ6C,EAAM,CAGvD,GADAU,EAAU,SAAWA,EAAU,UAAY,GACvCA,EAAU,SAAS,MAAM,EAAE,CAAC,GAAK,IAGrC,SAFIE,EAAQF,EAAU,SAAS,MAAM,GAAG,EAE/BvO,EAAI,EAAGA,EAAIyO,EAAM,OAAQzO,IAAK,CACrC,IAAI0O,EAAOD,EAAMzO,CAAC,EAClB,GAAI0O,EAAM,CAGR,GAFAA,EAAOhG,GAAK,iBAAiBgG,CAAI,EACjC1D,EAASA,EAAO0D,CAAI,EAChB1D,IAAW,OAAW,MAC1B,IAAIoD,EACJ,GAAI,CAACI,GAAqBE,CAAI,IAC5BN,EAAK,KAAK,OAAOpD,CAAM,EACnBoD,IAAIJ,EAASR,GAAWQ,EAAQI,CAAE,GAClCpD,EAAO,MAAM,CACf,IAAI2D,EAAOnB,GAAWQ,EAAQhD,EAAO,IAAI,EACrC+C,EAAMJ,GAAc,KAAK,KAAME,EAAMc,CAAI,EACzCZ,IACF/C,EAAS+C,EAAI,OACbF,EAAOE,EAAI,KACXC,EAASD,EAAI,OAEhB,CAEJ,CACF,CACD,GAAI/C,IAAW,QAAaA,IAAW6C,EAAK,OAC1C,MAAO,CAAE,OAAQ7C,EAAQ,KAAM6C,EAAM,OAAQG,GACjD,CAGA,IAAIY,GAAiBlG,GAAK,OAAO,CAC/B,OAAQ,SAAU,UAClB,YAAa,YACb,gBAAiB,gBACjB,WAAY,WACZ,UAAW,UACX,cAAe,aACf,WAAY,MACd,CAAC,EACD,SAASgF,GAAU1C,EAAQ6D,EAAO,CAChC,GAAIA,IAAU,GAAO,MAAO,GAC5B,GAAIA,IAAU,QAAaA,IAAU,GAAM,OAAOC,GAAW9D,CAAM,EAC9D,GAAI6D,EAAO,OAAOE,GAAU/D,CAAM,GAAK6D,CAC9C,CAGA,SAASC,GAAW9D,EAAQ,CAC1B,IAAIgE,EACJ,GAAI,MAAM,QAAQhE,CAAM,GACtB,QAAShL,EAAE,EAAGA,EAAEgL,EAAO,OAAQhL,IAE7B,GADAgP,EAAOhE,EAAOhL,CAAC,EACX,OAAOgP,GAAQ,UAAY,CAACF,GAAWE,CAAI,EAAG,MAAO,OAG3D,SAAS/R,KAAO+N,EAGd,GAFI/N,GAAO,SACX+R,EAAOhE,EAAO/N,CAAG,EACb,OAAO+R,GAAQ,UAAY,CAACF,GAAWE,CAAI,GAAG,MAAO,GAG7D,MAAO,EACT,CAGA,SAASD,GAAU/D,EAAQ,CACzB,IAAIiE,EAAQ,EAAGD,EACf,GAAI,MAAM,QAAQhE,CAAM,GACtB,QAAShL,EAAE,EAAGA,EAAEgL,EAAO,OAAQhL,IAG7B,GAFAgP,EAAOhE,EAAOhL,CAAC,EACX,OAAOgP,GAAQ,WAAUC,GAASF,GAAUC,CAAI,GAChDC,GAAS,IAAU,MAAO,SAGhC,SAAShS,KAAO+N,EAAQ,CACtB,GAAI/N,GAAO,OAAQ,MAAO,KAC1B,GAAI2R,GAAe3R,CAAG,EACpBgS,YAEAD,EAAOhE,EAAO/N,CAAG,EACb,OAAO+R,GAAQ,WAAUC,GAASF,GAAUC,CAAI,EAAI,GACpDC,GAAS,IAAU,MAAO,IAEjC,CAEH,OAAOA,CACT,CAGA,SAAS1B,GAAYa,EAAIc,EAAW,CAC9BA,IAAc,KAAOd,EAAKd,GAAYc,CAAE,GAC5C,IAAIH,EAAIf,GAAI,MAAMkB,CAAE,EACpB,OAAOD,GAAaF,CAAC,CACvB,CAGA,SAASE,GAAaF,EAAG,CACvB,OAAOf,GAAI,UAAUe,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,EAAI,GAC1C,CAGA,IAAIkB,GAAsB,QAC1B,SAAS7B,GAAYc,EAAI,CACvB,OAAOA,EAAKA,EAAG,QAAQe,GAAqB,EAAE,EAAI,EACpD,CAGA,SAAS3B,GAAWQ,EAAQI,EAAI,CAC9B,OAAAA,EAAKd,GAAYc,CAAE,EACZlB,GAAI,QAAQc,EAAQI,CAAE,CAC/B,CAIA,SAASX,GAAWzC,EAAQ,CAC1B,IAAIoE,EAAW9B,GAAY,KAAK,OAAOtC,CAAM,CAAC,EAC1CqE,EAAU,CAAC,GAAID,CAAQ,EACvBE,EAAY,CAAC,GAAI/B,GAAY6B,EAAU,EAAK,CAAC,EAC7CG,EAAY,CAAA,EACZC,EAAO,KAEX,OAAApD,GAASpB,EAAQ,CAAC,QAAS,EAAI,EAAG,SAASgC,EAAKN,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,EAAU,CACzH,GAAIL,IAAY,GAChB,KAAI0B,EAAKoB,EAAK,OAAOxC,CAAG,EACpBgB,EAASqB,EAAQzC,CAAa,EAC9B6C,EAAWH,EAAU1C,CAAa,EAAI,IAAMC,EAIhD,GAHIE,IAAa,SACf0C,GAAY,KAAO,OAAO1C,GAAY,SAAWA,EAAWrE,GAAK,eAAeqE,CAAQ,IAEtF,OAAOqB,GAAM,SAAU,CACzBA,EAAKJ,EAASV,GAAYU,EAASd,GAAI,QAAQc,EAAQI,CAAE,EAAIA,CAAE,EAE/D,IAAIN,EAAS0B,EAAK,MAAMpB,CAAE,EAE1B,GADI,OAAON,GAAU,WAAUA,EAAS0B,EAAK,MAAM1B,CAAM,GACrDA,GAAUA,EAAO,QACnB,GAAI,CAACX,GAAMH,EAAKc,EAAO,MAAM,EAC3B,MAAM,IAAI,MAAM,OAASM,EAAK,oCAAoC,UAC3DA,GAAMd,GAAYmC,CAAQ,EACnC,GAAIrB,EAAG,CAAC,GAAK,IAAK,CAChB,GAAImB,EAAUnB,CAAE,GAAK,CAACjB,GAAMH,EAAKuC,EAAUnB,CAAE,CAAC,EAC5C,MAAM,IAAI,MAAM,OAASA,EAAK,oCAAoC,EACpEmB,EAAUnB,CAAE,EAAIpB,CAC1B,MACUwC,EAAK,MAAMpB,CAAE,EAAIqB,CAGtB,CACDJ,EAAQ3C,CAAO,EAAIsB,EACnBsB,EAAU5C,CAAO,EAAI+C,EACzB,CAAG,EAEMF,CACT,CC3QA,IAAIlC,GAAUxO,GAEd6Q,GAAiB,CACf,WAAYC,GAAcC,EAAe,EACzC,WAAYD,GAAcE,EAAe,CAC3C,EAGA,SAASD,GAAgBE,EAAQ,CAC/B,KAAK,QAAU,oBACf,KAAK,OAASA,EACd,KAAK,IAAM,KAAK,WAAa,EAC/B,CAGAD,GAAgB,QAAU,SAAU7B,EAAQ5R,EAAK,CAC/C,MAAO,2BAA8BA,EAAM,YAAc4R,CAC3D,EAGA,SAAS6B,GAAgB7B,EAAQ5R,EAAK2T,EAAS,CAC7C,KAAK,QAAUA,GAAWF,GAAgB,QAAQ7B,EAAQ5R,CAAG,EAC7D,KAAK,WAAaiR,GAAQ,IAAIW,EAAQ5R,CAAG,EACzC,KAAK,cAAgBiR,GAAQ,YAAYA,GAAQ,SAAS,KAAK,UAAU,CAAC,CAC5E,CAGA,SAASsC,GAAcK,EAAU,CAC/B,OAAAA,EAAS,UAAY,OAAO,OAAO,MAAM,SAAS,EAClDA,EAAS,UAAU,YAAcA,EAC1BA,CACT,CC/BA,IAAAC,GAAiB,SAAU9Q,EAAMD,EAAM,CAC9BA,IAAMA,EAAO,IACd,OAAOA,GAAS,aAAYA,EAAO,CAAE,IAAKA,IAC9C,IAAIgR,EAAU,OAAOhR,EAAK,QAAW,UAAaA,EAAK,OAAS,GAE5DiR,EAAMjR,EAAK,KAAQ,SAAUmH,EAAG,CAChC,OAAO,SAAU+J,EAAM,CACnB,OAAO,SAAUxL,EAAGzB,EAAG,CACnB,IAAIkN,EAAO,CAAE,IAAKzL,EAAG,MAAOwL,EAAKxL,CAAC,GAC9B0L,EAAO,CAAE,IAAKnN,EAAG,MAAOiN,EAAKjN,CAAC,GAClC,OAAOkD,EAAEgK,EAAMC,CAAI,CACnC,CACA,CACA,EAAOpR,EAAK,GAAG,EAEPqR,EAAO,CAAA,EACX,OAAQ,SAASC,EAAWJ,EAAM,CAK9B,GAJIA,GAAQA,EAAK,QAAU,OAAOA,EAAK,QAAW,aAC9CA,EAAOA,EAAK,UAGZA,IAAS,OACb,IAAI,OAAOA,GAAQ,SAAU,OAAO,SAASA,CAAI,EAAI,GAAKA,EAAO,OACjE,GAAI,OAAOA,GAAS,SAAU,OAAO,KAAK,UAAUA,CAAI,EAExD,IAAI,EAAGK,EACP,GAAI,MAAM,QAAQL,CAAI,EAAG,CAErB,IADAK,EAAM,IACD,EAAI,EAAG,EAAIL,EAAK,OAAQ,IACrB,IAAGK,GAAO,KACdA,GAAOD,EAAUJ,EAAK,CAAC,CAAC,GAAK,OAEjC,OAAOK,EAAM,GAChB,CAED,GAAIL,IAAS,KAAM,MAAO,OAE1B,GAAIG,EAAK,QAAQH,CAAI,IAAM,GAAI,CAC3B,GAAIF,EAAQ,OAAO,KAAK,UAAU,WAAW,EAC7C,MAAM,IAAI,UAAU,uCAAuC,CAC9D,CAED,IAAIQ,EAAYH,EAAK,KAAKH,CAAI,EAAI,EAC9BO,EAAO,OAAO,KAAKP,CAAI,EAAE,KAAKD,GAAOA,EAAIC,CAAI,CAAC,EAElD,IADAK,EAAM,GACD,EAAI,EAAG,EAAIE,EAAK,OAAQ,IAAK,CAC9B,IAAI1T,EAAM0T,EAAK,CAAC,EACZzT,EAAQsT,EAAUJ,EAAKnT,CAAG,CAAC,EAE1BC,IACDuT,IAAKA,GAAO,KAChBA,GAAO,KAAK,UAAUxT,CAAG,EAAI,IAAMC,EACtC,CACD,OAAAqT,EAAK,OAAOG,EAAW,CAAC,EACjB,IAAMD,EAAM,IACtB,EAAEtR,CAAI,CACX,ECzDAyR,GAAiB,SAA2BC,EAAIC,EAAUC,EAAW,CACnE,IAAIN,EAAM,GACNO,EAASH,EAAG,OAAO,SAAW,GAChCI,EAAeJ,EAAG,KAAK,qBAAqBA,EAAG,OAAQA,EAAG,MAAM,IAAK,MAAM,EAC3EK,EAAML,EAAG,KAAK,OAAOA,EAAG,MAAM,EAChC,GAAIA,EAAG,KAAK,eAAgB,CAC1B,IAAIM,EAAcN,EAAG,KAAK,mBAAmBA,EAAG,OAAQA,EAAG,MAAM,QAAQ,EACzE,GAAIM,EAAa,CACf,IAAIC,EAAe,oBAAsBD,EACzC,GAAIN,EAAG,KAAK,iBAAmB,MAAOA,EAAG,OAAO,KAAKO,CAAY,MAC5D,OAAM,IAAI,MAAMA,CAAY,CAClC,CACF,CAYD,GAXIP,EAAG,QACLJ,GAAO,mBACHO,IACFH,EAAG,MAAQ,GACXJ,GAAO,UAETA,GAAO,sFACHS,IAAQL,EAAG,KAAK,YAAcA,EAAG,KAAK,eACxCJ,GAAO,KAAO,iBAAoBS,EAAM,OAAS,MAGjD,OAAOL,EAAG,QAAU,WAAa,EAAEI,GAAgBJ,EAAG,OAAO,MAAO,CACtE,IAAIC,EAAW,eACXO,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBc,EACAhG,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACvB,GAAIR,EAAG,SAAW,GAAO,CACnBA,EAAG,MACLa,EAAgB,GAEhBjB,GAAO,QAAWmB,EAAU,aAE9B,IAAIC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,gBAAkB,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,iBACnLZ,EAAG,KAAK,WAAa,KACvBJ,GAAO,0CAELI,EAAG,KAAK,UACVJ,GAAO,mDAAsDI,EAAG,WAAc,YAAelF,EAAS,KAExG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,8EAEzC,MACUjB,EAAG,MACDG,EACFP,GAAO,iBAEPA,GAAO,yCAGTA,GAAO,QAAWmB,EAAU,YAGhC,OAAIf,EAAG,QACLJ,GAAO,yBAEFA,CACR,CACD,GAAII,EAAG,MAAO,CACZ,IAAIkB,EAAOlB,EAAG,MACZQ,EAAOR,EAAG,MAAQ,EAClBS,EAAWT,EAAG,UAAY,EAC1BlF,EAAQ,OAKV,GAJAkF,EAAG,OAASA,EAAG,QAAQ,SAASA,EAAG,KAAK,OAAOA,EAAG,KAAK,MAAM,CAAC,EAC9DA,EAAG,OAASA,EAAG,QAAUA,EAAG,OAC5B,OAAOA,EAAG,MACVA,EAAG,YAAc,CAAC,MAAS,EACvBA,EAAG,OAAO,UAAY,QAAaA,EAAG,KAAK,aAAeA,EAAG,KAAK,eAAgB,CACpF,IAAImB,EAAc,wCAClB,GAAInB,EAAG,KAAK,iBAAmB,MAAOA,EAAG,OAAO,KAAKmB,CAAW,MAC3D,OAAM,IAAI,MAAMA,CAAW,CACjC,CACDvB,GAAO,wBACPA,GAAO,wBACPA,GAAO,gDACX,KAAS,CACL,IAAIY,EAAOR,EAAG,MACZS,EAAWT,EAAG,UACdlF,EAAQ,QAAU2F,GAAY,IAEhC,GADIJ,IAAKL,EAAG,OAASA,EAAG,QAAQ,IAAIA,EAAG,OAAQK,CAAG,GAC9CF,GAAU,CAACH,EAAG,MAAO,MAAM,IAAI,MAAM,6BAA6B,EACtEJ,GAAO,aAAgBY,EAAQ,YAChC,CACD,IAAIO,EAAS,QAAUP,EACrBK,EAAgB,CAACb,EAAG,KAAK,UACzBoB,EAAkB,GAClBC,EAAkB,GAChBP,EACAQ,EAActB,EAAG,OAAO,KAC1BuB,EAAe,MAAM,QAAQD,CAAW,EAa1C,GAZIA,GAAetB,EAAG,KAAK,UAAYA,EAAG,OAAO,WAAa,KACxDuB,EACED,EAAY,QAAQ,MAAM,GAAK,KAAIA,EAAcA,EAAY,OAAO,MAAM,GACrEA,GAAe,SACxBA,EAAc,CAACA,EAAa,MAAM,EAClCC,EAAe,KAGfA,GAAgBD,EAAY,QAAU,IACxCA,EAAcA,EAAY,CAAC,EAC3BC,EAAe,IAEbvB,EAAG,OAAO,MAAQI,EAAc,CAClC,GAAIJ,EAAG,KAAK,YAAc,OACxB,MAAM,IAAI,MAAM,qDAAuDA,EAAG,cAAgB,2BAA2B,EAC5GA,EAAG,KAAK,aAAe,KAChCI,EAAe,GACfJ,EAAG,OAAO,KAAK,6CAA+CA,EAAG,cAAgB,GAAG,EAEvF,CAID,GAHIA,EAAG,OAAO,UAAYA,EAAG,KAAK,WAChCJ,GAAO,IAAOI,EAAG,MAAM,IAAI,SAAS,KAAKA,EAAI,UAAU,GAErDsB,EAAa,CACf,GAAItB,EAAG,KAAK,YACV,IAAIwB,EAAiBxB,EAAG,KAAK,cAAcA,EAAG,KAAK,YAAasB,CAAW,EAE7E,IAAIG,EAAczB,EAAG,MAAM,MAAMsB,CAAW,EAC5C,GAAIE,GAAkBD,GAAgBE,IAAgB,IAASA,GAAe,CAACC,EAAgBD,CAAW,EAAI,CAC5G,IAAId,EAAcX,EAAG,WAAa,QAChCY,EAAiBZ,EAAG,cAAgB,QAClCW,EAAcX,EAAG,WAAa,QAChCY,EAAiBZ,EAAG,cAAgB,QACpC2B,EAAUJ,EAAe,iBAAmB,gBAE9C,GADA3B,GAAO,QAAWI,EAAG,KAAK2B,CAAO,EAAEL,EAAaxG,EAAOkF,EAAG,KAAK,cAAe,EAAI,EAAK,OACnFwB,EAAgB,CAClB,IAAII,EAAY,WAAapB,EAC3BqB,EAAW,UAAYrB,EACzBZ,GAAO,QAAWgC,EAAa,aAAgB9G,EAAS,KACpDkF,EAAG,KAAK,aAAe,UACzBJ,GAAO,QAAWgC,EAAa,iCAAsC9G,EAAS,MAAS8G,EAAa,gBAEtGhC,GAAO,QAAWiC,EAAY,iBAC9B,IAAIC,EAAkB,GAClBC,EAAOP,EACX,GAAIO,EAGF,QAFIC,EAAOC,EAAK,GACdC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GACVF,EAAQD,EAAKE,GAAM,CAAC,EAChBA,IACFrC,GAAO,QAAWiC,EAAY,qBAC9BC,GAAmB,KAEjB9B,EAAG,KAAK,aAAe,SAAWgC,GAAS,UAC7CpC,GAAO,QAAWgC,EAAa,kBAAuB9G,EAAS,mBAAsB+G,EAAY,MAAS/G,EAAS,MAASA,EAAS,QAAW8G,EAAa,aAAgB9G,EAAS,SAEpLkH,GAAS,SACXpC,GAAO,QAAWgC,EAAa,mBAAwBA,EAAa,kBAAuBC,EAAY,WAAgB/G,EAAS,cAAiBA,EAAS,cAAiB+G,EAAY,UAC9KG,GAAS,UAAYA,GAAS,WACvCpC,GAAO,QAAWgC,EAAa,oBAAyB9G,EAAS,iBAAoB8G,EAAa,mBAAwB9G,EAAS,OAAUA,EAAS,QAAWA,EAAS,IACtKkH,GAAS,YACXpC,GAAO,SAAY9E,EAAS,SAE9B8E,GAAO,MAASiC,EAAY,OAAU/G,EAAS,MACtCkH,GAAS,UAClBpC,GAAO,QAAW9E,EAAS,mBAAwBA,EAAS,aAAgBA,EAAS,cAAiB+G,EAAY,sBAAyB/G,EAAS,kBAAuBA,EAAS,WAAc+G,EAAY,YACrMG,GAAS,OAClBpC,GAAO,QAAW9E,EAAS,cAAmBA,EAAS,aAAgBA,EAAS,eAAkB+G,EAAY,YACrG7B,EAAG,KAAK,aAAe,SAAWgC,GAAS,UACpDpC,GAAO,QAAWgC,EAAa,mBAAwBA,EAAa,mBAAwBA,EAAa,oBAAyB9G,EAAS,aAAgB+G,EAAY,OAAU/G,EAAS,OAIhM8E,GAAO,IAAOkC,EAAmB,QAAWD,EAAY,uBACxD,IAAIb,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,QAAU,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,uBAC3KW,EACF3B,GAAO,GAAM0B,EAAY,KAAK,GAAG,EAEjC1B,GAAO,GAAM0B,EAEf1B,GAAO,OACHI,EAAG,KAAK,WAAa,KACvBJ,GAAO,0BACH2B,EACF3B,GAAO,GAAM0B,EAAY,KAAK,GAAG,EAEjC1B,GAAO,GAAM0B,EAEf1B,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,cACP,IAAIuC,EAAc1B,EAAW,QAAWA,EAAW,GAAM,IAAM,aAC7D2B,GAAsB3B,EAAWT,EAAG,YAAYS,CAAQ,EAAI,qBAC9Db,GAAO,IAAO9E,EAAS,MAAS+G,EAAY,KACvCpB,IACHb,GAAO,OAAUuC,EAAe,mBAElCvC,GAAO,IAAOuC,EAAe,IAAOC,GAAuB,OAAUP,EAAY,MACzF,KAAa,CACL,IAAIb,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,QAAU,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,uBAC3KW,EACF3B,GAAO,GAAM0B,EAAY,KAAK,GAAG,EAEjC1B,GAAO,GAAM0B,EAEf1B,GAAO,OACHI,EAAG,KAAK,WAAa,KACvBJ,GAAO,0BACH2B,EACF3B,GAAO,GAAM0B,EAAY,KAAK,GAAG,EAEjC1B,GAAO,GAAM0B,EAEf1B,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,8EAEpC,CACDrB,GAAO,KACR,CACF,CACD,GAAII,EAAG,OAAO,MAAQ,CAACI,EACrBR,GAAO,IAAOI,EAAG,MAAM,IAAI,KAAK,KAAKA,EAAI,MAAM,EAAK,IAChDa,IACFjB,GAAO,qBACHsB,EACFtB,GAAO,IAEPA,GAAO,QAAWY,EAEpBZ,GAAO,OACPyB,GAAmB,SAEhB,CACL,IAAIgB,GAAOrC,EAAG,MACd,GAAIqC,IAGF,QAFIZ,EAAaa,EAAK,GACpBC,GAAKF,GAAK,OAAS,EACdC,EAAKC,IAEV,GADAd,EAAcY,GAAKC,GAAM,CAAC,EACtBZ,EAAgBD,CAAW,EAAG,CAIhC,GAHIA,EAAY,OACd7B,GAAO,QAAWI,EAAG,KAAK,cAAcyB,EAAY,KAAM3G,EAAOkF,EAAG,KAAK,aAAa,EAAK,QAEzFA,EAAG,KAAK,aACV,GAAIyB,EAAY,MAAQ,UAAYzB,EAAG,OAAO,WAAY,CACxD,IAAIU,EAAUV,EAAG,OAAO,WACtBwC,GAAc,OAAO,KAAK9B,CAAO,EAC/B+B,GAAOD,GACX,GAAIC,GAGF,QAFIC,GAAcC,GAAK,GACrBC,GAAKH,GAAK,OAAS,EACdE,GAAKC,IAAI,CACdF,GAAeD,GAAKE,IAAM,CAAC,EAC3B,IAAIE,GAAOnC,EAAQgC,EAAY,EAC/B,GAAIG,GAAK,UAAY,OAAW,CAC9B,IAAIC,GAAYhI,EAAQkF,EAAG,KAAK,YAAY0C,EAAY,EACxD,GAAI1C,EAAG,eACL,GAAIA,EAAG,KAAK,eAAgB,CAC1B,IAAImB,EAAc,2BAA6B2B,GAC/C,GAAI9C,EAAG,KAAK,iBAAmB,MAAOA,EAAG,OAAO,KAAKmB,CAAW,MAC3D,OAAM,IAAI,MAAMA,CAAW,CACjC,OAEDvB,GAAO,QAAWkD,GAAa,kBAC3B9C,EAAG,KAAK,aAAe,UACzBJ,GAAO,OAAUkD,GAAa,gBAAmBA,GAAa,YAEhElD,GAAO,MAASkD,GAAa,MACzB9C,EAAG,KAAK,aAAe,SACzBJ,GAAO,IAAOI,EAAG,WAAW6C,GAAK,OAAO,EAAK,IAE7CjD,GAAO,IAAO,KAAK,UAAUiD,GAAK,OAAO,EAAK,IAEhDjD,GAAO,IAEV,CACF,CAEjB,SAAuB6B,EAAY,MAAQ,SAAW,MAAM,QAAQzB,EAAG,OAAO,KAAK,EAAG,CACxE,IAAI+C,GAAO/C,EAAG,OAAO,MACrB,GAAI+C,IAGF,QAFIF,GAAMZ,EAAK,GACbe,GAAKD,GAAK,OAAS,EACdd,EAAKe,IAEV,GADAH,GAAOE,GAAKd,GAAM,CAAC,EACfY,GAAK,UAAY,OAAW,CAC9B,IAAIC,GAAYhI,EAAQ,IAAMmH,EAAK,IACnC,GAAIjC,EAAG,eACL,GAAIA,EAAG,KAAK,eAAgB,CAC1B,IAAImB,EAAc,2BAA6B2B,GAC/C,GAAI9C,EAAG,KAAK,iBAAmB,MAAOA,EAAG,OAAO,KAAKmB,CAAW,MAC3D,OAAM,IAAI,MAAMA,CAAW,CACjC,OAEDvB,GAAO,QAAWkD,GAAa,kBAC3B9C,EAAG,KAAK,aAAe,UACzBJ,GAAO,OAAUkD,GAAa,gBAAmBA,GAAa,YAEhElD,GAAO,MAASkD,GAAa,MACzB9C,EAAG,KAAK,aAAe,SACzBJ,GAAO,IAAOI,EAAG,WAAW6C,GAAK,OAAO,EAAK,IAE7CjD,GAAO,IAAO,KAAK,UAAUiD,GAAK,OAAO,EAAK,IAEhDjD,GAAO,IAEV,EAGN,EAEH,IAAIqD,EAAOxB,EAAY,MACvB,GAAIwB,GAGF,QAFIC,EAAOC,EAAK,GACdC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GAEV,GADAF,EAAQD,EAAKE,GAAM,CAAC,EAChBE,EAAeH,CAAK,EAAG,CACzB,IAAII,EAAQJ,EAAM,KAAKlD,EAAIkD,EAAM,QAASzB,EAAY,IAAI,EACtD6B,IACF1D,GAAO,IAAO0D,EAAS,IACnBzC,IACFO,GAAmB,KAGxB,EAOL,GAJIP,IACFjB,GAAO,IAAOwB,EAAmB,IACjCA,EAAkB,IAEhBK,EAAY,OACd7B,GAAO,MACH0B,GAAeA,IAAgBG,EAAY,MAAQ,CAACD,GAAgB,CACtE5B,GAAO,WACP,IAAIe,EAAcX,EAAG,WAAa,QAChCY,EAAiBZ,EAAG,cAAgB,QAClCgB,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,QAAU,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,uBAC3KW,EACF3B,GAAO,GAAM0B,EAAY,KAAK,GAAG,EAEjC1B,GAAO,GAAM0B,EAEf1B,GAAO,OACHI,EAAG,KAAK,WAAa,KACvBJ,GAAO,0BACH2B,EACF3B,GAAO,GAAM0B,EAAY,KAAK,GAAG,EAEjC1B,GAAO,GAAM0B,EAEf1B,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACR,CAECiB,IACFjB,GAAO,mBACHsB,EACFtB,GAAO,IAEPA,GAAO,QAAWY,EAEpBZ,GAAO,OACPyB,GAAmB,IAEtB,EAGN,CACGR,IACFjB,GAAO,IAAOyB,EAAmB,KAE/BH,GACEf,GACFP,GAAO,6CACPA,GAAO,+CAEPA,GAAO,+BACPA,GAAO,gCAETA,GAAO,wBAEPA,GAAO,QAAWmB,EAAU,sBAAyBP,EAAQ,IAG/D,SAASkB,EAAgBD,GAAa,CAEpC,QADIrH,GAAQqH,GAAY,MACftS,GAAI,EAAGA,GAAIiL,GAAM,OAAQjL,KAChC,GAAIkU,EAAejJ,GAAMjL,EAAC,CAAC,EAAG,MAAO,EACxC,CAED,SAASkU,EAAeH,GAAO,CAC7B,OAAOlD,EAAG,OAAOkD,GAAM,OAAO,IAAM,QAAcA,GAAM,YAAcK,GAA2BL,EAAK,CACvG,CAED,SAASK,GAA2BL,GAAO,CAEzC,QADIM,GAAON,GAAM,WACR/T,GAAI,EAAGA,GAAIqU,GAAK,OAAQrU,KAC/B,GAAI6Q,EAAG,OAAOwD,GAAKrU,EAAC,CAAC,IAAM,OAAW,MAAO,EAChD,CACD,OAAOyQ,CACT,ECveIpD,GAAUxO,GACV6J,GAAOjG,GACP6R,GAAezQ,GACf0Q,GAAkBzQ,GAElB0Q,GAAoBxQ,GAMpBsE,GAAaI,GAAK,WAClByE,GAAQjJ,GAGR0L,GAAkB0E,GAAa,WAEnCG,GAAiB7G,GAYjB,SAASA,GAAQ5C,EAAQ6C,EAAM0B,EAAWvB,EAAQ,CAGhD,IAAIwB,EAAO,KACPtQ,EAAO,KAAK,MACZ4O,EAAS,CAAE,MAAW,EACtB4G,EAAO,CAAE,EACTC,EAAW,CAAE,EACbC,EAAe,CAAE,EACjBC,EAAW,CAAE,EACbC,EAAe,CAAE,EACjBC,EAAc,CAAA,EAElBlH,EAAOA,GAAQ,CAAE,OAAQ7C,EAAQ,OAAQ8C,EAAQ,KAAM4G,GAEvD,IAAIM,EAAIC,GAAe,KAAK,KAAMjK,EAAQ6C,EAAMG,CAAM,EAClDkH,EAAc,KAAK,cAAcF,EAAE,KAAK,EAC5C,GAAIA,EAAE,UAAW,OAAQE,EAAY,aAAeC,EAEpD,IAAIC,EAAU,KAAK,SACfC,EAAQ,KAAK,MAEjB,GAAI,CACF,IAAI5O,EAAI6O,EAAatK,EAAQ6C,EAAM0B,EAAWvB,CAAM,EACpDkH,EAAY,SAAWzO,EACvB,IAAI8O,EAAKL,EAAY,aACrB,OAAIK,IACFA,EAAG,OAAS9O,EAAE,OACd8O,EAAG,OAAS,KACZA,EAAG,KAAO9O,EAAE,KACZ8O,EAAG,OAAS9O,EAAE,OACd8O,EAAG,KAAO9O,EAAE,KACZ8O,EAAG,OAAS9O,EAAE,OACVvH,EAAK,aAAYqW,EAAG,OAAS9O,EAAE,SAE9BA,CACX,QAAY,CACR+O,GAAa,KAAK,KAAMxK,EAAQ6C,EAAMG,CAAM,CAC7C,CAGD,SAASmH,GAAe,CAEtB,IAAIvE,EAAWsE,EAAY,SACvBO,EAAS7E,EAAS,MAAM,KAAM,SAAS,EAC3C,OAAAuE,EAAa,OAASvE,EAAS,OACxB6E,CACR,CAED,SAASH,EAAaI,EAASC,EAAOpG,EAAWvB,EAAQ,CACvD,IAAI4H,EAAS,CAACD,GAAUA,GAASA,EAAM,QAAUD,EACjD,GAAIC,EAAM,QAAU9H,EAAK,OACvB,OAAOD,GAAQ,KAAK4B,EAAMkG,EAASC,EAAOpG,EAAWvB,CAAM,EAE7D,IAAIgD,EAAS0E,EAAQ,SAAW,GAE5BG,EAAarB,GAAkB,CACjC,MAAO,GACP,OAAQkB,EACR,OAAQE,EACR,OAAQ5H,EACR,KAAM2H,EACN,WAAY,GACZ,cAAe,IACf,UAAW,KACX,gBAAiBrB,GAAa,WAC9B,MAAOe,EACP,SAAUb,GACV,KAAM9L,GACN,QAAS2E,GACT,WAAYyI,EACZ,WAAYC,EACZ,WAAYC,EACZ,cAAeC,EACf,KAAM/W,EACN,QAASkW,EACT,OAAQ5F,EAAK,OACb,KAAMA,CACZ,CAAK,EAEDqG,EAAaK,GAAKpI,EAAQqI,EAAU,EAAID,GAAKvB,EAAUyB,EAAW,EACjDF,GAAKrB,EAAUwB,EAAW,EAAIH,GAAKnB,EAAauB,EAAc,EAC9DT,EAEb3W,EAAK,cAAa2W,EAAa3W,EAAK,YAAY2W,EAAYH,CAAO,GAEvE,IAAI9E,EACJ,GAAI,CACF,IAAI2F,EAAe,IAAI,SACrB,OACA,QACA,UACA,OACA,SACA,WACA,cACA,QACA,aACA,kBACAV,CACR,EAEMjF,EAAW2F,EACT/G,EACA6F,EACAD,EACAvH,EACAC,EACA+G,EACAE,EACA5H,GACA7E,GACAsH,EACR,EAEM9B,EAAO,CAAC,EAAI8C,CACb,OAAOlM,GAAG,CACT,MAAA8K,EAAK,OAAO,MAAM,yCAA0CqG,CAAU,EAChEnR,EACP,CAED,OAAAkM,EAAS,OAAS8E,EAClB9E,EAAS,OAAS,KAClBA,EAAS,KAAO8D,EAChB9D,EAAS,OAAS9C,EAClB8C,EAAS,KAAOgF,EAAShF,EAAW+E,EAChC3E,IAAQJ,EAAS,OAAS,IAC1B1R,EAAK,aAAe,KACtB0R,EAAS,OAAS,CAChB,KAAMiF,EACN,SAAUlB,EACV,SAAUE,CAClB,GAGWjE,CACR,CAED,SAASkF,EAAW9H,EAAQ5R,EAAKwZ,EAAQ,CACvCxZ,EAAMiR,GAAQ,IAAIW,EAAQ5R,CAAG,EAC7B,IAAIoa,EAAW9B,EAAKtY,CAAG,EACnBqa,EAASC,EACb,GAAIF,IAAa,OACf,OAAAC,EAAU3I,EAAO0I,CAAQ,EACzBE,EAAU,UAAYF,EAAW,IAC1BG,EAAYF,EAASC,CAAO,EAErC,GAAI,CAACd,GAAU/H,EAAK,KAAM,CACxB,IAAI+I,EAAY/I,EAAK,KAAKzR,CAAG,EAC7B,GAAIwa,IAAc,OAChB,OAAAH,EAAU5I,EAAK,OAAO+I,CAAS,EAC/BF,EAAUG,EAAYza,EAAKqa,CAAO,EAC3BE,EAAYF,EAASC,CAAO,CAEtC,CAEDA,EAAUG,EAAYza,CAAG,EACzB,IAAIqK,EAAI4G,GAAQ,KAAKmC,EAAM8F,EAAczH,EAAMzR,CAAG,EAClD,GAAIqK,IAAM,OAAW,CACnB,IAAIqQ,EAAcvH,GAAaA,EAAUnT,CAAG,EACxC0a,IACFrQ,EAAI4G,GAAQ,UAAUyJ,EAAa5X,EAAK,UAAU,EAC5C4X,EACAlJ,GAAQ,KAAK4B,EAAMsH,EAAajJ,EAAM0B,EAAWvB,CAAM,EAEhE,CAED,GAAIvH,IAAM,OACRsQ,EAAe3a,CAAG,MAElB,QAAA4a,EAAgB5a,EAAKqK,CAAC,EACfkQ,EAAYlQ,EAAGiQ,CAAO,CAEhC,CAED,SAASG,EAAYza,EAAKqK,EAAG,CAC3B,IAAIwQ,EAAQnJ,EAAO,OACnB,OAAAA,EAAOmJ,CAAK,EAAIxQ,EAChBiO,EAAKtY,CAAG,EAAI6a,EACL,SAAWA,CACnB,CAED,SAASF,EAAe3a,EAAK,CAC3B,OAAOsY,EAAKtY,CAAG,CAChB,CAED,SAAS4a,EAAgB5a,EAAKqK,EAAG,CAC/B,IAAIwQ,EAAQvC,EAAKtY,CAAG,EACpB0R,EAAOmJ,CAAK,EAAIxQ,CACjB,CAED,SAASkQ,EAAY7I,EAAQvD,EAAM,CACjC,OAAO,OAAOuD,GAAU,UAAY,OAAOA,GAAU,UAC3C,CAAE,KAAMvD,EAAM,OAAQuD,EAAQ,OAAQ,EAAM,EAC5C,CAAE,KAAMvD,EAAM,OAAQuD,GAAU,CAAC,CAACA,EAAO,OACpD,CAED,SAASiI,EAAWmB,EAAU,CAC5B,IAAIC,EAAQvC,EAAasC,CAAQ,EACjC,OAAIC,IAAU,SACZA,EAAQvC,EAAasC,CAAQ,EAAIvC,EAAS,OAC1CA,EAASwC,CAAK,EAAID,GAEb,UAAYC,CACpB,CAED,SAASnB,EAAW9Y,EAAO,CACzB,OAAQ,OAAOA,EAAK,CAClB,IAAK,UACL,IAAK,SACH,MAAO,GAAKA,EACd,IAAK,SACH,OAAOwL,GAAK,eAAexL,CAAK,EAClC,IAAK,SACH,GAAIA,IAAU,KAAM,MAAO,OAC3B,IAAIka,EAAW7C,GAAgBrX,CAAK,EAChCia,EAAQrC,EAAasC,CAAQ,EACjC,OAAID,IAAU,SACZA,EAAQrC,EAAasC,CAAQ,EAAIvC,EAAS,OAC1CA,EAASsC,CAAK,EAAIja,GAEb,UAAYia,CACtB,CACF,CAED,SAASlB,EAAcoB,EAAMrM,EAAQ8B,EAAc+D,EAAI,CACrD,GAAIrB,EAAK,MAAM,iBAAmB,GAAO,CACvC,IAAI8H,EAAOD,EAAK,WAAW,aAC3B,GAAIC,GAAQ,CAACA,EAAK,MAAM,SAASC,GAAS,CACxC,OAAO,OAAO,UAAU,eAAe,KAAKzK,EAAcyK,EAAO,CACzE,CAAO,EACC,MAAM,IAAI,MAAM,kDAAoDD,EAAK,KAAK,GAAG,CAAC,EAEpF,IAAIE,EAAiBH,EAAK,WAAW,eACrC,GAAIG,EAAgB,CAClB,IAAIC,EAAQD,EAAexM,CAAM,EACjC,GAAI,CAACyM,EAAO,CACV,IAAI1H,EAAU,8BAAgCP,EAAK,WAAWgI,EAAe,MAAM,EACnF,GAAIhI,EAAK,MAAM,gBAAkB,MAAOA,EAAK,OAAO,MAAMO,CAAO,MAC5D,OAAM,IAAI,MAAMA,CAAO,CAC7B,CACF,CACF,CAED,IAAInC,EAAUyJ,EAAK,WAAW,QAC1BK,GAASL,EAAK,WAAW,OACzBM,GAAQN,EAAK,WAAW,MAExBzG,EACJ,GAAIhD,EACFgD,EAAWhD,EAAQ,KAAK4B,EAAMxE,EAAQ8B,EAAc+D,CAAE,UAC7C8G,GACT/G,EAAW+G,GAAM,KAAKnI,EAAMxE,EAAQ8B,EAAc+D,CAAE,EAChD3R,EAAK,iBAAmB,IAAOsQ,EAAK,eAAeoB,EAAU,EAAI,UAC5D8G,GACT9G,EAAW8G,GAAO,KAAKlI,EAAMqB,EAAIwG,EAAK,QAASrM,EAAQ8B,CAAY,UAEnE8D,EAAWyG,EAAK,WAAW,SACvB,CAACzG,EAAU,OAGjB,GAAIA,IAAa,OACf,MAAM,IAAI,MAAM,mBAAqByG,EAAK,QAAU,oBAAoB,EAE1E,IAAIF,GAAQpC,EAAY,OACxB,OAAAA,EAAYoC,EAAK,EAAIvG,EAEd,CACL,KAAM,aAAeuG,GACrB,SAAUvG,CAChB,CACG,CACH,CAWA,SAASqE,GAAejK,EAAQ6C,EAAMG,EAAQ,CAE5C,IAAImJ,EAAQS,GAAU,KAAK,KAAM5M,EAAQ6C,EAAMG,CAAM,EACrD,OAAImJ,GAAS,EAAU,CAAE,MAAOA,EAAO,UAAW,KAClDA,EAAQ,KAAK,cAAc,OAC3B,KAAK,cAAcA,CAAK,EAAI,CAC1B,OAAQnM,EACR,KAAM6C,EACN,OAAQG,CACZ,EACS,CAAE,MAAOmJ,EAAO,UAAW,EAAK,EACzC,CAUA,SAAS3B,GAAaxK,EAAQ6C,EAAMG,EAAQ,CAE1C,IAAIhO,EAAI4X,GAAU,KAAK,KAAM5M,EAAQ6C,EAAMG,CAAM,EAC7ChO,GAAK,GAAG,KAAK,cAAc,OAAOA,EAAG,CAAC,CAC5C,CAWA,SAAS4X,GAAU5M,EAAQ6C,EAAMG,EAAQ,CAEvC,QAAShO,EAAE,EAAGA,EAAE,KAAK,cAAc,OAAQA,IAAK,CAC9C,IAAIgV,EAAI,KAAK,cAAchV,CAAC,EAC5B,GAAIgV,EAAE,QAAUhK,GAAUgK,EAAE,MAAQnH,GAAQmH,EAAE,QAAUhH,EAAQ,OAAOhO,CACxE,CACD,MAAO,EACT,CAGA,SAASoW,GAAYpW,EAAG2U,EAAU,CAChC,MAAO,cAAgB3U,EAAI,iBAAmB0I,GAAK,eAAeiM,EAAS3U,CAAC,CAAC,EAAI,IACnF,CAGA,SAASqW,GAAYrW,EAAG,CACtB,MAAO,cAAgBA,EAAI,eAAiBA,EAAI,IAClD,CAGA,SAASmW,GAAWnW,EAAG8N,EAAQ,CAC7B,OAAOA,EAAO9N,CAAC,IAAM,OAAY,GAAK,aAAeA,EAAI,aAAeA,EAAI,IAC9E,CAGA,SAASsW,GAAetW,EAAG,CACzB,MAAO,iBAAmBA,EAAI,kBAAoBA,EAAI,IACxD,CAGA,SAASkW,GAAKzV,EAAKoX,EAAW,CAC5B,GAAI,CAACpX,EAAI,OAAQ,MAAO,GAExB,QADI8J,EAAO,GACFvK,EAAE,EAAGA,EAAES,EAAI,OAAQT,IAC1BuK,GAAQsN,EAAU7X,EAAGS,CAAG,EAC1B,OAAO8J,CACT,qBC/XIuN,GAAQC,GAAA,QAAiB,UAAiB,CAC5C,KAAK,OAAS,EAChB,EAGAD,GAAM,UAAU,IAAM,SAAmB7a,EAAKC,EAAO,CACnD,KAAK,OAAOD,CAAG,EAAIC,CACrB,EAGA4a,GAAM,UAAU,IAAM,SAAmB7a,EAAK,CAC5C,OAAO,KAAK,OAAOA,CAAG,CACxB,EAGA6a,GAAM,UAAU,IAAM,SAAmB7a,EAAK,CAC5C,OAAO,KAAK,OAAOA,CAAG,CACxB,EAGA6a,GAAM,UAAU,MAAQ,UAAuB,CAC7C,KAAK,OAAS,EAChB,oBCvBIpP,GAAO7J,GAEPmZ,GAAO,6BACPC,GAAO,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAC7CC,GAAO,0DACPC,GAAW,wGACXjL,GAAM,+nCACNkL,GAAS,yoCAETC,GAAc,oLAKdC,GAAM,4rDACNC,GAAO,+DACP9M,GAAe,4BACf+M,GAA4B,+DAC5B9M,GAAwB,mDAG5B+M,GAAiBrD,GAEjB,SAASA,GAAQsD,EAAM,CACrB,OAAAA,EAAOA,GAAQ,OAAS,OAAS,OAC1BhQ,GAAK,KAAK0M,GAAQsD,CAAI,CAAC,CAChC,CAGAtD,GAAQ,KAAO,CAEb,KAAM,6BAEN,KAAM,8EACN,YAAa,0GAEb,IAAK,4CACL,gBAAiB,yEACjB,eAAgBiD,GAChB,IAAKC,GAIL,MAAO,mHACP,SAAUH,GAEV,KAAM,4EAEN,KAAM,qpCACN,MAAOtb,GAEP,KAAM0b,GAGN,eAAgB9M,GAChB,4BAA6B+M,GAE7B,wBAAyB9M,EAC3B,EAGA0J,GAAQ,KAAO,CACb,KAAMuD,GACN,KAAMC,GACN,YAAaC,GACb,IAAKC,GACL,gBAAiBV,GACjB,eAAgBC,GAChB,IAAKC,GACL,MAAO,2IACP,SAAUH,GACV,KAAM,4EACN,KAAM,qpCACN,MAAOtb,GACP,KAAM0b,GACN,eAAgB9M,GAChB,4BAA6B+M,GAC7B,wBAAyB9M,EAC3B,EAGA,SAASqN,GAAWC,EAAM,CAExB,OAAOA,EAAO,IAAM,IAAMA,EAAO,MAAQ,GAAKA,EAAO,MAAQ,EAC/D,CAGA,SAASL,GAAK9S,EAAK,CAEjB,IAAI/I,EAAU+I,EAAI,MAAMmS,EAAI,EAC5B,GAAI,CAAClb,EAAS,MAAO,GAErB,IAAIkc,EAAO,CAAClc,EAAQ,CAAC,EACjBmc,EAAQ,CAACnc,EAAQ,CAAC,EAClBoc,EAAM,CAACpc,EAAQ,CAAC,EAEpB,OAAOmc,GAAS,GAAKA,GAAS,IAAMC,GAAO,GACnCA,IAAQD,GAAS,GAAKF,GAAWC,CAAI,EAAI,GAAKf,GAAKgB,CAAK,EAClE,CAGA,SAASL,GAAK/S,EAAKsT,EAAM,CACvB,IAAIrc,EAAU+I,EAAI,MAAMqS,EAAI,EAC5B,GAAI,CAACpb,EAAS,MAAO,GAErB,IAAIsc,EAAOtc,EAAQ,CAAC,EAChBuc,EAASvc,EAAQ,CAAC,EAClBwc,EAASxc,EAAQ,CAAC,EAClByc,EAAWzc,EAAQ,CAAC,EACxB,OAASsc,GAAQ,IAAMC,GAAU,IAAMC,GAAU,IACxCF,GAAQ,IAAMC,GAAU,IAAMC,GAAU,MACzC,CAACH,GAAQI,EACnB,CAGA,IAAIC,GAAsB,QAC1B,SAASX,GAAUhT,EAAK,CAEtB,IAAI4T,EAAW5T,EAAI,MAAM2T,EAAmB,EAC5C,OAAOC,EAAS,QAAU,GAAKd,GAAKc,EAAS,CAAC,CAAC,GAAKb,GAAKa,EAAS,CAAC,EAAG,EAAI,CAC5E,CAGA,IAAIC,GAAmB,OACvB,SAASZ,GAAIjT,EAAK,CAEhB,OAAO6T,GAAiB,KAAK7T,CAAG,GAAKqH,GAAI,KAAKrH,CAAG,CACnD,CAGA,IAAI8T,GAAW,WACf,SAAS9c,GAAMgJ,EAAK,CAClB,GAAI8T,GAAS,KAAK9T,CAAG,EAAG,MAAO,GAC/B,GAAI,CACF,WAAI,OAAOA,CAAG,EACP,EACR,MAAU,CACT,MAAO,EACR,CACH,KC5IAzJ,GAAiB,SAAsByU,EAAIC,EAAUC,EAAW,CAC9D,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBL,EAAQ4I,EACZ,GAAIrI,GAAW,KAAOA,GAAW,KAC3BV,EAAG,QACLG,EAASH,EAAG,MACZ+I,EAAW,aAEX5I,EAASH,EAAG,KAAK,OAAO,SAAW,GACnC+I,EAAW,sBAER,CACL,IAAIC,EAAUhJ,EAAG,WAAWA,EAAG,OAAQU,EAASV,EAAG,MAAM,EACzD,GAAIgJ,IAAY,OAAW,CACzB,IAAIC,EAAWjJ,EAAG,gBAAgB,QAAQA,EAAG,OAAQU,CAAO,EAC5D,GAAIV,EAAG,KAAK,aAAe,OAAQ,CACjCA,EAAG,OAAO,MAAMiJ,CAAQ,EACxB,IAAIjI,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,qDAAwEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,sBAA0BZ,EAAG,KAAK,aAAaU,CAAO,EAAK,OACrNV,EAAG,KAAK,WAAa,KACvBJ,GAAO,0CAA+CI,EAAG,KAAK,aAAaU,CAAO,EAAK,MAErFV,EAAG,KAAK,UACVJ,GAAO,cAAiBI,EAAG,KAAK,eAAeU,CAAO,EAAK,mCAAsCV,EAAG,WAAc,YAAelF,EAAS,KAE5I8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAE/BJ,IACFjB,GAAO,iBAEV,SAAUI,EAAG,KAAK,aAAe,SAChCA,EAAG,OAAO,KAAKiJ,CAAQ,EACnBpI,IACFjB,GAAO,qBAGT,OAAM,IAAII,EAAG,gBAAgBA,EAAG,OAAQU,EAASuI,CAAQ,CAEjE,SAAeD,EAAQ,OAAQ,CACzB,IAAIE,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACzBkJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC/BA,EAAI,OAASF,EAAQ,OACrBE,EAAI,WAAa,GACjBA,EAAI,cAAgBxI,EACpB,IAAI4C,EAAQtD,EAAG,SAASkJ,CAAG,EAAE,QAAQ,oBAAqBF,EAAQ,IAAI,EACtEpJ,GAAO,IAAO0D,EAAS,IACnBzC,IACFjB,GAAO,QAAWuJ,EAAc,OAExC,MACMhJ,EAAS6I,EAAQ,SAAW,IAAShJ,EAAG,OAASgJ,EAAQ,SAAW,GACpED,EAAWC,EAAQ,IAEtB,CACD,GAAID,EAAU,CACZ,IAAI/H,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,KAAK,YACVJ,GAAO,IAAOmJ,EAAY,eAE1BnJ,GAAO,IAAOmJ,EAAY,KAE5BnJ,GAAO,IAAO9E,EAAS,qBACnBkF,EAAG,WAAa,OAClBJ,GAAO,MAASI,EAAG,WAErB,IAAImC,EAAc1B,EAAW,QAAWA,EAAW,GAAM,IAAM,aAC7D2B,EAAsB3B,EAAWT,EAAG,YAAYS,CAAQ,EAAI,qBAC9Db,GAAO,MAASuC,EAAe,MAASC,EAAuB,gBAC/D,IAAIgH,EAAiBxJ,EAErB,GADAA,EAAMoB,EAAW,MACbb,EAAQ,CACV,GAAI,CAACH,EAAG,MAAO,MAAM,IAAI,MAAM,wCAAwC,EACnEa,IACFjB,GAAO,QAAWmB,EAAU,MAE9BnB,GAAO,gBAAmBwJ,EAAkB,KACxCvI,IACFjB,GAAO,IAAOmB,EAAU,aAE1BnB,GAAO,4KACHiB,IACFjB,GAAO,IAAOmB,EAAU,cAE1BnB,GAAO,MACHiB,IACFjB,GAAO,QAAWmB,EAAU,OAEpC,MACMnB,GAAO,SAAYwJ,EAAkB,uCAA0CL,EAAY,0CAA6CA,EAAY,wCAChJlI,IACFjB,GAAO,WAGZ,CACD,OAAOA,CACT,EC1HAyJ,GAAiB,SAAwBrJ,EAAIC,EAAUC,EAAW,CAChE,IAAIN,EAAM,IACNc,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBkJ,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3BK,EAAiBL,EAAI,OACvBM,EAAmB,GACjBzH,EAAOrB,EACX,GAAIqB,EAGF,QAFIc,EAAMZ,EAAK,GACbC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GACVW,EAAOd,EAAKE,GAAM,CAAC,GACdjC,EAAG,KAAK,eAAiB,OAAO6C,GAAQ,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,EAAI7C,EAAG,KAAK,eAAe6C,EAAM7C,EAAG,MAAM,GAAG,KAC/HwJ,EAAmB,GACnBN,EAAI,OAASrG,EACbqG,EAAI,WAAavI,EAAc,IAAMsB,EAAK,IAC1CiH,EAAI,cAAgBtI,EAAiB,IAAMqB,EAC3CrC,GAAO,KAAQI,EAAG,SAASkJ,CAAG,EAAK,IACnCA,EAAI,OAASK,EACT1I,IACFjB,GAAO,QAAWuJ,EAAc,OAChCG,GAAkB,MAK1B,OAAIzI,IACE2I,EACF5J,GAAO,gBAEPA,GAAO,IAAO0J,EAAe,MAAM,EAAG,EAAE,EAAK,KAG1C1J,CACT,ECxCA6J,GAAiB,SAAwBzJ,EAAIC,EAAUC,EAAW,CAChE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBkJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3BS,EAAiBjJ,EAAQ,MAAM,SAASmC,EAAM,CAChD,OAAQ7C,EAAG,KAAK,eAAiB,OAAO6C,GAAQ,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,EAAI7C,EAAG,KAAK,eAAe6C,EAAM7C,EAAG,MAAM,GAAG,CACxI,CAAG,EACD,GAAI2J,EAAgB,CAClB,IAAIJ,EAAiBL,EAAI,OACzBtJ,GAAO,QAAW8J,EAAS,kBAAqB3I,EAAU,cAC1D,IAAI6I,EAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvC,IAAInH,EAAOrB,EACX,GAAIqB,EAGF,QAFIc,EAAMZ,EAAK,GACbC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GACVW,EAAOd,EAAKE,GAAM,CAAC,EACnBiH,EAAI,OAASrG,EACbqG,EAAI,WAAavI,EAAc,IAAMsB,EAAK,IAC1CiH,EAAI,cAAgBtI,EAAiB,IAAMqB,EAC3CrC,GAAO,KAAQI,EAAG,SAASkJ,CAAG,EAAK,IACnCA,EAAI,OAASK,EACb3J,GAAO,IAAOmB,EAAU,MAASA,EAAU,OAAUoI,EAAc,UAAapI,EAAU,OAC1FuI,GAAkB,IAGtBtJ,EAAG,cAAgBkJ,EAAI,cAAgBU,EACvChK,GAAO,IAAO0J,EAAkB,SAAYvI,EAAU,qBAClDf,EAAG,eAAiB,IACtBJ,GAAO,sDAAyEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,iBAC3JZ,EAAG,KAAK,WAAa,KACvBJ,GAAO,oDAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACH,CAACI,EAAG,eAAiBa,IAEnBb,EAAG,MACLJ,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,uBAA0B8J,EAAS,iCAAoCA,EAAS,sBAAyBA,EAAS,4BACrH1J,EAAG,KAAK,YACVJ,GAAO,MAEb,MACQiB,IACFjB,GAAO,iBAGX,OAAOA,CACT,ECvEAiK,GAAiB,SAA0B7J,EAAIC,EAAUC,EAAW,CAClE,IAAIN,EAAM,IACNc,EAAUV,EAAG,OAAOC,CAAQ,EAC5BW,EAAiBZ,EAAG,cAAgB,IAAMC,EACzBD,EAAG,KAAK,UAC7B,IAAI8J,EAAW9J,EAAG,KAAK,eAAeU,CAAO,EAC7C,OAAIV,EAAG,KAAK,WAAa,GACvBJ,GAAO,gBAAmBkK,EAAY,KAC7B,OAAO9J,EAAG,KAAK,UAAY,aACpCJ,GAAO,wBAA2BkK,EAAY,KAAQ9J,EAAG,KAAK,eAAeY,CAAc,EAAK,4BAE3FhB,CACT,ECZAmK,GAAiB,SAAwB/J,EAAIC,EAAUC,EAAW,CAChE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBwJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAE9CsJ,IACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,MAKlGgK,IACHpK,GAAO,cAAiBY,EAAQ,qBAAwBG,EAAe,KAEzEf,GAAO,OAAUmB,EAAU,YAAejG,EAAS,WAAc0F,EAAQ,WAAcO,EAAU,SACjG,IAAIC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,sDAAyEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,oCAAuCJ,EAAQ,MAC1MR,EAAG,KAAK,WAAa,KACvBJ,GAAO,8CAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACHiB,IACFjB,GAAO,YAEFA,CACT,ECtDAqK,GAAiB,SAA2BjK,EAAIC,EAAUC,EAAW,CACnE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBkJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3BgB,EAAO,IAAM1J,EACf2J,EAAWjB,EAAI,UAAYlJ,EAAG,UAAY,EAC1CoK,EAAY,OAASD,EACrBZ,EAAiBvJ,EAAG,OACpBqK,EAAmBrK,EAAG,KAAK,eAAiB,OAAOU,GAAW,UAAY,OAAO,KAAKA,CAAO,EAAE,OAAS,EAAIV,EAAG,KAAK,eAAeU,EAASV,EAAG,MAAM,GAAG,EAE1J,GADAJ,GAAO,OAAU8J,EAAS,iBAAoB3I,EAAU,IACpDsJ,EAAiB,CACnB,IAAIT,EAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvCA,EAAI,OAASxI,EACbwI,EAAI,WAAavI,EACjBuI,EAAI,cAAgBtI,EACpBhB,GAAO,QAAWuJ,EAAc,sBAAyBe,EAAQ,SAAYA,EAAQ,MAASpP,EAAS,YAAeoP,EAAQ,SAC9HhB,EAAI,UAAYlJ,EAAG,KAAK,YAAYA,EAAG,UAAWkK,EAAMlK,EAAG,KAAK,aAAc,EAAI,EAClF,IAAI8C,EAAYhI,EAAQ,IAAMoP,EAAO,IACrChB,EAAI,YAAYiB,CAAQ,EAAID,EAC5B,IAAI5G,EAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,EAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,EAAO8G,EAAWtH,CAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,EAAa,KAAQQ,EAAS,IAExE1D,GAAO,QAAWuJ,EAAc,eAChCnJ,EAAG,cAAgBkJ,EAAI,cAAgBU,EACvChK,GAAO,IAAO0J,EAAkB,SAAYH,EAAc,KAC9D,MACIvJ,GAAO,QAAW9E,EAAS,kBAE7B,IAAIkG,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,yDAA4EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,iBAC9JZ,EAAG,KAAK,WAAa,KACvBJ,GAAO,8CAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,aACHyK,IACFzK,GAAO,cAAiB8J,EAAS,iCAAoCA,EAAS,sBAAyBA,EAAS,6BAE9G1J,EAAG,KAAK,YACVJ,GAAO,OAEFA,CACT,EC/EA0K,GAAiB,SAA+BtK,EAAIC,EAAUC,EAAW,CACvE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BiJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3BqB,EAAc,CAAE,EAClBC,EAAgB,CAAE,EAClBC,EAAiBzK,EAAG,KAAK,cAC3B,IAAK0K,KAAahK,EAChB,GAAIgK,GAAa,YACjB,KAAI7H,EAAOnC,EAAQgK,CAAS,EACxBC,EAAQ,MAAM,QAAQ9H,CAAI,EAAI2H,EAAgBD,EAClDI,EAAMD,CAAS,EAAI7H,EAErBjD,GAAO,OAAU8J,EAAS,aAC1B,IAAIkB,EAAoB5K,EAAG,UAC3BJ,GAAO,cAAiBY,EAAQ,IAChC,QAASkK,KAAaF,EAEpB,GADAG,EAAQH,EAAcE,CAAS,EAC3BC,EAAM,OAAQ,CAKhB,GAJA/K,GAAO,SAAY9E,EAAUkF,EAAG,KAAK,YAAY0K,CAAS,EAAK,kBAC3DD,IACF7K,GAAO,4CAA+C9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0K,CAAS,EAAK,OAE1G7J,EAAe,CACjBjB,GAAO,SACP,IAAImC,EAAO4I,EACX,GAAI5I,EAGF,QAFIW,EAAcT,EAAK,GACrBC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GAAI,CACdQ,EAAeX,EAAKE,GAAM,CAAC,EACvBA,IACFrC,GAAO,QAET,IAAIiL,EAAQ7K,EAAG,KAAK,YAAY0C,CAAY,EAC1CoI,EAAWhQ,EAAQ+P,EACrBjL,GAAO,QAAWkL,EAAY,kBAC1BL,IACF7K,GAAO,8CAAiD9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0C,CAAY,EAAK,OAEnH9C,GAAO,gBAAmBY,EAAQ,MAASR,EAAG,KAAK,eAAeA,EAAG,KAAK,aAAe0C,EAAemI,CAAK,EAAK,MACnH,CAEHjL,GAAO,SACP,IAAImL,EAAgB,UAAYvK,EAC9BwK,EAAmB,OAAUD,EAAgB,OAC3C/K,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,aAAeA,EAAG,KAAK,YAAY4K,EAAmBG,EAAe,EAAI,EAAIH,EAAoB,MAAQG,GAElI,IAAI/J,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,6DAAgFI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,2BAA+BZ,EAAG,KAAK,aAAa0K,CAAS,EAAK,wBAA6BM,EAAoB,iBAAqBL,EAAM,OAAU,YAAgB3K,EAAG,KAAK,aAAa2K,EAAM,QAAU,EAAIA,EAAM,CAAC,EAAIA,EAAM,KAAK,IAAI,CAAC,EAAK,OACnZ3K,EAAG,KAAK,WAAa,KACvBJ,GAAO,4BACH+K,EAAM,QAAU,EAClB/K,GAAO,YAAeI,EAAG,KAAK,aAAa2K,EAAM,CAAC,CAAC,EAEnD/K,GAAO,cAAiBI,EAAG,KAAK,aAAa2K,EAAM,KAAK,IAAI,CAAC,EAE/D/K,GAAO,kBAAqBI,EAAG,KAAK,aAAa0K,CAAS,EAAK,iBAE7D1K,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,8EAE3C,KAAa,CACLrB,GAAO,QACP,IAAIyC,EAAOsI,EACX,GAAItI,EAGF,QAFIK,EAAcJ,EAAK,GACrBC,EAAKF,EAAK,OAAS,EACdC,EAAKC,GAAI,CACdG,EAAeL,EAAKC,GAAM,CAAC,EAC3B,IAAIuI,EAAQ7K,EAAG,KAAK,YAAY0C,CAAY,EAC1CsI,EAAmBhL,EAAG,KAAK,aAAa0C,CAAY,EACpDoI,EAAWhQ,EAAQ+P,EACjB7K,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,QAAQ4K,EAAmBlI,EAAc1C,EAAG,KAAK,YAAY,GAEtFJ,GAAO,SAAYkL,EAAY,kBAC3BL,IACF7K,GAAO,8CAAiD9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0C,CAAY,EAAK,OAEnH9C,GAAO,oBACHI,EAAG,eAAiB,IACtBJ,GAAO,6DAAgFI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,2BAA+BZ,EAAG,KAAK,aAAa0K,CAAS,EAAK,wBAA6BM,EAAoB,iBAAqBL,EAAM,OAAU,YAAgB3K,EAAG,KAAK,aAAa2K,EAAM,QAAU,EAAIA,EAAM,CAAC,EAAIA,EAAM,KAAK,IAAI,CAAC,EAAK,OACnZ3K,EAAG,KAAK,WAAa,KACvBJ,GAAO,4BACH+K,EAAM,QAAU,EAClB/K,GAAO,YAAeI,EAAG,KAAK,aAAa2K,EAAM,CAAC,CAAC,EAEnD/K,GAAO,cAAiBI,EAAG,KAAK,aAAa2K,EAAM,KAAK,IAAI,CAAC,EAE/D/K,GAAO,kBAAqBI,EAAG,KAAK,aAAa0K,CAAS,EAAK,iBAE7D1K,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACR,CAEJ,CACDA,GAAO,QACHiB,IACFyI,GAAkB,IAClB1J,GAAO,WAEV,CAEHI,EAAG,UAAY4K,EACf,IAAIrB,EAAiBL,EAAI,OACzB,QAASwB,KAAaH,EAAa,CACjC,IAAI1H,EAAO0H,EAAYG,CAAS,GAC3B1K,EAAG,KAAK,eAAiB,OAAO6C,GAAQ,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,EAAI7C,EAAG,KAAK,eAAe6C,EAAM7C,EAAG,MAAM,GAAG,KAC/HJ,GAAO,IAAOuJ,EAAc,iBAAoBrO,EAAUkF,EAAG,KAAK,YAAY0K,CAAS,EAAK,kBACxFD,IACF7K,GAAO,4CAA+C9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0K,CAAS,EAAK,OAE9G9K,GAAO,OACPsJ,EAAI,OAASrG,EACbqG,EAAI,WAAavI,EAAcX,EAAG,KAAK,YAAY0K,CAAS,EAC5DxB,EAAI,cAAgBtI,EAAiB,IAAMZ,EAAG,KAAK,eAAe0K,CAAS,EAC3E9K,GAAO,KAAQI,EAAG,SAASkJ,CAAG,EAAK,IACnCA,EAAI,OAASK,EACb3J,GAAO,OACHiB,IACFjB,GAAO,QAAWuJ,EAAc,OAChCG,GAAkB,KAGvB,CACD,OAAIzI,IACFjB,GAAO,MAAS0J,EAAkB,QAAWI,EAAS,iBAEjD9J,CACT,ECtKAqL,GAAiB,SAAuBjL,EAAIC,EAAUC,EAAW,CAC/D,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBwJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAE9CsJ,IACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,MAKvG,IAAIiC,EAAK,IAAMzB,EACb0K,EAAW,SAAW1K,EACnBwJ,IACHpK,GAAO,QAAWsL,EAAY,qBAAwBvK,EAAe,KAEvEf,GAAO,OAAUmB,EAAU,IACvBiJ,IACFpK,GAAO,cAAiBY,EAAQ,mBAAsBO,EAAU,0CAA6CP,EAAQ,MAASO,EAAU,oBAE1InB,GAAO,GAAMmB,EAAU,qBAAwBkB,EAAM,OAAUA,EAAM,IAAOiJ,EAAY,YAAejJ,EAAM,iBAAoBnH,EAAS,KAAQoQ,EAAY,IAAOjJ,EAAM,SAAYlB,EAAU,oBAC7LiJ,IACFpK,GAAO,SAETA,GAAO,SAAYmB,EAAU,SAC7B,IAAIC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,qDAAwEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,qCAAwCJ,EAAQ,MAC1MR,EAAG,KAAK,WAAa,KACvBJ,GAAO,+DAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACHiB,IACFjB,GAAO,YAEFA,CACT,EChEAuL,GAAiB,SAAyBnL,EAAIC,EAAUC,EAAW,CACjE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAClC,GAAIT,EAAG,KAAK,SAAW,GACrB,OAAIa,IACFjB,GAAO,iBAEFA,EAET,IAAIoK,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EACEpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEjB,IAAI2K,EAAkBrL,EAAG,KAAK,eAC5BsL,EAAgB,MAAM,QAAQD,CAAe,EAC/C,GAAIrB,EAAS,CACX,IAAIuB,EAAU,SAAW/K,EACvBgL,EAAY,WAAahL,EACzBiL,EAAc,aAAejL,EAC/BZ,GAAO,QAAW2L,EAAW,cAAiBH,EAAgB,UAAaI,EAAa,aAAgBD,EAAW,qBAA0BA,EAAW,0BAA6BA,EAAW,kBAAqBE,EAAe,MAASD,EAAa,OAAUD,EAAW,0BAA+BC,EAAa,OACvTxL,EAAG,QACLJ,GAAO,aAAgBY,EAAQ,MAAS+K,EAAW,YAErD3L,GAAO,IAAO2L,EAAW,MAASA,EAAW,sBACzCvB,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAEhFxL,GAAO,KACHyL,GAAmB,WACrBzL,GAAO,KAAQwL,EAAgB,QAAWG,EAAW,IACjDD,IACF1L,GAAO,yCAA4CwL,EAAgB,YAErExL,GAAO,SAETA,GAAO,KAAQ2L,EAAW,OAAUE,EAAe,QAAYvL,EAAa,iBAAqBqL,EAAW,oBACxGvL,EAAG,MACLJ,GAAO,UAAaY,EAAQ,YAAe+K,EAAW,IAAOzQ,EAAS,OAAUyQ,EAAW,IAAOzQ,EAAS,MAE3G8E,GAAO,IAAO2L,EAAW,IAAOzQ,EAAS,KAE3C8E,GAAO,MAAS2L,EAAW,SAAYzQ,EAAS,SACpD,KAAS,CACL,IAAIyQ,EAAUvL,EAAG,QAAQU,CAAO,EAChC,GAAI,CAAC6K,EAAS,CACZ,GAAIF,GAAmB,SACrB,OAAArL,EAAG,OAAO,KAAK,mBAAqBU,EAAU,gCAAkCV,EAAG,cAAgB,GAAG,EAClGa,IACFjB,GAAO,iBAEFA,EACF,GAAI0L,GAAiBD,EAAgB,QAAQ3K,CAAO,GAAK,EAC9D,OAAIG,IACFjB,GAAO,iBAEFA,EAEP,MAAM,IAAI,MAAM,mBAAqBc,EAAU,gCAAkCV,EAAG,cAAgB,GAAG,CAE1G,CACD,IAAIwL,EAAY,OAAOD,GAAW,UAAY,EAAEA,aAAmB,SAAWA,EAAQ,SAClFE,EAAcD,GAAaD,EAAQ,MAAQ,SAC/C,GAAIC,EAAW,CACb,IAAIrL,EAASoL,EAAQ,QAAU,GAC/BA,EAAUA,EAAQ,QACnB,CACD,GAAIE,GAAevL,EACjB,OAAIW,IACFjB,GAAO,iBAEFA,EAET,GAAIO,EAAQ,CACV,GAAI,CAACH,EAAG,MAAO,MAAM,IAAI,MAAM,6BAA6B,EAC5D,IAAI0L,EAAa,UAAY1L,EAAG,KAAK,YAAYU,CAAO,EAAI,YAC5Dd,GAAO,gBAAmB8L,EAAc,IAAO5Q,EAAS,QAC9D,KAAW,CACL8E,GAAO,UACP,IAAI8L,EAAa,UAAY1L,EAAG,KAAK,YAAYU,CAAO,EACpD8K,IAAWE,GAAc,aACzB,OAAOH,GAAW,WACpB3L,GAAO,IAAO8L,EAAc,IAAO5Q,EAAS,KAE5C8E,GAAO,IAAO8L,EAAc,SAAY5Q,EAAS,KAEnD8E,GAAO,MACR,CACF,CACD,IAAIoB,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,uDAA0EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,yBAC5JoJ,EACFpK,GAAO,GAAMwL,EAEbxL,GAAO,GAAMI,EAAG,KAAK,eAAeU,CAAO,EAE7Cd,GAAO,OACHI,EAAG,KAAK,WAAa,KACvBJ,GAAO,qCACHoK,EACFpK,GAAO,OAAWwL,EAAgB,OAElCxL,GAAO,GAAMI,EAAG,KAAK,aAAaU,CAAO,EAE3Cd,GAAO,OAELI,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMI,EAAG,KAAK,eAAeU,CAAO,EAE7Cd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,MACHiB,IACFjB,GAAO,YAEFA,CACT,ECpJA+L,GAAiB,SAAqB3L,EAAIC,EAAUC,EAAW,CAC7D,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBkJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACzBkJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3B0C,EAAW5L,EAAG,OAAO,KACvB6L,EAAW7L,EAAG,OAAO,KACrB8L,EAAeF,IAAa,SAAc5L,EAAG,KAAK,eAAiB,OAAO4L,GAAY,UAAY,OAAO,KAAKA,CAAQ,EAAE,OAAS,EAAI5L,EAAG,KAAK,eAAe4L,EAAU5L,EAAG,MAAM,GAAG,GAClL+L,EAAeF,IAAa,SAAc7L,EAAG,KAAK,eAAiB,OAAO6L,GAAY,UAAY,OAAO,KAAKA,CAAQ,EAAE,OAAS,EAAI7L,EAAG,KAAK,eAAe6L,EAAU7L,EAAG,MAAM,GAAG,GAClLuJ,EAAiBL,EAAI,OACvB,GAAI4C,GAAgBC,EAAc,CAChC,IAAIC,EACJ9C,EAAI,aAAe,GACnBA,EAAI,OAASxI,EACbwI,EAAI,WAAavI,EACjBuI,EAAI,cAAgBtI,EACpBhB,GAAO,QAAW8J,EAAS,kBAAqB3I,EAAU,aAC1D,IAAI6I,EAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvCtJ,GAAO,KAAQI,EAAG,SAASkJ,CAAG,EAAK,IACnCA,EAAI,OAASK,EACbL,EAAI,aAAe,GACnBtJ,GAAO,cAAiB8J,EAAS,iCAAoCA,EAAS,sBAAyBA,EAAS,6BAChH1J,EAAG,cAAgBkJ,EAAI,cAAgBU,EACnCkC,GACFlM,GAAO,QAAWuJ,EAAc,QAChCD,EAAI,OAASlJ,EAAG,OAAO,KACvBkJ,EAAI,WAAalJ,EAAG,WAAa,QACjCkJ,EAAI,cAAgBlJ,EAAG,cAAgB,QACvCJ,GAAO,KAAQI,EAAG,SAASkJ,CAAG,EAAK,IACnCA,EAAI,OAASK,EACb3J,GAAO,IAAOmB,EAAU,MAASoI,EAAc,KAC3C2C,GAAgBC,GAClBC,EAAY,WAAaxL,EACzBZ,GAAO,QAAWoM,EAAa,eAE/BA,EAAY,SAEdpM,GAAO,MACHmM,IACFnM,GAAO,aAGTA,GAAO,SAAYuJ,EAAc,OAE/B4C,IACF7C,EAAI,OAASlJ,EAAG,OAAO,KACvBkJ,EAAI,WAAalJ,EAAG,WAAa,QACjCkJ,EAAI,cAAgBlJ,EAAG,cAAgB,QACvCJ,GAAO,KAAQI,EAAG,SAASkJ,CAAG,EAAK,IACnCA,EAAI,OAASK,EACb3J,GAAO,IAAOmB,EAAU,MAASoI,EAAc,KAC3C2C,GAAgBC,GAClBC,EAAY,WAAaxL,EACzBZ,GAAO,QAAWoM,EAAa,eAE/BA,EAAY,SAEdpM,GAAO,OAETA,GAAO,SAAYmB,EAAU,qBACzBf,EAAG,eAAiB,IACtBJ,GAAO,mDAAsEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,gCAAmCoL,EAAa,MACxMhM,EAAG,KAAK,WAAa,KACvBJ,GAAO,kCAAuCoM,EAAa,kBAEzDhM,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACH,CAACI,EAAG,eAAiBa,IAEnBb,EAAG,MACLJ,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,QACHiB,IACFjB,GAAO,WAEb,MACQiB,IACFjB,GAAO,iBAGX,OAAOA,CACT,ECrGAqM,GAAiB,SAAwBjM,EAAIC,EAAUC,EAAW,CAChE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBkJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3BgB,EAAO,IAAM1J,EACf2J,EAAWjB,EAAI,UAAYlJ,EAAG,UAAY,EAC1CoK,EAAY,OAASD,EACrBZ,EAAiBvJ,EAAG,OAEtB,GADAJ,GAAO,OAAU8J,EAAS,iBAAoB3I,EAAU,IACpD,MAAM,QAAQL,CAAO,EAAG,CAC1B,IAAIwL,EAAmBlM,EAAG,OAAO,gBACjC,GAAIkM,IAAqB,GAAO,CAC9BtM,GAAO,IAAOmB,EAAU,MAASjG,EAAS,cAAiB4F,EAAQ,OAAU,KAC7E,IAAIyL,EAAqBvL,EACzBA,EAAiBZ,EAAG,cAAgB,mBACpCJ,GAAO,UAAamB,EAAU,SAC9B,IAAIC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,gEAAmFI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,uBAA0BF,EAAQ,OAAU,MACjNV,EAAG,KAAK,WAAa,KACvBJ,GAAO,0CAA8Cc,EAAQ,OAAU,YAErEV,EAAG,KAAK,UACVJ,GAAO,mDAAsDI,EAAG,WAAc,YAAelF,EAAS,KAExG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,MACPgB,EAAiBuL,EACbtL,IACFyI,GAAkB,IAClB1J,GAAO,WAEV,CACD,IAAImC,EAAOrB,EACX,GAAIqB,GAGF,QAFIc,EAAMZ,EAAK,GACbC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GAEV,GADAW,EAAOd,EAAKE,GAAM,CAAC,EACdjC,EAAG,KAAK,eAAiB,OAAO6C,GAAQ,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,EAAI7C,EAAG,KAAK,eAAe6C,EAAM7C,EAAG,MAAM,GAAG,EAAI,CACnIJ,GAAO,IAAOuJ,EAAc,gBAAmBrO,EAAS,aAAgBmH,EAAM,OAC9E,IAAIa,EAAYhI,EAAQ,IAAMmH,EAAK,IACnCiH,EAAI,OAASrG,EACbqG,EAAI,WAAavI,EAAc,IAAMsB,EAAK,IAC1CiH,EAAI,cAAgBtI,EAAiB,IAAMqB,EAC3CiH,EAAI,UAAYlJ,EAAG,KAAK,YAAYA,EAAG,UAAWiC,EAAIjC,EAAG,KAAK,aAAc,EAAI,EAChFkJ,EAAI,YAAYiB,CAAQ,EAAIlI,EAC5B,IAAIqB,EAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,EAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,EAAO8G,EAAWtH,CAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,EAAa,KAAQQ,EAAS,IAExE1D,GAAO,OACHiB,IACFjB,GAAO,QAAWuJ,EAAc,OAChCG,GAAkB,IAErB,EAGL,GAAI,OAAO4C,GAAoB,WAAalM,EAAG,KAAK,eAAiB,OAAOkM,GAAoB,UAAY,OAAO,KAAKA,CAAgB,EAAE,OAAS,EAAIlM,EAAG,KAAK,eAAekM,EAAkBlM,EAAG,MAAM,GAAG,GAAI,CAC9MkJ,EAAI,OAASgD,EACbhD,EAAI,WAAalJ,EAAG,WAAa,mBACjCkJ,EAAI,cAAgBlJ,EAAG,cAAgB,mBACvCJ,GAAO,IAAOuJ,EAAc,gBAAmBrO,EAAS,aAAgB4F,EAAQ,OAAU,iBAAoBwJ,EAAQ,MAASxJ,EAAQ,OAAU,KAAQwJ,EAAQ,MAASpP,EAAS,YAAeoP,EAAQ,SAC1MhB,EAAI,UAAYlJ,EAAG,KAAK,YAAYA,EAAG,UAAWkK,EAAMlK,EAAG,KAAK,aAAc,EAAI,EAClF,IAAI8C,EAAYhI,EAAQ,IAAMoP,EAAO,IACrChB,EAAI,YAAYiB,CAAQ,EAAID,EAC5B,IAAI5G,EAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,EAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,EAAO8G,EAAWtH,CAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,EAAa,KAAQQ,EAAS,IAEpEzC,IACFjB,GAAO,SAAYuJ,EAAc,aAEnCvJ,GAAO,SACHiB,IACFjB,GAAO,QAAWuJ,EAAc,OAChCG,GAAkB,IAErB,CACL,SAActJ,EAAG,KAAK,eAAiB,OAAOU,GAAW,UAAY,OAAO,KAAKA,CAAO,EAAE,OAAS,EAAIV,EAAG,KAAK,eAAeU,EAASV,EAAG,MAAM,GAAG,EAAI,CACnJkJ,EAAI,OAASxI,EACbwI,EAAI,WAAavI,EACjBuI,EAAI,cAAgBtI,EACpBhB,GAAO,cAAiBsK,EAAQ,SAAsBA,EAAQ,MAASpP,EAAS,YAAeoP,EAAQ,SACvGhB,EAAI,UAAYlJ,EAAG,KAAK,YAAYA,EAAG,UAAWkK,EAAMlK,EAAG,KAAK,aAAc,EAAI,EAClF,IAAI8C,EAAYhI,EAAQ,IAAMoP,EAAO,IACrChB,EAAI,YAAYiB,CAAQ,EAAID,EAC5B,IAAI5G,EAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,EAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,EAAO8G,EAAWtH,CAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,EAAa,KAAQQ,EAAS,IAEpEzC,IACFjB,GAAO,SAAYuJ,EAAc,aAEnCvJ,GAAO,IACR,CACD,OAAIiB,IACFjB,GAAO,IAAO0J,EAAkB,QAAWI,EAAS,iBAE/C9J,CACT,EC1IAwM,GAAiB,SAAyBpM,EAAIC,EAAUC,EAAW,CACjE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBc,EACAhG,EAAQ,QAAU2F,GAAY,IAC9BuJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EACEpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEjB,IAAI2L,EAASpM,GAAY,UACvBqM,EAAoBD,EAAS,mBAAqB,mBAClDE,EAAcvM,EAAG,OAAOsM,CAAiB,EACzCE,EAAcxM,EAAG,KAAK,OAASuM,GAAeA,EAAY,MAC1DE,EAAMJ,EAAS,IAAM,IACrBK,EAASL,EAAS,IAAM,IACxBvL,EAAgB,OAClB,GAAI,EAAEkJ,GAAW,OAAOtJ,GAAW,UAAYA,IAAY,QACzD,MAAM,IAAI,MAAMT,EAAW,iBAAiB,EAE9C,GAAI,EAAEuM,GAAeD,IAAgB,QAAa,OAAOA,GAAe,UAAY,OAAOA,GAAe,WACxG,MAAM,IAAI,MAAMD,EAAoB,4BAA4B,EAElE,GAAIE,EAAa,CACf,IAAIG,EAAmB3M,EAAG,KAAK,QAAQuM,EAAY,MAAO9L,EAAUT,EAAG,WAAW,EAChF4M,EAAa,YAAcpM,EAC3BqM,EAAY,WAAarM,EACzBsM,EAAgB,eAAiBtM,EACjCuM,EAAU,KAAOvM,EACjBwM,EAAS,OAAUD,EAAU,OAC/BnN,GAAO,kBAAqBY,EAAQ,MAASmM,EAAoB,KACjEA,EAAmB,aAAenM,EAClCZ,GAAO,QAAWgN,EAAc,SAAYC,EAAa,aAAgBF,EAAoB,SAAYE,EAAa,oBAAyBA,EAAa,sBAA2BA,EAAa,mBACpM,IAAI/L,EAAgBwL,EAChBtL,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,mBAAqB,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,iBACtLZ,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBAAoB0M,EAAqB,wBAE9CtM,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,gBACHoK,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAEhFxL,GAAO,IAAOiN,EAAa,qBAA0BD,EAAc,MAASxB,EAAgB,qBAAwBuB,EAAoB,IAAOF,EAAO,KAAQrB,EAAgB,OAAUtQ,EAAS,IAAO4R,EAAU,KAAQC,EAAoB,MAAS7R,EAAS,IAAO4R,EAAU,IAAOtB,EAAgB,WAAcwB,EAAc,MAASD,EAAoB,gBAAmB7R,EAAS,IAAO4R,EAAU,KAAQtB,EAAgB,MAAStQ,EAAS,IAAO4R,EAAU,IAAOtB,EAAgB,SAAYtQ,EAAS,QAAWA,EAAS,aAAgB0F,EAAQ,MAASoM,EAAc,OAAWH,EAAO,QAAaA,EAAO,OAC1lB/L,IAAY,SACdI,EAAgBwL,EAChB1L,EAAiBZ,EAAG,cAAgB,IAAMsM,EAC1ClB,EAAeuB,EACf3C,EAAUwC,EAEhB,KAAS,CACL,IAAIM,EAAgB,OAAOP,GAAe,SACxCS,EAASP,EACX,GAAIK,GAAiB9C,EAAS,CAC5B,IAAI+C,EAAU,IAAOC,EAAS,IAC9BpN,GAAO,SACHoK,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAEhFxL,GAAO,MAASwL,EAAgB,qBAAwBmB,EAAe,IAAOE,EAAO,KAAQrB,EAAgB,MAAStQ,EAAS,IAAO4R,EAAU,KAAQH,EAAe,MAASzR,EAAS,IAAO4R,EAAU,IAAOtB,EAAgB,SAAYtQ,EAAS,QAAWA,EAAS,MAChR,KAAW,CACDgS,GAAiBpM,IAAY,QAC/BkM,EAAa,GACb9L,EAAgBwL,EAChB1L,EAAiBZ,EAAG,cAAgB,IAAMsM,EAC1ClB,EAAemB,EACfG,GAAU,MAENI,IAAe1B,EAAe,KAAKiB,EAAS,MAAQ,KAAK,EAAEE,EAAa7L,CAAO,GAC/E6L,KAAiBO,EAAgB1B,EAAe,KAClDwB,EAAa,GACb9L,EAAgBwL,EAChB1L,EAAiBZ,EAAG,cAAgB,IAAMsM,EAC1CI,GAAU,MAEVE,EAAa,GACbI,GAAU,MAGd,IAAID,EAAU,IAAOC,EAAS,IAC9BpN,GAAO,SACHoK,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAEhFxL,GAAO,IAAO9E,EAAS,IAAO4R,EAAU,IAAOtB,EAAgB,OAAUtQ,EAAS,QAAWA,EAAS,MACvG,CACF,CACDgG,EAAgBA,GAAiBb,EACjC,IAAIe,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,UAAY,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,4BAA+BmM,EAAW,YAAe3B,EAAgB,gBAAmBwB,EAAc,MACvR5M,EAAG,KAAK,WAAa,KACvBJ,GAAO,0BAA8BoN,EAAU,IAC3ChD,EACFpK,GAAO,OAAWwL,EAElBxL,GAAO,GAAMwL,EAAgB,KAG7BpL,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMc,EAEfd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,MACHiB,IACFjB,GAAO,YAEFA,CACT,ECjKAqN,GAAiB,SAA8BjN,EAAIC,EAAUC,EAAW,CACtE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBc,EACAhG,EAAQ,QAAU2F,GAAY,IAC9BuJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EAOF,GANIpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEb,EAAEsJ,GAAW,OAAOtJ,GAAW,UACjC,MAAM,IAAI,MAAMT,EAAW,iBAAiB,EAE9C,IAAIwM,EAAMxM,GAAY,WAAa,IAAM,IACzCL,GAAO,QACHoK,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAEhFxL,GAAO,IAAO9E,EAAS,WAAc2R,EAAO,IAAOrB,EAAgB,OACnE,IAAItK,EAAgBb,EAChBe,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,eAAiB,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,uBAA0BwK,EAAgB,MAC5NpL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gCACHK,GAAY,WACdL,GAAO,OAEPA,GAAO,QAETA,GAAO,SACHoK,EACFpK,GAAO,OAAWwL,EAAgB,OAElCxL,GAAO,GAAMc,EAEfd,GAAO,YAELI,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMc,EAEfd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACHiB,IACFjB,GAAO,YAEFA,CACT,EC9EAsN,GAAiB,SAA+BlN,EAAIC,EAAUC,EAAW,CACvE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBc,EACAhG,EAAQ,QAAU2F,GAAY,IAC9BuJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EAOF,GANIpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEb,EAAEsJ,GAAW,OAAOtJ,GAAW,UACjC,MAAM,IAAI,MAAMT,EAAW,iBAAiB,EAE9C,IAAIwM,EAAMxM,GAAY,YAAc,IAAM,IAC1CL,GAAO,QACHoK,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAE5EpL,EAAG,KAAK,UAAY,GACtBJ,GAAO,IAAO9E,EAAS,WAEvB8E,GAAO,eAAkB9E,EAAS,KAEpC8E,GAAO,IAAO6M,EAAO,IAAOrB,EAAgB,OAC5C,IAAItK,EAAgBb,EAChBe,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,gBAAkB,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,uBAA0BwK,EAAgB,MAC7NpL,EAAG,KAAK,WAAa,KACvBJ,GAAO,8BACHK,GAAY,YACdL,GAAO,SAEPA,GAAO,UAETA,GAAO,SACHoK,EACFpK,GAAO,OAAWwL,EAAgB,OAElCxL,GAAO,GAAMc,EAEfd,GAAO,iBAELI,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMc,EAEfd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACHiB,IACFjB,GAAO,YAEFA,CACT,ECnFAuN,GAAiB,SAAmCnN,EAAIC,EAAUC,EAAW,CAC3E,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBc,EACAhG,EAAQ,QAAU2F,GAAY,IAC9BuJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EAOF,GANIpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEb,EAAEsJ,GAAW,OAAOtJ,GAAW,UACjC,MAAM,IAAI,MAAMT,EAAW,iBAAiB,EAE9C,IAAIwM,EAAMxM,GAAY,gBAAkB,IAAM,IAC9CL,GAAO,QACHoK,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAEhFxL,GAAO,gBAAmB9E,EAAS,YAAe2R,EAAO,IAAOrB,EAAgB,OAChF,IAAItK,EAAgBb,EAChBe,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,oBAAsB,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,uBAA0BwK,EAAgB,MACjOpL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gCACHK,GAAY,gBACdL,GAAO,OAEPA,GAAO,QAETA,GAAO,SACHoK,EACFpK,GAAO,OAAWwL,EAAgB,OAElCxL,GAAO,GAAMc,EAEfd,GAAO,iBAELI,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMc,EAEfd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACHiB,IACFjB,GAAO,YAEFA,CACT,EC9EAwN,GAAiB,SAA6BpN,EAAIC,EAAUC,EAAW,CACrE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BuJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EAOF,GANIpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEb,EAAEsJ,GAAW,OAAOtJ,GAAW,UACjC,MAAM,IAAI,MAAMT,EAAW,iBAAiB,EAE9CL,GAAO,eAAkBY,EAAQ,QAC7BwJ,IACFpK,GAAO,IAAOwL,EAAgB,8BAAiCA,EAAgB,oBAEjFxL,GAAO,aAAgBY,EAAQ,MAAS1F,EAAS,MAASsQ,EAAgB,KACtEpL,EAAG,KAAK,oBACVJ,GAAO,gCAAmCY,EAAQ,eAAkBA,EAAQ,UAAaR,EAAG,KAAK,oBAAuB,IAExHJ,GAAO,YAAeY,EAAQ,yBAA4BA,EAAQ,KAEpEZ,GAAO,MACHoK,IACFpK,GAAO,SAETA,GAAO,UACP,IAAIoB,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,2DAA8EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,4BAA+BwK,EAAgB,MAC/MpL,EAAG,KAAK,WAAa,KACvBJ,GAAO,sCACHoK,EACFpK,GAAO,OAAWwL,EAElBxL,GAAO,GAAMwL,EAAgB,KAG7BpL,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMc,EAEfd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACHiB,IACFjB,GAAO,YAEFA,CACT,EC9EAyN,GAAiB,SAAsBrN,EAAIC,EAAUC,EAAW,CAC9D,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BiJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACzBkJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC/B,GAAKlJ,EAAG,KAAK,eAAiB,OAAOU,GAAW,UAAY,OAAO,KAAKA,CAAO,EAAE,OAAS,EAAIV,EAAG,KAAK,eAAeU,EAASV,EAAG,MAAM,GAAG,EAAI,CAC5IkJ,EAAI,OAASxI,EACbwI,EAAI,WAAavI,EACjBuI,EAAI,cAAgBtI,EACpBhB,GAAO,QAAW8J,EAAS,eAC3B,IAAIE,EAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvCA,EAAI,aAAe,GACnB,IAAIoE,EACApE,EAAI,KAAK,YACXoE,EAAmBpE,EAAI,KAAK,UAC5BA,EAAI,KAAK,UAAY,IAEvBtJ,GAAO,IAAOI,EAAG,SAASkJ,CAAG,EAAK,IAClCA,EAAI,aAAe,GACfoE,IAAkBpE,EAAI,KAAK,UAAYoE,GAC3CtN,EAAG,cAAgBkJ,EAAI,cAAgBU,EACvChK,GAAO,QAAWuJ,EAAc,SAChC,IAAInI,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,oDAAuEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,iBACzJZ,EAAG,KAAK,WAAa,KACvBJ,GAAO,sCAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,uBAA0B8J,EAAS,iCAAoCA,EAAS,sBAAyBA,EAAS,4BACrH1J,EAAG,KAAK,YACVJ,GAAO,MAEb,MACIA,GAAO,iBACHI,EAAG,eAAiB,IACtBJ,GAAO,oDAAuEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,iBACzJZ,EAAG,KAAK,WAAa,KACvBJ,GAAO,sCAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACHiB,IACFjB,GAAO,kBAGX,OAAOA,CACT,EClFA2N,GAAiB,SAAwBvN,EAAIC,EAAUC,EAAW,CAChE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBkJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3BK,EAAiBL,EAAI,OACvBsE,EAAa,YAAchN,EAC3BiN,EAAkB,iBAAmBjN,EACvCZ,GAAO,OAAU8J,EAAS,eAAkB8D,EAAc,cAAiBzM,EAAU,cAAiB0M,EAAmB,YACzH,IAAI7D,EAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvC,IAAInH,EAAOrB,EACX,GAAIqB,EAGF,QAFIc,EAAMZ,EAAK,GACbC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GACVW,EAAOd,EAAKE,GAAM,CAAC,GACdjC,EAAG,KAAK,eAAiB,OAAO6C,GAAQ,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,EAAI7C,EAAG,KAAK,eAAe6C,EAAM7C,EAAG,MAAM,GAAG,IAC/HkJ,EAAI,OAASrG,EACbqG,EAAI,WAAavI,EAAc,IAAMsB,EAAK,IAC1CiH,EAAI,cAAgBtI,EAAiB,IAAMqB,EAC3CrC,GAAO,KAAQI,EAAG,SAASkJ,CAAG,EAAK,IACnCA,EAAI,OAASK,GAEb3J,GAAO,QAAWuJ,EAAc,YAE9BlH,IACFrC,GAAO,QAAWuJ,EAAc,OAAUqE,EAAc,OAAUzM,EAAU,aAAgB0M,EAAmB,OAAUA,EAAmB,KAAQxL,EAAM,eAC1JqH,GAAkB,KAEpB1J,GAAO,QAAWuJ,EAAc,OAAUpI,EAAU,MAASyM,EAAc,YAAeC,EAAmB,MAASxL,EAAM,MAGhI,OAAAjC,EAAG,cAAgBkJ,EAAI,cAAgBU,EACvChK,GAAO,GAAM0J,EAAkB,QAAWvI,EAAU,qBAChDf,EAAG,eAAiB,IACtBJ,GAAO,sDAAyEI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,gCAAmC6M,EAAmB,MACjNzN,EAAG,KAAK,WAAa,KACvBJ,GAAO,2DAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACH,CAACI,EAAG,eAAiBa,IAEnBb,EAAG,MACLJ,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,sBAAyB8J,EAAS,iCAAoCA,EAAS,sBAAyBA,EAAS,2BACpH1J,EAAG,KAAK,YACVJ,GAAO,OAEFA,CACT,ECvEA8N,GAAiB,SAA0B1N,EAAIC,EAAUC,EAAW,CAClE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BuJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EACEpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEjB,IAAIiN,EAAU3D,EAAU,eAAiBoB,EAAe,KAAOpL,EAAG,WAAWU,CAAO,EACpFd,GAAO,QACHoK,IACFpK,GAAO,KAAQwL,EAAgB,4BAA+BA,EAAgB,qBAEhFxL,GAAO,KAAQ+N,EAAW,SAAY7S,EAAS,WAC/C,IAAIkG,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,wDAA2EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,0BAC7JoJ,EACFpK,GAAO,GAAMwL,EAEbxL,GAAO,GAAMI,EAAG,KAAK,eAAeU,CAAO,EAE7Cd,GAAO,OACHI,EAAG,KAAK,WAAa,KACvBJ,GAAO,sCACHoK,EACFpK,GAAO,OAAWwL,EAAgB,OAElCxL,GAAO,GAAMI,EAAG,KAAK,aAAaU,CAAO,EAE3Cd,GAAO,OAELI,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMI,EAAG,KAAK,eAAeU,CAAO,EAE7Cd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZ,OAAAA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,KACHiB,IACFjB,GAAO,YAEFA,CACT,ECzEAgO,GAAiB,SAA6B5N,EAAIC,EAAUC,EAAW,CACrE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BiJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC3B2E,EAAO,MAAQrN,EACjB0J,EAAO,MAAQ1J,EACf2J,EAAWjB,EAAI,UAAYlJ,EAAG,UAAY,EAC1CoK,EAAY,OAASD,EACrB2D,EAAkB,iBAAmBtN,EACnCgC,EAAc,OAAO,KAAK9B,GAAW,EAAE,EAAE,OAAOqN,CAAQ,EAC1DC,EAAehO,EAAG,OAAO,mBAAqB,CAAE,EAChDiO,EAAiB,OAAO,KAAKD,CAAY,EAAE,OAAOD,CAAQ,EAC1DG,EAAelO,EAAG,OAAO,qBACzBmO,EAAkB3L,EAAY,QAAUyL,EAAe,OACvDG,EAAgBF,IAAiB,GACjCG,EAAsB,OAAOH,GAAgB,UAAY,OAAO,KAAKA,CAAY,EAAE,OACnFI,EAAoBtO,EAAG,KAAK,iBAC5BuO,EAAmBH,GAAiBC,GAAuBC,EAC3D7D,EAAiBzK,EAAG,KAAK,cACzBuJ,EAAiBvJ,EAAG,OAClBwO,EAAYxO,EAAG,OAAO,SAC1B,GAAIwO,GAAa,EAAExO,EAAG,KAAK,OAASwO,EAAU,QAAUA,EAAU,OAASxO,EAAG,KAAK,aACjF,IAAIyO,EAAgBzO,EAAG,KAAK,OAAOwO,CAAS,EAG9C,SAAST,EAAS3Q,GAAG,CACnB,OAAOA,KAAM,WACd,CAKD,GAJAwC,GAAO,OAAU8J,EAAS,iBAAoBP,EAAc,WACxDsB,IACF7K,GAAO,QAAWkO,EAAmB,iBAEnCS,EAAkB,CAMpB,GALI9D,EACF7K,GAAO,IAAOkO,EAAmB,MAASA,EAAmB,mBAAsBhT,EAAS,eAAkBoP,EAAQ,OAAUA,EAAQ,IAAO4D,EAAmB,YAAe5D,EAAQ,aAAgB2D,EAAQ,MAASC,EAAmB,IAAO5D,EAAQ,MAE5PtK,GAAO,aAAgBiO,EAAQ,OAAU/S,EAAS,OAEhDqT,EAAiB,CAEnB,GADAvO,GAAO,oBAAuBY,EAAQ,cAClCgC,EAAY,OACd,GAAIA,EAAY,OAAS,EACvB5C,GAAO,sBAAyBe,EAAe,mBAAsBkN,EAAQ,SACxE,CACL,IAAI9L,EAAOS,EACX,GAAIT,EAGF,QAFIW,EAAcgM,EAAK,GACrBxM,GAAKH,EAAK,OAAS,EACd2M,EAAKxM,IACVQ,EAAeX,EAAK2M,GAAM,CAAC,EAC3B9O,GAAO,OAAUiO,EAAQ,OAAU7N,EAAG,KAAK,eAAe0C,CAAY,EAAK,GAGhF,CAEH,GAAIuL,EAAe,OAAQ,CACzB,IAAI5L,GAAO4L,EACX,GAAI5L,GAGF,QAFIsM,EAAY1M,GAAK,GACnBM,GAAKF,GAAK,OAAS,EACdJ,GAAKM,IACVoM,EAAatM,GAAKJ,IAAM,CAAC,EACzBrC,GAAO,OAAUI,EAAG,WAAW2O,CAAU,EAAK,SAAYd,EAAQ,IAGvE,CACDjO,GAAO,uBAA0BY,EAAQ,MAC1C,CACD,GAAI8N,GAAqB,MACvB1O,GAAO,WAAc9E,EAAS,IAAO+S,EAAQ,UACxC,CACL,IAAIjD,GAAoB5K,EAAG,UACvB4O,GAAsB,OAAUf,EAAO,OAI3C,GAHI7N,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,YAAYA,EAAG,UAAW6N,EAAM7N,EAAG,KAAK,YAAY,GAEzEoO,EACF,GAAIE,EACF1O,GAAO,WAAc9E,EAAS,IAAO+S,EAAQ,UACxC,CACLjO,GAAO,IAAOuJ,EAAc,aAC5B,IAAIgD,GAAqBvL,EACzBA,EAAiBZ,EAAG,cAAgB,wBACpC,IAAIgB,GAAaA,IAAc,GAC/BA,GAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,qEAAwFI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,qCAAyCgO,GAAuB,OAC1O5O,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBACHI,EAAG,KAAK,uBACVJ,GAAO,oCAEPA,GAAO,wCAETA,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,mDAAsDI,EAAG,WAAc,YAAelF,EAAS,KAExG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,GAAQrB,EACZA,EAAMoB,GAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,GAAS,OAElDrB,GAAO,uBAA0BqB,GAAS,oBAG5CrB,GAAO,cAAiBqB,GAAS,+EAEnCL,EAAiBuL,GACbtL,IACFjB,GAAO,WAEV,SACQyO,EACT,GAAIC,GAAqB,UAAW,CAClC1O,GAAO,QAAW8J,EAAS,eAC3B,IAAIE,GAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvCA,EAAI,OAASgF,EACbhF,EAAI,WAAalJ,EAAG,WAAa,wBACjCkJ,EAAI,cAAgBlJ,EAAG,cAAgB,wBACvCkJ,EAAI,UAAYlJ,EAAG,KAAK,uBAAyBA,EAAG,UAAYA,EAAG,KAAK,YAAYA,EAAG,UAAW6N,EAAM7N,EAAG,KAAK,YAAY,EAC5H,IAAI8C,GAAYhI,EAAQ,IAAM+S,EAAO,IACrC3E,EAAI,YAAYiB,CAAQ,EAAI0D,EAC5B,IAAIvK,GAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,GAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,GAAO8G,EAAWtH,EAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,GAAa,KAAQQ,GAAS,IAExE1D,GAAO,SAAYuJ,EAAc,gBAAmBO,EAAS,wHAA2H5O,EAAS,IAAO+S,EAAQ,SAChN7N,EAAG,cAAgBkJ,EAAI,cAAgBU,EACjD,KAAe,CACLV,EAAI,OAASgF,EACbhF,EAAI,WAAalJ,EAAG,WAAa,wBACjCkJ,EAAI,cAAgBlJ,EAAG,cAAgB,wBACvCkJ,EAAI,UAAYlJ,EAAG,KAAK,uBAAyBA,EAAG,UAAYA,EAAG,KAAK,YAAYA,EAAG,UAAW6N,EAAM7N,EAAG,KAAK,YAAY,EAC5H,IAAI8C,GAAYhI,EAAQ,IAAM+S,EAAO,IACrC3E,EAAI,YAAYiB,CAAQ,EAAI0D,EAC5B,IAAIvK,GAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,GAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,GAAO8G,EAAWtH,EAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,GAAa,KAAQQ,GAAS,IAEpEzC,IACFjB,GAAO,SAAYuJ,EAAc,YAEpC,CAEHnJ,EAAG,UAAY4K,EAChB,CACGuD,IACFvO,GAAO,OAETA,GAAO,OACHiB,IACFjB,GAAO,QAAWuJ,EAAc,OAChCG,GAAkB,IAErB,CACD,IAAIuF,EAAe7O,EAAG,KAAK,aAAe,CAACA,EAAG,cAC9C,GAAIwC,EAAY,OAAQ,CACtB,IAAIC,EAAOD,EACX,GAAIC,EAGF,QAFIC,EAAcC,EAAK,GACrBC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GAAI,CACdF,EAAeD,EAAKE,GAAM,CAAC,EAC3B,IAAIE,EAAOnC,EAAQgC,CAAY,EAC/B,GAAK1C,EAAG,KAAK,eAAiB,OAAO6C,GAAQ,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,EAAI7C,EAAG,KAAK,eAAe6C,EAAM7C,EAAG,MAAM,GAAG,EAAI,CACnI,IAAI6K,EAAQ7K,EAAG,KAAK,YAAY0C,CAAY,EAC1CI,GAAYhI,EAAQ+P,EACpBiE,EAAcD,GAAgBhM,EAAK,UAAY,OACjDqG,EAAI,OAASrG,EACbqG,EAAI,WAAavI,EAAckK,EAC/B3B,EAAI,cAAgBtI,EAAiB,IAAMZ,EAAG,KAAK,eAAe0C,CAAY,EAC9EwG,EAAI,UAAYlJ,EAAG,KAAK,QAAQA,EAAG,UAAW0C,EAAc1C,EAAG,KAAK,YAAY,EAChFkJ,EAAI,YAAYiB,CAAQ,EAAInK,EAAG,KAAK,eAAe0C,CAAY,EAC/D,IAAIY,GAAQtD,EAAG,SAASkJ,CAAG,EAE3B,GADAA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,GAAO8G,CAAS,EAAI,EAAG,CAC/C9G,GAAQtD,EAAG,KAAK,WAAWsD,GAAO8G,EAAWtH,EAAS,EACtD,IAAIgI,GAAWhI,EAC3B,KAAiB,CACL,IAAIgI,GAAWV,EACfxK,GAAO,QAAWwK,EAAa,MAAStH,GAAa,IACtD,CACD,GAAIgM,EACFlP,GAAO,IAAO0D,GAAS,QAClB,CACL,GAAImL,GAAiBA,EAAc/L,CAAY,EAAG,CAChD9C,GAAO,SAAYkL,GAAY,kBAC3BL,IACF7K,GAAO,8CAAiD9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0C,CAAY,EAAK,OAEnH9C,GAAO,OAAUuJ,EAAc,aAC/B,IAAIyB,GAAoB5K,EAAG,UACzBmM,GAAqBvL,EACrBoK,GAAmBhL,EAAG,KAAK,aAAa0C,CAAY,EAClD1C,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,QAAQ4K,GAAmBlI,EAAc1C,EAAG,KAAK,YAAY,GAEtFY,EAAiBZ,EAAG,cAAgB,YACpC,IAAIgB,GAAaA,IAAc,GAC/BA,GAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,yDAA4EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,kCAAsCoK,GAAoB,OACxNhL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBACHI,EAAG,KAAK,uBACVJ,GAAO,yBAEPA,GAAO,oCAAwCoL,GAAoB,MAErEpL,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,GAAQrB,EACZA,EAAMoB,GAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,GAAS,OAElDrB,GAAO,uBAA0BqB,GAAS,oBAG5CrB,GAAO,cAAiBqB,GAAS,+EAEnCL,EAAiBuL,GACjBnM,EAAG,UAAY4K,GACfhL,GAAO,YACrB,MACkBiB,GACFjB,GAAO,SAAYkL,GAAY,kBAC3BL,IACF7K,GAAO,8CAAiD9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0C,CAAY,EAAK,OAEnH9C,GAAO,OAAUuJ,EAAc,uBAE/BvJ,GAAO,QAAWkL,GAAY,kBAC1BL,IACF7K,GAAO,8CAAiD9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0C,CAAY,EAAK,OAEnH9C,GAAO,SAGXA,GAAO,IAAO0D,GAAS,KACxB,CACF,CACGzC,IACFjB,GAAO,QAAWuJ,EAAc,OAChCG,GAAkB,IAErB,CAEJ,CACD,GAAI2E,EAAe,OAAQ,CACzB,IAAIlL,GAAOkL,EACX,GAAIlL,GAGF,QAFI4L,EAAYI,GAAK,GACnB/L,GAAKD,GAAK,OAAS,EACdgM,GAAK/L,IAAI,CACd2L,EAAa5L,GAAKgM,IAAM,CAAC,EACzB,IAAIlM,EAAOmL,EAAaW,CAAU,EAClC,GAAK3O,EAAG,KAAK,eAAiB,OAAO6C,GAAQ,UAAY,OAAO,KAAKA,CAAI,EAAE,OAAS,EAAI7C,EAAG,KAAK,eAAe6C,EAAM7C,EAAG,MAAM,GAAG,EAAI,CACnIkJ,EAAI,OAASrG,EACbqG,EAAI,WAAalJ,EAAG,WAAa,qBAAuBA,EAAG,KAAK,YAAY2O,CAAU,EACtFzF,EAAI,cAAgBlJ,EAAG,cAAgB,sBAAwBA,EAAG,KAAK,eAAe2O,CAAU,EAC5FlE,EACF7K,GAAO,IAAOkO,EAAmB,MAASA,EAAmB,mBAAsBhT,EAAS,eAAkBoP,EAAQ,OAAUA,EAAQ,IAAO4D,EAAmB,YAAe5D,EAAQ,aAAgB2D,EAAQ,MAASC,EAAmB,IAAO5D,EAAQ,MAE5PtK,GAAO,aAAgBiO,EAAQ,OAAU/S,EAAS,OAEpD8E,GAAO,QAAWI,EAAG,WAAW2O,CAAU,EAAK,SAAYd,EAAQ,QACnE3E,EAAI,UAAYlJ,EAAG,KAAK,YAAYA,EAAG,UAAW6N,EAAM7N,EAAG,KAAK,YAAY,EAC5E,IAAI8C,GAAYhI,EAAQ,IAAM+S,EAAO,IACrC3E,EAAI,YAAYiB,CAAQ,EAAI0D,EAC5B,IAAIvK,GAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,GAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,GAAO8G,EAAWtH,EAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,GAAa,KAAQQ,GAAS,IAEpEzC,IACFjB,GAAO,SAAYuJ,EAAc,aAEnCvJ,GAAO,MACHiB,IACFjB,GAAO,SAAYuJ,EAAc,aAEnCvJ,GAAO,OACHiB,IACFjB,GAAO,QAAWuJ,EAAc,OAChCG,GAAkB,IAErB,CACF,CAEJ,CACD,OAAIzI,IACFjB,GAAO,IAAO0J,EAAkB,QAAWI,EAAS,iBAE/C9J,CACT,EC7UAoP,GAAiB,SAAgChP,EAAIC,EAAUC,EAAW,CACxE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BiJ,EAAQ,SAAWlJ,EACnB0I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAE/B,GADAtJ,GAAO,OAAU8J,EAAS,aACrB1J,EAAG,KAAK,eAAiB,OAAOU,GAAW,UAAY,OAAO,KAAKA,CAAO,EAAE,OAAS,EAAIV,EAAG,KAAK,eAAeU,EAASV,EAAG,MAAM,GAAG,EAAI,CAC5IkJ,EAAI,OAASxI,EACbwI,EAAI,WAAavI,EACjBuI,EAAI,cAAgBtI,EACpB,IAAIiN,EAAO,MAAQrN,EACjB0J,EAAO,MAAQ1J,EACfyB,EAAK,IAAMzB,EACXyO,EAAe,OAAUpB,EAAO,OAChC1D,EAAWjB,EAAI,UAAYlJ,EAAG,UAAY,EAC1CoK,EAAY,OAASD,EACrB2D,EAAkB,iBAAmBtN,EACrCiK,EAAiBzK,EAAG,KAAK,cACzBuJ,EAAiBvJ,EAAG,OAClByK,IACF7K,GAAO,QAAWkO,EAAmB,kBAEnCrD,EACF7K,GAAO,IAAOkO,EAAmB,MAASA,EAAmB,mBAAsBhT,EAAS,eAAkBoP,EAAQ,OAAUA,EAAQ,IAAO4D,EAAmB,YAAe5D,EAAQ,aAAgB2D,EAAQ,MAASC,EAAmB,IAAO5D,EAAQ,MAE5PtK,GAAO,aAAgBiO,EAAQ,OAAU/S,EAAS,OAEpD8E,GAAO,iBAAoBY,EAAQ,cACnC,IAAIsC,EAAY+K,EACZjE,EAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvC,IAAI5F,EAAQtD,EAAG,SAASkJ,CAAG,EAC3BA,EAAI,OAASK,EACTvJ,EAAG,KAAK,cAAcsD,EAAO8G,CAAS,EAAI,EAC5CxK,GAAO,IAAOI,EAAG,KAAK,WAAWsD,EAAO8G,EAAWtH,CAAS,EAAK,IAEjElD,GAAO,QAAWwK,EAAa,MAAStH,EAAa,KAAQQ,EAAS,IAExEtD,EAAG,cAAgBkJ,EAAI,cAAgBU,EACvChK,GAAO,SAAYuJ,EAAc,gBAAmBlH,EAAM,aAAgBzB,EAAQ,KAAQyB,EAAM,YAAeA,EAAM,iBAAoBA,EAAM,oBAAuB4L,EAAQ,qBAC1K7N,EAAG,eAAiB,IACtBJ,GAAO,8DAAiFI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,+BAAmCqO,EAAgB,OACtNjP,EAAG,KAAK,WAAa,KACvBJ,GAAO,iCAAsCqP,EAAgB,oBAE3DjP,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACH,CAACI,EAAG,eAAiBa,IAEnBb,EAAG,MACLJ,GAAO,wCAEPA,GAAO,8CAGPiB,IACFjB,GAAO,YAETA,GAAO,MACR,CACD,OAAIiB,IACFjB,GAAO,IAAO0J,EAAkB,QAAWI,EAAS,iBAE/C9J,CACT,EC/EAsP,GAAiB,SAA2BlP,EAAIC,EAAUC,EAAW,CACnE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBwJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAE9CsJ,IACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,MAKvG,IAAIkL,EAAW,SAAW1K,EAC1B,GAAI,CAACwJ,EACH,GAAItJ,EAAQ,OAASV,EAAG,KAAK,cAAgBA,EAAG,OAAO,YAAc,OAAO,KAAKA,EAAG,OAAO,UAAU,EAAE,OAAQ,CAC7G,IAAIwO,EAAY,CAAA,EACZzM,EAAOrB,EACX,GAAIqB,EAGF,QAFI2I,EAAWgE,EAAK,GAClBxM,EAAKH,EAAK,OAAS,EACd2M,EAAKxM,GAAI,CACdwI,EAAY3I,EAAK2M,GAAM,CAAC,EACxB,IAAIS,EAAenP,EAAG,OAAO,WAAW0K,CAAS,EAC3CyE,IAAiBnP,EAAG,KAAK,eAAiB,OAAOmP,GAAgB,UAAY,OAAO,KAAKA,CAAY,EAAE,OAAS,EAAInP,EAAG,KAAK,eAAemP,EAAcnP,EAAG,MAAM,GAAG,KACzKwO,EAAUA,EAAU,MAAM,EAAI9D,EAEjC,CAET,KACM,KAAI8D,EAAY9N,EAGpB,GAAIsJ,GAAWwE,EAAU,OAAQ,CAC/B,IAAI5D,EAAoB5K,EAAG,UACzBoP,EAAgBpF,GAAWwE,EAAU,QAAUxO,EAAG,KAAK,aACvDyK,EAAiBzK,EAAG,KAAK,cAC3B,GAAIa,EAEF,GADAjB,GAAO,eAAkBY,EAAQ,KAC7B4O,EAAe,CACZpF,IACHpK,GAAO,QAAWsL,EAAY,qBAAwBvK,EAAe,MAEvE,IAAIsB,EAAK,IAAMzB,EACbuK,EAAgB,SAAWvK,EAAO,IAAMyB,EAAK,IAC7C+I,EAAmB,OAAUD,EAAgB,OAC3C/K,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,YAAY4K,EAAmBG,EAAe/K,EAAG,KAAK,YAAY,GAE3FJ,GAAO,QAAWmB,EAAU,YACxBiJ,IACFpK,GAAO,cAAiBY,EAAQ,mBAAsBO,EAAU,0CAA6CP,EAAQ,MAASO,EAAU,oBAE1InB,GAAO,aAAgBqC,EAAM,SAAYA,EAAM,MAASiJ,EAAY,YAAejJ,EAAM,SAAYlB,EAAU,MAASjG,EAAS,IAAOoQ,EAAY,IAAOjJ,EAAM,oBAC7JwI,IACF7K,GAAO,8CAAiD9E,EAAS,KAAQoQ,EAAY,IAAOjJ,EAAM,OAEpGrC,GAAO,UAAamB,EAAU,cAC1BiJ,IACFpK,GAAO,SAETA,GAAO,UAAamB,EAAU,SAC9B,IAAIC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,yDAA4EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,kCAAsCoK,EAAoB,OACxNhL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBACHI,EAAG,KAAK,uBACVJ,GAAO,yBAEPA,GAAO,oCAAwCoL,EAAoB,MAErEpL,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,YACf,KAAa,CACLA,GAAO,SACP,IAAIyC,EAAOmM,EACX,GAAInM,EAGF,QAFIK,EAAcT,EAAK,GACrBM,EAAKF,EAAK,OAAS,EACdJ,EAAKM,GAAI,CACdG,EAAeL,EAAKJ,GAAM,CAAC,EACvBA,IACFrC,GAAO,QAET,IAAIiL,EAAQ7K,EAAG,KAAK,YAAY0C,CAAY,EAC1CoI,EAAWhQ,EAAQ+P,EACrBjL,GAAO,QAAWkL,EAAY,kBAC1BL,IACF7K,GAAO,8CAAiD9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0C,CAAY,EAAK,OAEnH9C,GAAO,gBAAmBY,EAAQ,MAASR,EAAG,KAAK,eAAeA,EAAG,KAAK,aAAe0C,EAAemI,CAAK,EAAK,MACnH,CAEHjL,GAAO,QACP,IAAImL,EAAgB,UAAYvK,EAC9BwK,EAAmB,OAAUD,EAAgB,OAC3C/K,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,aAAeA,EAAG,KAAK,YAAY4K,EAAmBG,EAAe,EAAI,EAAIH,EAAoB,MAAQG,GAElI,IAAI/J,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,yDAA4EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,kCAAsCoK,EAAoB,OACxNhL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBACHI,EAAG,KAAK,uBACVJ,GAAO,yBAEPA,GAAO,oCAAwCoL,EAAoB,MAErEpL,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,YACR,SAEGwP,EAAe,CACZpF,IACHpK,GAAO,QAAWsL,EAAY,qBAAwBvK,EAAe,MAEvE,IAAIsB,EAAK,IAAMzB,EACbuK,EAAgB,SAAWvK,EAAO,IAAMyB,EAAK,IAC7C+I,EAAmB,OAAUD,EAAgB,OAC3C/K,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,YAAY4K,EAAmBG,EAAe/K,EAAG,KAAK,YAAY,GAEvFgK,IACFpK,GAAO,QAAWsL,EAAY,sBAAyBA,EAAY,qBAC/DlL,EAAG,eAAiB,IACtBJ,GAAO,yDAA4EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,kCAAsCoK,EAAoB,OACxNhL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBACHI,EAAG,KAAK,uBACVJ,GAAO,yBAEPA,GAAO,oCAAwCoL,EAAoB,MAErEpL,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,0FAA6FsL,EAAY,sBAElHtL,GAAO,aAAgBqC,EAAM,SAAYA,EAAM,MAASiJ,EAAY,YAAejJ,EAAM,aAAgBnH,EAAS,IAAOoQ,EAAY,IAAOjJ,EAAM,oBAC9IwI,IACF7K,GAAO,8CAAiD9E,EAAS,KAAQoQ,EAAY,IAAOjJ,EAAM,OAEpGrC,GAAO,oBACHI,EAAG,eAAiB,IACtBJ,GAAO,yDAA4EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,kCAAsCoK,EAAoB,OACxNhL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBACHI,EAAG,KAAK,uBACVJ,GAAO,yBAEPA,GAAO,oCAAwCoL,EAAoB,MAErEpL,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,mFACHoK,IACFpK,GAAO,QAEjB,KAAa,CACL,IAAI6C,EAAO+L,EACX,GAAI/L,EAGF,QAFIC,EAAcC,EAAK,GACrBC,EAAKH,EAAK,OAAS,EACdE,EAAKC,GAAI,CACdF,EAAeD,EAAKE,GAAM,CAAC,EAC3B,IAAIkI,EAAQ7K,EAAG,KAAK,YAAY0C,CAAY,EAC1CsI,EAAmBhL,EAAG,KAAK,aAAa0C,CAAY,EACpDoI,EAAWhQ,EAAQ+P,EACjB7K,EAAG,KAAK,yBACVA,EAAG,UAAYA,EAAG,KAAK,QAAQ4K,EAAmBlI,EAAc1C,EAAG,KAAK,YAAY,GAEtFJ,GAAO,SAAYkL,EAAY,kBAC3BL,IACF7K,GAAO,8CAAiD9E,EAAS,MAAUkF,EAAG,KAAK,aAAa0C,CAAY,EAAK,OAEnH9C,GAAO,oBACHI,EAAG,eAAiB,IACtBJ,GAAO,yDAA4EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,kCAAsCoK,EAAoB,OACxNhL,EAAG,KAAK,WAAa,KACvBJ,GAAO,gBACHI,EAAG,KAAK,uBACVJ,GAAO,yBAEPA,GAAO,oCAAwCoL,EAAoB,MAErEpL,GAAO,MAELI,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACR,CAEJ,CAEHI,EAAG,UAAY4K,CAChB,MAAU/J,IACTjB,GAAO,gBAET,OAAOA,CACT,EC5QAyP,GAAiB,SAA8BrP,EAAIC,EAAUC,EAAW,CACtE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBlF,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBwJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EAOF,GANIpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,GAEZA,GAAWsJ,IAAYhK,EAAG,KAAK,cAAgB,GAAO,CACrDgK,IACFpK,GAAO,QAAWmB,EAAU,SAAYqK,EAAgB,iBAAoBA,EAAgB,mBAAsBrK,EAAU,4BAA+BqK,EAAgB,kBAAuBrK,EAAU,qBAE9MnB,GAAO,YAAe9E,EAAS,aAAgBiG,EAAU,6BACzD,IAAIuO,EAAYtP,EAAG,OAAO,OAASA,EAAG,OAAO,MAAM,KACjDuB,EAAe,MAAM,QAAQ+N,CAAS,EACxC,GAAI,CAACA,GAAaA,GAAa,UAAYA,GAAa,SAAY/N,IAAiB+N,EAAU,QAAQ,QAAQ,GAAK,GAAKA,EAAU,QAAQ,OAAO,GAAK,GACrJ1P,GAAO,uDAA0D9E,EAAS,QAAWA,EAAS,WAAciG,EAAU,oCACjH,CACLnB,GAAO,yDAA4D9E,EAAS,QAC5E,IAAI6G,EAAU,iBAAmBJ,EAAe,IAAM,IACtD3B,GAAO,QAAWI,EAAG,KAAK2B,CAAO,EAAE2N,EAAW,OAAQtP,EAAG,KAAK,cAAe,EAAI,EAAK,eAClFuB,IACF3B,GAAO,qDAETA,GAAO,gDAAqDmB,EAAU,qEACvE,CACDnB,GAAO,MACHoK,IACFpK,GAAO,SAETA,GAAO,SAAYmB,EAAU,SAC7B,IAAIC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,4DAA+EI,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,6BACjKZ,EAAG,KAAK,WAAa,KACvBJ,GAAO,mGAELI,EAAG,KAAK,UACVJ,GAAO,eACHoK,EACFpK,GAAO,kBAAqBe,EAE5Bf,GAAO,GAAMc,EAEfd,GAAO,2CAA8CI,EAAG,WAAc,YAAelF,EAAS,KAEhG8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,EAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,EAAS,OAElDrB,GAAO,uBAA0BqB,EAAS,oBAG5CrB,GAAO,cAAiBqB,EAAS,+EAEnCrB,GAAO,MACHiB,IACFjB,GAAO,WAEb,MACQiB,IACFjB,GAAO,iBAGX,OAAOA,CACT,EClFA2P,GAAiB,CACf,KAAQvhB,GACR,MAAO4D,GACP,MAAOoB,GACP,SAAYC,GACZ,MAAOE,GACP,SAAUE,GACV,aAAcC,GACd,KAAQE,GACR,OAAQsB,GACR,GAAM0a,GACN,MAAOC,GACP,QAASC,GACT,QAASA,GACT,SAAUC,GACV,SAAUA,GACV,UAAWC,GACX,UAAWA,GACX,cAAeC,GACf,cAAeA,GACf,WAAYC,GACZ,IAAKC,GACL,MAAOC,GACP,QAASC,GACT,WAAYC,GACZ,cAAeC,GACf,SAAUC,GACV,YAAaC,GACb,SAAUC,EACZ,EC9BIC,GAAcviB,GACdkK,GAAStG,GAAkB,OAE/BwI,GAAiB,UAAiB,CAChC,IAAIoK,EAAQ,CACV,CAAE,KAAM,SACN,MAAO,CAAE,CAAE,QAAW,CAAC,kBAAkB,CAAG,EACnC,CAAE,QAAW,CAAC,kBAAkB,CAAG,EAAE,aAAc,QAAQ,CAAG,EACzE,CAAE,KAAM,SACN,MAAO,CAAE,YAAa,YAAa,UAAW,QAAQ,CAAI,EAC5D,CAAE,KAAM,QACN,MAAO,CAAE,WAAY,WAAY,QAAS,WAAY,cAAiB,EACzE,CAAE,KAAM,SACN,MAAO,CAAE,gBAAiB,gBAAiB,WAAY,eAAgB,gBAC9D,CAAE,WAAc,CAAC,uBAAwB,mBAAmB,CAAG,CAAA,CAAI,EAC9E,CAAE,MAAO,CAAE,OAAQ,QAAS,OAAQ,MAAO,QAAS,QAAS,QAAS,KAAQ,CAClF,EAEMgM,EAAM,CAAE,OAAQ,YAChBC,EAAW,CACb,UAAW,MAAO,KAAM,QAAS,SAAU,QAC3C,cAAe,UAAW,cAC1B,WAAY,WAAY,YACxB,mBAAoB,kBACpB,kBAAmB,OAAQ,MAC/B,EACMC,EAAQ,CAAE,SAAU,UAAW,SAAU,QAAS,SAAU,UAAW,QAC3E,OAAAlM,EAAM,IAAMtM,GAAOsY,CAAG,EACtBhM,EAAM,MAAQtM,GAAOwY,CAAK,EAE1BlM,EAAM,QAAQ,SAAUmM,EAAO,CAC7BA,EAAM,MAAQA,EAAM,MAAM,IAAI,SAAUjK,EAAS,CAC/C,IAAIkK,EACJ,GAAI,OAAOlK,GAAW,SAAU,CAC9B,IAAIta,EAAM,OAAO,KAAKsa,CAAO,EAAE,CAAC,EAChCkK,EAAelK,EAAQta,CAAG,EAC1Bsa,EAAUta,EACVwkB,EAAa,QAAQ,SAAUC,EAAG,CAChCL,EAAI,KAAKK,CAAC,EACVrM,EAAM,IAAIqM,CAAC,EAAI,EACzB,CAAS,CACF,CACDL,EAAI,KAAK9J,CAAO,EAChB,IAAIF,EAAOhC,EAAM,IAAIkC,CAAO,EAAI,CAC9B,QAASA,EACT,KAAM6J,GAAY7J,CAAO,EACzB,WAAYkK,CACpB,EACM,OAAOpK,CACb,CAAK,EAEDhC,EAAM,IAAI,SAAW,CACnB,QAAS,WACT,KAAM+L,GAAY,QACxB,EAEQI,EAAM,OAAMnM,EAAM,MAAMmM,EAAM,IAAI,EAAIA,EAC9C,CAAG,EAEDnM,EAAM,SAAWtM,GAAOsY,EAAI,OAAOC,CAAQ,CAAC,EAC5CjM,EAAM,OAAS,GAERA,CACT,EC/DIiM,GAAW,CACb,aACA,UACA,mBACA,UACA,mBACA,YACA,YACA,UACA,kBACA,WACA,WACA,cACA,gBACA,gBACA,WACA,uBACA,OACA,SACA,OACF,EAEAniB,GAAiB,SAAUwiB,EAAYC,EAAsB,CAC3D,QAAS5hB,EAAE,EAAGA,EAAE4hB,EAAqB,OAAQ5hB,IAAK,CAChD2hB,EAAa,KAAK,MAAM,KAAK,UAAUA,CAAU,CAAC,EAClD,IAAI3V,EAAW4V,EAAqB5hB,CAAC,EAAE,MAAM,GAAG,EAC5C6hB,EAAWF,EACXG,EACJ,IAAKA,EAAE,EAAGA,EAAE9V,EAAS,OAAQ8V,IAC3BD,EAAWA,EAAS7V,EAAS8V,CAAC,CAAC,EAEjC,IAAKA,EAAE,EAAGA,EAAER,GAAS,OAAQQ,IAAK,CAChC,IAAI7kB,EAAMqkB,GAASQ,CAAC,EAChB9W,EAAS6W,EAAS5kB,CAAG,EACrB+N,IACF6W,EAAS5kB,CAAG,EAAI,CACd,MAAO,CACL+N,EACA,CAAE,KAAM,gFAAkF,CAC3F,CACX,EAEK,CACF,CAED,OAAO2W,CACT,EC9CI9R,GAAkBhR,GAA2B,WAEjDkjB,GAAiBC,GAYjB,SAASA,GAAahX,EAAQiX,EAAM5f,EAAU,CAI5C,IAAImN,EAAO,KACX,GAAI,OAAO,KAAK,MAAM,YAAc,WAClC,MAAM,IAAI,MAAM,yCAAyC,EAEvD,OAAOyS,GAAQ,aACjB5f,EAAW4f,EACXA,EAAO,QAGT,IAAIhU,EAAIiU,EAAiBlX,CAAM,EAAE,KAAK,UAAY,CAChD,IAAImX,EAAY3S,EAAK,WAAWxE,EAAQ,OAAWiX,CAAI,EACvD,OAAOE,EAAU,UAAYC,EAAcD,CAAS,CACxD,CAAG,EAED,OAAI9f,GACF4L,EAAE,KACA,SAASxH,EAAG,CAAEpE,EAAS,KAAMoE,CAAC,CAAI,EAClCpE,CACN,EAGS4L,EAGP,SAASiU,EAAiBlV,EAAK,CAC7B,IAAIuE,EAAUvE,EAAI,QAClB,OAAOuE,GAAW,CAAC/B,EAAK,UAAU+B,CAAO,EAC/ByQ,GAAa,KAAKxS,EAAM,CAAE,KAAM+B,CAAS,EAAE,EAAI,EAC/C,QAAQ,QAAO,CAC1B,CAGD,SAAS6Q,EAAcD,EAAW,CAChC,GAAI,CAAE,OAAO3S,EAAK,SAAS2S,CAAS,CAAI,OAClCzd,EAAG,CACP,GAAIA,aAAamL,GAAiB,OAAOwS,EAAkB3d,CAAC,EAC5D,MAAMA,CACP,CAGD,SAAS2d,EAAkB3d,EAAG,CAC5B,IAAItI,EAAMsI,EAAE,cACZ,GAAI4d,EAAMlmB,CAAG,EAAG,MAAM,IAAI,MAAM,UAAYA,EAAM,kBAAoBsI,EAAE,WAAa,qBAAqB,EAE1G,IAAI6d,EAAgB/S,EAAK,gBAAgBpT,CAAG,EAC5C,OAAKmmB,IACHA,EAAgB/S,EAAK,gBAAgBpT,CAAG,EAAIoT,EAAK,MAAM,WAAWpT,CAAG,EACrEmmB,EAAc,KAAKC,EAAeA,CAAa,GAG1CD,EAAc,KAAK,SAAUvV,EAAK,CACvC,GAAI,CAACsV,EAAMlmB,CAAG,EACZ,OAAO8lB,EAAiBlV,CAAG,EAAE,KAAK,UAAY,CACvCsV,EAAMlmB,CAAG,GAAGoT,EAAK,UAAUxC,EAAK5Q,EAAK,OAAW6lB,CAAI,CACrE,CAAW,CAEX,CAAO,EAAE,KAAK,UAAW,CACjB,OAAOG,EAAcD,CAAS,CACtC,CAAO,EAED,SAASK,GAAgB,CACvB,OAAOhT,EAAK,gBAAgBpT,CAAG,CAChC,CAED,SAASkmB,EAAMlmB,EAAK,CAClB,OAAOoT,EAAK,MAAMpT,CAAG,GAAKoT,EAAK,SAASpT,CAAG,CAC5C,CACF,CACF,CACH,KCxFAqmB,GAAiB,SAAyB5R,EAAIC,EAAUC,EAAW,CACjE,IAAIN,EAAM,IACNY,EAAOR,EAAG,MACVS,EAAWT,EAAG,UACdU,EAAUV,EAAG,OAAOC,CAAQ,EAC5BU,EAAcX,EAAG,WAAaA,EAAG,KAAK,YAAYC,CAAQ,EAC1DW,EAAiBZ,EAAG,cAAgB,IAAMC,EAC1CY,EAAgB,CAACb,EAAG,KAAK,UACzBc,EACAhG,EAAQ,QAAU2F,GAAY,IAC9BM,EAAS,QAAUP,EACnBkJ,EAAQ,SAAWlJ,EACnBwJ,EAAUhK,EAAG,KAAK,OAASU,GAAWA,EAAQ,MAChD0K,EACEpB,GACFpK,GAAO,cAAiBY,EAAQ,MAASR,EAAG,KAAK,QAAQU,EAAQ,MAAOD,EAAUT,EAAG,WAAW,EAAK,KACrGoL,EAAe,SAAW5K,GAE1B4K,EAAe1K,EAEjB,IAAIwC,EAAQ,KACV2O,EAAc,aAAerR,EAC7BsR,EAAQ5O,EAAM,WACdoG,EAAiB,GACfyI,EAAUC,EAASC,EAAQC,EAAeC,EAC9C,GAAInI,GAAW8H,EAAM,MAAO,CAC1BK,EAAgB,kBAAoB3R,EACpC,IAAI4R,EAAkBN,EAAM,eAC5BlS,GAAO,QAAWiS,EAAe,oBAAwB5R,EAAY,sBAA0BkS,EAAiB,MAASN,EAAe,YAC5I,KAAS,CAEL,GADAK,EAAgBlS,EAAG,cAAckD,EAAOxC,EAASV,EAAG,OAAQA,CAAE,EAC1D,CAACkS,EAAe,OACpB9G,EAAe,kBAAoBzK,EACnCwR,EAAgBD,EAAc,KAC9BH,EAAWD,EAAM,QACjBE,EAAUF,EAAM,OAChBG,EAASH,EAAM,KAChB,CACD,IAAIO,EAAYF,EAAgB,UAC9BlQ,EAAK,IAAMzB,EACX8R,EAAW,UAAY9R,EACvB+R,EAAgBT,EAAM,MACxB,GAAIS,GAAiB,CAACvS,EAAG,MAAO,MAAM,IAAI,MAAM,8BAA8B,EAa9E,GAZMgS,GAAWC,IACfrS,GAAO,GAAMyS,EAAa,YAE5BzS,GAAO,OAAU8J,EAAS,iBAAoB3I,EAAU,IACpDiJ,GAAW8H,EAAM,QACnBxI,GAAkB,IAClB1J,GAAO,QAAWwL,EAAgB,qBAAwBrK,EAAU,qBAChEqR,IACF9I,GAAkB,IAClB1J,GAAO,IAAOmB,EAAU,MAAS8Q,EAAe,mBAAsBzG,EAAgB,UAAarK,EAAU,SAG7GiR,EACEF,EAAM,WACRlS,GAAO,IAAOsS,EAAc,SAAY,IAExCtS,GAAO,IAAOmB,EAAU,MAASmR,EAAc,SAAY,aAEpDD,EAAQ,CACjB,IAAI/I,EAAMlJ,EAAG,KAAK,KAAKA,CAAE,EACrBsJ,EAAiB,GACrBJ,EAAI,QACJ,IAAIC,EAAa,QAAUD,EAAI,MAC/BA,EAAI,OAASgJ,EAAc,SAC3BhJ,EAAI,WAAa,GACjB,IAAIU,EAAgB5J,EAAG,cACvBA,EAAG,cAAgBkJ,EAAI,cAAgB,GACvC,IAAI5F,EAAQtD,EAAG,SAASkJ,CAAG,EAAE,QAAQ,oBAAqBiJ,CAAa,EACvEnS,EAAG,cAAgBkJ,EAAI,cAAgBU,EACvChK,GAAO,IAAO0D,CAClB,KAAS,CACL,IAAItC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACNA,GAAO,KAAQuS,EAAiB,UAC5BnS,EAAG,KAAK,YACVJ,GAAO,OAEPA,GAAO,OAELmS,GAAYD,EAAM,SAAW,GAC/BlS,GAAO,MAAS9E,EAAS,IAEzB8E,GAAO,MAASwL,EAAgB,MAAStQ,EAAS,qBAAwBkF,EAAG,WAAc,IAE7FJ,GAAO,sBACHI,EAAG,WAAa,OAClBJ,GAAO,MAASI,EAAG,WAErB,IAAImC,EAAc1B,EAAW,QAAWA,EAAW,GAAM,IAAM,aAC7D2B,EAAsB3B,EAAWT,EAAG,YAAYS,CAAQ,EAAI,qBAC9Db,GAAO,MAASuC,EAAe,MAASC,EAAuB,kBAC/D,IAAIoQ,GAAuB5S,EAC3BA,EAAMoB,EAAW,MACb8Q,EAAM,SAAW,IACnBlS,GAAO,IAAOmB,EAAU,MACpBwR,IACF3S,GAAO,UAETA,GAAO,GAAM4S,GAAwB,MAEjCD,GACFF,EAAY,eAAiB7R,EAC7BZ,GAAO,QAAWyS,EAAa,kBAAqBtR,EAAU,YAAeyR,GAAwB,mBAAsBzR,EAAU,+CAAkDsR,EAAa,iCAEpMzS,GAAO,IAAOyS,EAAa,YAAetR,EAAU,MAASyR,GAAwB,IAG1F,CAKD,GAJIV,EAAM,YACRlS,GAAO,QAAWuC,EAAe,KAAQrH,EAAS,MAASqH,EAAe,IAAOC,EAAuB,MAE1GxC,GAAO,GAAM0J,EACTwI,EAAM,MACJjR,IACFjB,GAAO,qBAEJ,CACLA,GAAO,SACHkS,EAAM,QAAU,QAClBlS,GAAO,KACHqS,EACFrS,GAAO,GAAMuJ,EAEbvJ,GAAO,GAAMmB,GAGfnB,GAAO,IAAO,CAACkS,EAAM,MAAS,IAEhClS,GAAO,OACPkB,EAAgBoC,EAAM,QACtB,IAAIlC,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACN,IAAIoB,EAAaA,GAAc,GAC/BA,EAAW,KAAKpB,CAAG,EACnBA,EAAM,GACFI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,UAAY,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,0BAA8BsC,EAAM,QAAW,OAC5NlD,EAAG,KAAK,WAAa,KACvBJ,GAAO,6BAAiCsD,EAAM,QAAW,0BAEvDlD,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAET,IAAIqB,GAAQrB,EACZA,EAAMoB,EAAW,MACb,CAAChB,EAAG,eAAiBa,EAEnBb,EAAG,MACLJ,GAAO,+BAAkCqB,GAAS,OAElDrB,GAAO,uBAA0BqB,GAAS,oBAG5CrB,GAAO,cAAiBqB,GAAS,+EAEnC,IAAIwR,EAAkB7S,EACtBA,EAAMoB,EAAW,MACbgR,EACEF,EAAM,OACJA,EAAM,QAAU,SAClBlS,GAAO,cAAiBqC,EAAM,IAAOyH,EAAS,KAAQzH,EAAM,YAAeA,EAAM,aAAgBqQ,EAAY,cAAiBrQ,EAAM,UAAaqQ,EAAY,4BAA+BA,EAAY,kCAAuCtS,EAAG,UAAa,SAAYsS,EAAY,gCAAmCA,EAAY,kBAAqB1R,EAAkB,QACzWZ,EAAG,KAAK,UACVJ,GAAO,IAAO0S,EAAY,aAAgBlH,EAAgB,KAAQkH,EAAY,WAAcxX,EAAS,MAEvG8E,GAAO,OAGLkS,EAAM,SAAW,GACnBlS,GAAO,IAAO6S,EAAmB,KAEjC7S,GAAO,QAAW8J,EAAS,iBAAoB+I,EAAmB,uBAA0BxQ,EAAM,IAAOyH,EAAS,KAAQzH,EAAM,YAAeA,EAAM,aAAgBqQ,EAAY,cAAiBrQ,EAAM,UAAaqQ,EAAY,4BAA+BA,EAAY,kCAAuCtS,EAAG,UAAa,SAAYsS,EAAY,gCAAmCA,EAAY,kBAAqB1R,EAAkB,QAC7aZ,EAAG,KAAK,UACVJ,GAAO,IAAO0S,EAAY,aAAgBlH,EAAgB,KAAQkH,EAAY,WAAcxX,EAAS,MAEvG8E,GAAO,SAGFqS,GACTrS,GAAO,kBACHI,EAAG,eAAiB,IACtBJ,GAAO,iBAAoBkB,GAAiB,UAAY,oCAA0Cd,EAAG,UAAa,kBAAqBA,EAAG,KAAK,eAAeY,CAAc,EAAK,0BAA8BsC,EAAM,QAAW,OAC5NlD,EAAG,KAAK,WAAa,KACvBJ,GAAO,6BAAiCsD,EAAM,QAAW,0BAEvDlD,EAAG,KAAK,UACVJ,GAAO,6BAAgCe,EAAe,mCAAsCX,EAAG,WAAc,YAAelF,EAAS,KAEvI8E,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACH,CAACI,EAAG,eAAiBa,IAEnBb,EAAG,MACLJ,GAAO,wCAEPA,GAAO,+CAIPkS,EAAM,SAAW,GACnBlS,GAAO,IAAO6S,EAAmB,KAEjC7S,GAAO,sBAAyByS,EAAa,wCAA2CA,EAAa,mCAAsCA,EAAa,yCAA4CpQ,EAAM,IAAOyH,EAAS,KAAQzH,EAAM,YAAeA,EAAM,aAAgBqQ,EAAY,cAAiBrQ,EAAM,UAAaqQ,EAAY,4BAA+BA,EAAY,kCAAuCtS,EAAG,UAAa,MAASsS,EAAY,kBAAqB1R,EAAkB,OACneZ,EAAG,KAAK,UACVJ,GAAO,IAAO0S,EAAY,aAAgBlH,EAAgB,KAAQkH,EAAY,WAAcxX,EAAS,MAEvG8E,GAAO,eAAkB6S,EAAmB,OAGhD7S,GAAO,MACHiB,IACFjB,GAAO,WAEV,CACD,OAAOA,CACT,g8ECjOA,IAAIkR,GAAa9iB,GAEjB0kB,GAAiB,CACf,IAAK,4EACL,YAAa,CACX,YAAa5B,GAAW,YAAY,WACrC,EACD,KAAM,SACN,aAAc,CACZ,OAAQ,CAAC,UAAU,EACnB,MAAO,CAAC,UAAU,EAClB,WAAY,CAAC,QAAQ,EACrB,MAAO,CAAC,IAAK,CAAC,SAAU,CAAC,OAAO,CAAC,CAAC,CACnC,EACD,WAAY,CACV,KAAMA,GAAW,WAAW,KAC5B,OAAQ,CAAC,KAAM,SAAS,EACxB,WAAY,CAAC,KAAM,SAAS,EAC5B,aAAc,CACZ,KAAM,QACN,MAAO,CAAC,KAAM,QAAQ,CACvB,EACD,WAAY,CAAC,KAAM,QAAQ,EAC3B,UAAW,CAAC,KAAM,SAAS,EAC3B,MAAO,CAAC,KAAM,SAAS,EACvB,MAAO,CAAC,KAAM,SAAS,EACvB,MAAO,CAAC,KAAM,SAAS,EACvB,OAAQ,CACN,MAAO,CACL,CAAC,KAAM,SAAS,EAChB,CAAC,MAAO,MAAM,CACf,CACF,CACF,CACH,EClCI/W,GAAa,yBACb0L,GAAiBzX,GACjB2kB,GAAmB/gB,GAEvB8U,GAAiB,CACf,IAAKkM,GACL,IAAKC,GACL,OAAQC,GACR,SAAUC,EACZ,EAUA,SAASH,GAAWlM,EAASsM,EAAY,CAGvC,IAAIxO,EAAQ,KAAK,MACjB,GAAIA,EAAM,SAASkC,CAAO,EACxB,MAAM,IAAI,MAAM,WAAaA,EAAU,qBAAqB,EAE9D,GAAI,CAAC3M,GAAW,KAAK2M,CAAO,EAC1B,MAAM,IAAI,MAAM,WAAaA,EAAU,4BAA4B,EAErE,GAAIsM,EAAY,CACd,KAAK,gBAAgBA,EAAY,EAAI,EAErC,IAAI9Z,EAAW8Z,EAAW,KAC1B,GAAI,MAAM,QAAQ9Z,CAAQ,EACxB,QAAS/J,EAAE,EAAGA,EAAE+J,EAAS,OAAQ/J,IAC/B8jB,EAASvM,EAASxN,EAAS/J,CAAC,EAAG6jB,CAAU,OAE3CC,EAASvM,EAASxN,EAAU8Z,CAAU,EAGxC,IAAIlC,EAAakC,EAAW,WACxBlC,IACEkC,EAAW,OAAS,KAAK,MAAM,QACjClC,EAAa,CACX,MAAO,CACLA,EACA,CAAE,KAAQ,gFAAkF,CAC7F,CACX,GAEMkC,EAAW,eAAiB,KAAK,QAAQlC,EAAY,EAAI,EAE5D,CAEDtM,EAAM,SAASkC,CAAO,EAAIlC,EAAM,IAAIkC,CAAO,EAAI,GAG/C,SAASuM,EAASvM,EAASxN,EAAU8Z,EAAY,CAE/C,QADIE,EACK/jB,EAAE,EAAGA,EAAEqV,EAAM,OAAQrV,IAAK,CACjC,IAAIgkB,EAAK3O,EAAMrV,CAAC,EAChB,GAAIgkB,EAAG,MAAQja,EAAU,CACvBga,EAAYC,EACZ,KACD,CACF,CAEID,IACHA,EAAY,CAAE,KAAMha,EAAU,MAAO,CAAE,CAAA,EACvCsL,EAAM,KAAK0O,CAAS,GAGtB,IAAI1M,EAAO,CACT,QAASE,EACT,WAAYsM,EACZ,OAAQ,GACR,KAAMvN,GACN,WAAYuN,EAAW,UAC7B,EACIE,EAAU,MAAM,KAAK1M,CAAI,EACzBhC,EAAM,OAAOkC,CAAO,EAAIF,CACzB,CAED,OAAO,IACT,CASA,SAASqM,GAAWnM,EAAS,CAE3B,IAAIF,EAAO,KAAK,MAAM,OAAOE,CAAO,EACpC,OAAOF,EAAOA,EAAK,WAAa,KAAK,MAAM,SAASE,CAAO,GAAK,EAClE,CASA,SAASoM,GAAcpM,EAAS,CAE9B,IAAIlC,EAAQ,KAAK,MACjB,OAAOA,EAAM,SAASkC,CAAO,EAC7B,OAAOlC,EAAM,IAAIkC,CAAO,EACxB,OAAOlC,EAAM,OAAOkC,CAAO,EAC3B,QAASvX,EAAE,EAAGA,EAAEqV,EAAM,OAAQrV,IAE5B,QADIiL,EAAQoK,EAAMrV,CAAC,EAAE,MACZ8hB,EAAE,EAAGA,EAAE7W,EAAM,OAAQ6W,IAC5B,GAAI7W,EAAM6W,CAAC,EAAE,SAAWvK,EAAS,CAC/BtM,EAAM,OAAO6W,EAAG,CAAC,EACjB,KACD,CAGL,OAAO,IACT,CAUA,SAAS8B,GAAgBC,EAAYI,EAAY,CAC/CL,GAAgB,OAAS,KACzB,IAAInd,EAAI,KAAK,iBAAmB,KAAK,kBACF,KAAK,QAAQ+c,GAAkB,EAAI,EAEtE,GAAI/c,EAAEod,CAAU,EAAG,MAAO,GAE1B,GADAD,GAAgB,OAASnd,EAAE,OACvBwd,EACF,MAAM,IAAI,MAAM,yCAA4C,KAAK,WAAWxd,EAAE,MAAM,CAAC,EAErF,MAAO,EACX,yaC/IA,IAAIyd,GAAgBrlB,GAChBwO,GAAU5K,GACVqV,GAAQjU,GACRsI,GAAerI,GACfyQ,GAAkBvQ,GAClBoR,GAAUlR,GACV+G,GAAQ9G,GACRggB,GAAkB9f,GAClBqE,GAAO/C,GAEXye,GAAiBC,GAEjBA,GAAI,UAAU,SAAWzT,GACzByT,GAAI,UAAU,QAAUzW,GACxByW,GAAI,UAAU,UAAYC,GAC1BD,GAAI,UAAU,cAAgBE,GAC9BF,GAAI,UAAU,eAAiB7M,GAC/B6M,GAAI,UAAU,UAAYG,GAC1BH,GAAI,UAAU,aAAeI,GAC7BJ,GAAI,UAAU,UAAYK,GAC1BL,GAAI,UAAU,WAAaM,GAE3BN,GAAI,UAAU,WAAaO,GAC3BP,GAAI,UAAU,SAAWQ,GAEzBR,GAAI,UAAU,aAAehE,GAC7B,IAAIyE,GAAgBxE,GACpB+D,GAAI,UAAU,WAAaS,GAAc,IACzCT,GAAI,UAAU,WAAaS,GAAc,IACzCT,GAAI,UAAU,cAAgBS,GAAc,OAC5CT,GAAI,UAAU,gBAAkBS,GAAc,SAE9C,IAAIxQ,GAAeiM,GACnB8D,GAAI,gBAAkB/P,GAAa,WACnC+P,GAAI,gBAAkB/P,GAAa,WACnC+P,GAAI,gBAAkBF,GAEtB,IAAIY,GAAiB,yCAEjBC,GAAsB,CAAE,mBAAoB,cAAe,cAAe,gBAAgB,EAC1FC,GAAoB,CAAC,aAAa,EAQtC,SAASZ,GAAInlB,EAAM,CACjB,GAAI,EAAE,gBAAgBmlB,IAAM,OAAO,IAAIA,GAAInlB,CAAI,EAC/CA,EAAO,KAAK,MAAQwJ,GAAK,KAAKxJ,CAAI,GAAK,GACvCgmB,GAAU,IAAI,EACd,KAAK,SAAW,GAChB,KAAK,MAAQ,GACb,KAAK,WAAa,GAClB,KAAK,SAAW9P,GAAQlW,EAAK,MAAM,EAEnC,KAAK,OAASA,EAAK,OAAS,IAAI4Y,GAChC,KAAK,gBAAkB,GACvB,KAAK,cAAgB,GACrB,KAAK,MAAQ7M,KACb,KAAK,OAASka,GAAYjmB,CAAI,EAE9BA,EAAK,aAAeA,EAAK,cAAgB,IACrCA,EAAK,eAAiB,aAAYA,EAAK,uBAAyB,IAChEA,EAAK,YAAc,SAAWA,EAAK,UAAYqV,IACnD,KAAK,UAAY6Q,GAAqB,IAAI,EAEtClmB,EAAK,SAASmmB,GAAkB,IAAI,EACpCnmB,EAAK,UAAUomB,GAAmB,IAAI,EAC1CC,GAAqB,IAAI,EACrB,OAAOrmB,EAAK,MAAQ,UAAU,KAAK,cAAcA,EAAK,IAAI,EAC1DA,EAAK,UAAU,KAAK,WAAW,WAAY,CAAC,WAAY,CAAC,KAAM,SAAS,CAAC,CAAC,EAC9EsmB,GAAkB,IAAI,CACxB,CAYA,SAAS5U,GAAS6U,EAActmB,EAAM,CACpC,IAAIsH,EACJ,GAAI,OAAOgf,GAAgB,UAEzB,GADAhf,EAAI,KAAK,UAAUgf,CAAY,EAC3B,CAAChf,EAAG,MAAM,IAAI,MAAM,8BAAgCgf,EAAe,GAAG,MACrE,CACL,IAAItD,EAAY,KAAK,WAAWsD,CAAY,EAC5Chf,EAAI0b,EAAU,UAAY,KAAK,SAASA,CAAS,CAClD,CAED,IAAI1K,EAAQhR,EAAEtH,CAAI,EAClB,OAAIsH,EAAE,SAAW,KAAM,KAAK,OAASA,EAAE,QAChCgR,CACT,CAUA,SAAS7J,GAAQ5C,EAAQ0a,EAAO,CAC9B,IAAIvD,EAAY,KAAK,WAAWnX,EAAQ,OAAW0a,CAAK,EACxD,OAAOvD,EAAU,UAAY,KAAK,SAASA,CAAS,CACtD,CAYA,SAASmC,GAAUtZ,EAAQ/N,EAAK0oB,EAAiBD,EAAO,CACtD,GAAI,MAAM,QAAQ1a,CAAM,EAAE,CACxB,QAAShL,EAAE,EAAGA,EAAEgL,EAAO,OAAQhL,IAAK,KAAK,UAAUgL,EAAOhL,CAAC,EAAG,OAAW2lB,EAAiBD,CAAK,EAC/F,OAAO,IACR,CACD,IAAItX,EAAK,KAAK,OAAOpD,CAAM,EAC3B,GAAIoD,IAAO,QAAa,OAAOA,GAAM,SACnC,MAAM,IAAI,MAAM,0BAA0B,EAC5C,OAAAnR,EAAMoQ,GAAQ,YAAYpQ,GAAOmR,CAAE,EACnCwX,GAAY,KAAM3oB,CAAG,EACrB,KAAK,SAASA,CAAG,EAAI,KAAK,WAAW+N,EAAQ2a,EAAiBD,EAAO,EAAI,EAClE,IACT,CAYA,SAASnB,GAAcvZ,EAAQ/N,EAAK4oB,EAAgB,CAClD,YAAK,UAAU7a,EAAQ/N,EAAK4oB,EAAgB,EAAI,EACzC,IACT,CAUA,SAASrO,GAAexM,EAAQ8a,EAAiB,CAC/C,IAAIvU,EAAUvG,EAAO,QACrB,GAAIuG,IAAY,QAAa,OAAOA,GAAW,SAC7C,MAAM,IAAI,MAAM,0BAA0B,EAE5C,GADAA,EAAUA,GAAW,KAAK,MAAM,aAAewU,GAAY,IAAI,EAC3D,CAACxU,EACH,YAAK,OAAO,KAAK,2BAA2B,EAC5C,KAAK,OAAS,KACP,GAET,IAAIkG,EAAQ,KAAK,SAASlG,EAASvG,CAAM,EACzC,GAAI,CAACyM,GAASqO,EAAiB,CAC7B,IAAI/V,EAAU,sBAAwB,KAAK,WAAU,EACrD,GAAI,KAAK,MAAM,gBAAkB,MAAO,KAAK,OAAO,MAAMA,CAAO,MAC5D,OAAM,IAAI,MAAMA,CAAO,CAC7B,CACD,OAAO0H,CACT,CAGA,SAASsO,GAAYvW,EAAM,CACzB,IAAIyS,EAAOzS,EAAK,MAAM,KACtB,OAAAA,EAAK,MAAM,YAAc,OAAOyS,GAAQ,SACZzS,EAAK,OAAOyS,CAAI,GAAKA,EACrBzS,EAAK,UAAUuV,EAAc,EAC3BA,GACA,OACvBvV,EAAK,MAAM,WACpB,CASA,SAASgV,GAAUwB,EAAQ,CACzB,IAAI7D,EAAY8D,GAAc,KAAMD,CAAM,EAC1C,OAAQ,OAAO7D,EAAS,CACtB,IAAK,SAAU,OAAOA,EAAU,UAAY,KAAK,SAASA,CAAS,EACnE,IAAK,SAAU,OAAO,KAAK,UAAUA,CAAS,EAC9C,IAAK,YAAa,OAAO+D,GAAmB,KAAMF,CAAM,CACzD,CACH,CAGA,SAASE,GAAmB1W,EAAMpT,EAAK,CACrC,IAAI2R,EAAMV,GAAQ,OAAO,KAAKmC,EAAM,CAAE,OAAQ,CAAA,GAAMpT,CAAG,EACvD,GAAI2R,EAAK,CACP,IAAI/C,EAAS+C,EAAI,OACbF,EAAOE,EAAI,KACXC,EAASD,EAAI,OACbtH,EAAIyd,GAAc,KAAK1U,EAAMxE,EAAQ6C,EAAM,OAAWG,CAAM,EAChE,OAAAwB,EAAK,WAAWpT,CAAG,EAAI,IAAI+P,GAAa,CACtC,IAAK/P,EACL,SAAU,GACV,OAAQ4O,EACR,KAAM6C,EACN,OAAQG,EACR,SAAUvH,CAChB,CAAK,EACMA,CACR,CACH,CAGA,SAASwf,GAAczW,EAAMwW,EAAQ,CACnC,OAAAA,EAAS3Y,GAAQ,YAAY2Y,CAAM,EAC5BxW,EAAK,SAASwW,CAAM,GAAKxW,EAAK,MAAMwW,CAAM,GAAKxW,EAAK,WAAWwW,CAAM,CAC9E,CAYA,SAASvB,GAAagB,EAAc,CAClC,GAAIA,aAAwB,OAC1B,OAAAU,GAAkB,KAAM,KAAK,SAAUV,CAAY,EACnDU,GAAkB,KAAM,KAAK,MAAOV,CAAY,EACzC,KAET,OAAQ,OAAOA,EAAY,CACzB,IAAK,YACH,OAAAU,GAAkB,KAAM,KAAK,QAAQ,EACrCA,GAAkB,KAAM,KAAK,KAAK,EAClC,KAAK,OAAO,QACL,KACT,IAAK,SACH,IAAIhE,EAAY8D,GAAc,KAAMR,CAAY,EAChD,OAAItD,GAAW,KAAK,OAAO,IAAIA,EAAU,QAAQ,EACjD,OAAO,KAAK,SAASsD,CAAY,EACjC,OAAO,KAAK,MAAMA,CAAY,EACvB,KACT,IAAK,SACH,IAAIW,EAAY,KAAK,MAAM,UACvBC,EAAWD,EAAYA,EAAUX,CAAY,EAAIA,EACrD,KAAK,OAAO,IAAIY,CAAQ,EACxB,IAAIjY,EAAK,KAAK,OAAOqX,CAAY,EAC7BrX,IACFA,EAAKf,GAAQ,YAAYe,CAAE,EAC3B,OAAO,KAAK,SAASA,CAAE,EACvB,OAAO,KAAK,MAAMA,CAAE,EAEzB,CACD,OAAO,IACT,CAGA,SAAS+X,GAAkB3W,EAAM8W,EAASzpB,EAAO,CAC/C,QAASmpB,KAAUM,EAAS,CAC1B,IAAInE,EAAYmE,EAAQN,CAAM,EAC1B,CAAC7D,EAAU,OAAS,CAACtlB,GAASA,EAAM,KAAKmpB,CAAM,KACjDxW,EAAK,OAAO,IAAI2S,EAAU,QAAQ,EAClC,OAAOmE,EAAQN,CAAM,EAExB,CACH,CAIA,SAASpB,GAAW5Z,EAAQ6a,EAAgB5D,EAAMsE,EAAiB,CACjE,GAAI,OAAOvb,GAAU,UAAY,OAAOA,GAAU,UAChD,MAAM,IAAI,MAAM,oCAAoC,EACtD,IAAIob,EAAY,KAAK,MAAM,UACvBC,EAAWD,EAAYA,EAAUpb,CAAM,EAAIA,EAC3Cwb,EAAS,KAAK,OAAO,IAAIH,CAAQ,EACrC,GAAIG,EAAQ,OAAOA,EAEnBD,EAAkBA,GAAmB,KAAK,MAAM,gBAAkB,GAElE,IAAInY,EAAKf,GAAQ,YAAY,KAAK,OAAOrC,CAAM,CAAC,EAC5CoD,GAAMmY,GAAiBX,GAAY,KAAMxX,CAAE,EAE/C,IAAIqY,EAAe,KAAK,MAAM,iBAAmB,IAAS,CAACZ,EACvDa,EACAD,GAAgB,EAAEC,EAAgBtY,GAAMA,GAAMf,GAAQ,YAAYrC,EAAO,OAAO,IAClF,KAAK,eAAeA,EAAQ,EAAI,EAElC,IAAIuE,EAAYlC,GAAQ,IAAI,KAAK,KAAMrC,CAAM,EAEzCmX,EAAY,IAAIhW,GAAa,CAC/B,GAAIiC,EACJ,OAAQpD,EACR,UAAWuE,EACX,SAAU8W,EACV,KAAMpE,CACV,CAAG,EAED,OAAI7T,EAAG,CAAC,GAAK,KAAOmY,IAAiB,KAAK,MAAMnY,CAAE,EAAI+T,GACtD,KAAK,OAAO,IAAIkE,EAAUlE,CAAS,EAE/BsE,GAAgBC,GAAe,KAAK,eAAe1b,EAAQ,EAAI,EAE5DmX,CACT,CAIA,SAAS0C,GAAS1C,EAAWtU,EAAM,CACjC,GAAIsU,EAAU,UACZ,OAAAA,EAAU,SAAWhN,EACrBA,EAAa,OAASgN,EAAU,OAChChN,EAAa,OAAS,KACtBA,EAAa,KAAOtH,GAAcsH,EAC9BgN,EAAU,OAAO,SAAW,KAC9BhN,EAAa,OAAS,IACjBA,EAETgN,EAAU,UAAY,GAEtB,IAAIwE,EACAxE,EAAU,OACZwE,EAAc,KAAK,MACnB,KAAK,MAAQ,KAAK,WAGpB,IAAIlgB,EACJ,GAAI,CAAEA,EAAIyd,GAAc,KAAK,KAAM/B,EAAU,OAAQtU,EAAMsU,EAAU,SAAS,CAAI,OAC5Ezd,EAAG,CACP,aAAOyd,EAAU,SACXzd,CACP,QACO,CACNyd,EAAU,UAAY,GAClBA,EAAU,OAAM,KAAK,MAAQwE,EAClC,CAED,OAAAxE,EAAU,SAAW1b,EACrB0b,EAAU,KAAO1b,EAAE,KACnB0b,EAAU,OAAS1b,EAAE,OACrB0b,EAAU,KAAO1b,EAAE,KACZA,EAIP,SAAS0O,GAAe,CAEtB,IAAIyR,EAAYzE,EAAU,SACtB1M,EAASmR,EAAU,MAAM,KAAM,SAAS,EAC5C,OAAAzR,EAAa,OAASyR,EAAU,OACzBnR,CACR,CACH,CAGA,SAAS0P,GAAYjmB,EAAM,CACzB,OAAQA,EAAK,SAAQ,CACnB,IAAK,OAAQ,OAAO2nB,GACpB,IAAK,KAAM,OAAOC,GAClB,QAAS,OAAOC,EACjB,CACH,CAGA,SAASD,GAAO9b,EAAQ,CACtB,OAAIA,EAAO,KAAK,KAAK,OAAO,KAAK,qBAAsBA,EAAO,GAAG,EAC1DA,EAAO,EAChB,CAGA,SAAS+b,GAAQ/b,EAAQ,CACvB,OAAIA,EAAO,IAAI,KAAK,OAAO,KAAK,oBAAqBA,EAAO,EAAE,EACvDA,EAAO,GAChB,CAGA,SAAS6b,GAAY7b,EAAQ,CAC3B,GAAIA,EAAO,KAAOA,EAAO,IAAMA,EAAO,KAAOA,EAAO,GAClD,MAAM,IAAI,MAAM,iCAAiC,EACnD,OAAOA,EAAO,KAAOA,EAAO,EAC9B,CAUA,SAAS2Z,GAAW7U,EAAQnR,EAAS,CAEnC,GADAmR,EAASA,GAAU,KAAK,OACpB,CAACA,EAAQ,MAAO,YACpBnR,EAAUA,GAAW,GAKrB,QAJIqoB,EAAYroB,EAAQ,YAAc,OAAY,KAAOA,EAAQ,UAC7DmM,EAAUnM,EAAQ,UAAY,OAAY,OAASA,EAAQ,QAE3D5C,EAAO,GACFiE,EAAE,EAAGA,EAAE8P,EAAO,OAAQ9P,IAAK,CAClC,IAAI0E,EAAIoL,EAAO9P,CAAC,EACZ0E,IAAG3I,GAAQ+O,EAAUpG,EAAE,SAAW,IAAMA,EAAE,QAAUsiB,EACzD,CACD,OAAOjrB,EAAK,MAAM,EAAG,CAACirB,EAAU,MAAM,CACxC,CAUA,SAAStC,GAAUpf,EAAM0W,EAAQ,CAC/B,OAAI,OAAOA,GAAU,WAAUA,EAAS,IAAI,OAAOA,CAAM,GACzD,KAAK,SAAS1W,CAAI,EAAI0W,EACf,IACT,CAGA,SAASuJ,GAAqB/V,EAAM,CAClC,IAAIyX,EAKJ,GAJIzX,EAAK,MAAM,QACbyX,EAAczG,GACdhR,EAAK,cAAcyX,EAAaA,EAAY,IAAK,EAAI,GAEnDzX,EAAK,MAAM,OAAS,GACxB,KAAImS,EAAalB,GACbjR,EAAK,MAAM,QAAOmS,EAAawC,GAAgBxC,EAAYsD,EAAiB,GAChFzV,EAAK,cAAcmS,EAAYoD,GAAgB,EAAI,EACnDvV,EAAK,MAAM,+BAA+B,EAAIuV,GAChD,CAGA,SAASS,GAAkBhW,EAAM,CAC/B,IAAI0X,EAAc1X,EAAK,MAAM,QAC7B,GAAK0X,EACL,GAAI,MAAM,QAAQA,CAAW,EAAG1X,EAAK,UAAU0X,CAAW,MACrD,SAASjqB,KAAOiqB,EAAa1X,EAAK,UAAU0X,EAAYjqB,CAAG,EAAGA,CAAG,CACxE,CAGA,SAASooB,GAAkB7V,EAAM,CAC/B,QAASlK,KAAQkK,EAAK,MAAM,QAAS,CACnC,IAAIwM,EAASxM,EAAK,MAAM,QAAQlK,CAAI,EACpCkK,EAAK,UAAUlK,EAAM0W,CAAM,CAC5B,CACH,CAGA,SAASsJ,GAAmB9V,EAAM,CAChC,QAASlK,KAAQkK,EAAK,MAAM,SAAU,CACpC,IAAI+H,EAAU/H,EAAK,MAAM,SAASlK,CAAI,EACtCkK,EAAK,WAAWlK,EAAMiS,CAAO,CAC9B,CACH,CAGA,SAASqO,GAAYpW,EAAMpB,EAAI,CAC7B,GAAIoB,EAAK,SAASpB,CAAE,GAAKoB,EAAK,MAAMpB,CAAE,EACpC,MAAM,IAAI,MAAM,0BAA4BA,EAAK,kBAAkB,CACvE,CAGA,SAASgX,GAAqB5V,EAAM,CAElC,QADI2X,EAAWze,GAAK,KAAK8G,EAAK,KAAK,EAC1BxP,EAAE,EAAGA,EAAEglB,GAAoB,OAAQhlB,IAC1C,OAAOmnB,EAASnC,GAAoBhlB,CAAC,CAAC,EACxC,OAAOmnB,CACT,CAGA,SAASjC,GAAU1V,EAAM,CACvB,IAAI4X,EAAS5X,EAAK,MAAM,OACxB,GAAI4X,IAAW,GACb5X,EAAK,OAAS,CAAC,IAAK6X,GAAM,KAAMA,GAAM,MAAOA,EAAI,MAC5C,CAEL,GADID,IAAW,SAAWA,EAAS,SAC/B,EAAE,OAAOA,GAAU,UAAYA,EAAO,KAAOA,EAAO,MAAQA,EAAO,OACrE,MAAM,IAAI,MAAM,mDAAmD,EACrE5X,EAAK,OAAS4X,CACf,CACH,CAGA,SAASC,IAAO,CAAA,wsNCvfhB,IAAAC,GAAiB,CACf,aAAczoB,GACd,cAAe4D,GACf,QAASoB,GACT,MAAOC,GACP,QAASE,GACT,OAAQE,GACR,QAASC,GACT,MAAOE,GACP,IAAKsB,GACL,OAAQ0a,GACR,IAAKC,GACL,KAAMC,GACN,YAAaC,GACb,SAAUC,GACV,MAAOC,GACP,QAASC,GACT,SAAUC,GACV,QAASC,EACX,ECpBI0G,GAAathB,GAAQA,EAAK,WAAe,UAAY,CACrD,IAAIuhB,EAAgB,SAAUC,EAAGtkB,EAAG,CAChC,OAAAqkB,EAAgB,OAAO,gBAClB,CAAE,UAAW,CAAA,aAAgB,OAAS,SAAUC,EAAGtkB,EAAG,CAAEskB,EAAE,UAAYtkB,CAAE,GACzE,SAAUskB,EAAGtkB,EAAG,CAAE,QAAS8K,KAAK9K,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAG8K,CAAC,IAAGwZ,EAAExZ,CAAC,EAAI9K,EAAE8K,CAAC,IAC1FuZ,EAAcC,EAAGtkB,CAAC,CACjC,EACI,OAAO,SAAUskB,EAAGtkB,EAAG,CACnB,GAAI,OAAOA,GAAM,YAAcA,IAAM,KACjC,MAAM,IAAI,UAAU,uBAAyB,OAAOA,CAAC,EAAI,+BAA+B,EAC5FqkB,EAAcC,EAAGtkB,CAAC,EAClB,SAASukB,GAAK,CAAE,KAAK,YAAcD,CAAI,CACvCA,EAAE,UAAYtkB,IAAM,KAAO,OAAO,OAAOA,CAAC,GAAKukB,EAAG,UAAYvkB,EAAE,UAAW,IAAIukB,EACvF,CACA,IACIC,GAAmB1hB,GAAQA,EAAK,kBAAqB,OAAO,OAAU,SAASY,EAAGC,EAAG4a,EAAGkG,EAAI,CACxFA,IAAO,SAAWA,EAAKlG,GAC3B,IAAImG,EAAO,OAAO,yBAAyB/gB,EAAG4a,CAAC,GAC3C,CAACmG,IAAS,QAASA,EAAO,CAAC/gB,EAAE,WAAa+gB,EAAK,UAAYA,EAAK,iBAClEA,EAAO,CAAE,WAAY,GAAM,IAAK,UAAW,CAAE,OAAO/gB,EAAE4a,CAAC,CAAE,IAE3D,OAAO,eAAe7a,EAAG+gB,EAAIC,CAAI,CACrC,EAAM,SAAShhB,EAAGC,EAAG4a,EAAGkG,EAAI,CACpBA,IAAO,SAAWA,EAAKlG,GAC3B7a,EAAE+gB,CAAE,EAAI9gB,EAAE4a,CAAC,CACf,GACIoG,GAAsB7hB,GAAQA,EAAK,qBAAwB,OAAO,OAAU,SAASY,EAAGJ,EAAG,CAC3F,OAAO,eAAeI,EAAG,UAAW,CAAE,WAAY,GAAM,MAAOJ,CAAC,CAAE,CACtE,EAAK,SAASI,EAAGJ,EAAG,CAChBI,EAAE,QAAaJ,CACnB,GACIshB,GAAgB9hB,GAAQA,EAAK,cAAiB,SAAU+hB,EAAK,CAC7D,GAAIA,GAAOA,EAAI,WAAY,OAAOA,EAClC,IAAIvS,EAAS,CAAA,EACb,GAAIuS,GAAO,KAAM,QAAStG,KAAKsG,EAAStG,IAAM,WAAa,OAAO,UAAU,eAAe,KAAKsG,EAAKtG,CAAC,GAAGiG,GAAgBlS,EAAQuS,EAAKtG,CAAC,EACvI,OAAAoG,GAAmBrS,EAAQuS,CAAG,EACvBvS,CACX,EACIwS,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACAE,GAAO,WAAc,GACrBA,GAAA,mBAA6BA,GAAA,SAAmB,OAChD,IAAIC,GAAQF,GAAgBppB,EAAc,EACtCmM,GAAS+c,GAAatlB,EAAqB,EAC3C2lB,GAA0B,SAAUC,EAAQ,CAC5Cd,GAAUa,EAAUC,CAAM,EAC1B,SAASD,EAAStY,EAAQ,CACtB,IAAIwY,EAAQD,EAAO,KAAK,IAAI,GAAK,KACjC,OAAAC,EAAM,KAAO,WACbA,EAAM,QAAU,oBAChBA,EAAM,OAAS,GACfA,EAAM,OAASxY,EACf,MAAM,kBAAkBwY,EAAOA,EAAM,WAAW,EACzCA,CACV,CACD,OAAOF,CACX,EAAE,KAAK,EACSF,GAAA,SAAGE,GACnB,IAAIhE,GAAM,IAAI+D,GAAM,QAAW,CAC3B,UAAW,EACf,CAAC,EACD/D,GAAI,UAAUpZ,EAAM,EACpB,IAAIud,GAAqB,SAAU5qB,EAAS,CACxC,IAAIiT,EAAWwT,GAAI,UAAU,cAAc,EAC3C,GAAI,CAACxT,EACD,MAAM,IAAI,MAAM,mCAAmC,EAEvD,IAAI6G,EAAQ7G,EAASjT,CAAO,EAC5B,GAAI,CAAC8Z,GAAS7G,EAAS,OACnB,MAAM,IAAIwX,GAASxX,EAAS,MAAM,EAEtC,MAAO,EACX,EACAsX,GAAA,mBAA6BK,0BC1E7B3kB,EAAA,WAAqB,GACrBA,EAAA,eAAyBA,EAAoB,UAAAA,EAAA,UAAoBA,EAAwB,cAAA,OAIzF,IAAI4kB,EAAgB,SAAUC,EAASnjB,EAAM,CACzC,OAAO,OAAO,KAAKmjB,CAAO,EAAE,KAAK,SAAU7gB,EAAQ,CAAE,OAAOA,EAAO,YAAW,IAAOtC,EAAK,YAAa,CAAG,CAAA,CAC9G,EACA1B,EAAA,cAAwB4kB,EAIxB,IAAI9gB,EAAY,SAAU+gB,EAASnjB,EAAM,CACrC,IAAIojB,KAAiB9kB,EAAQ,eAAe6kB,EAASnjB,CAAI,EACzD,GAAKojB,EAGL,OAAOD,EAAQC,CAAU,CAC7B,EACA9kB,EAAA,UAAoB8D,EAIpB,IAAIihB,EAAY,SAAUF,EAASnjB,EAAM,CACrC,MAAO,KAAY1B,EAAQ,eAAe6kB,EAASnjB,CAAI,CAC3D,EACA1B,EAAA,UAAoB+kB,EACpB,IAAIC,EAAe,CACf,mBACA,qBACA,YACA,cACA,OACJ,EAIIC,EAAiB,SAAUC,EAAU,CACrC,OAAOF,EAAa,KAAK,SAAUG,EAAM,CAAE,OAAOD,EAAS,SAASC,CAAI,CAAE,CAAE,CAChF,EACAnlB,EAAA,eAAyBilB,kBCxCzBG,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAIC,GAAU,SAAUC,EAAaC,EAAM,CACvC,IAAIC,EAAeF,EAAYC,EAAK,IAAI,EACxC,OAAIC,IAAiB,QACjBF,EAAYC,EAAK,IAAI,EAAIA,EAAK,MACvBD,GAGP,MAAM,QAAQE,CAAY,GAC1BA,EAAa,KAAKD,EAAK,KAAK,EACrBD,IAGXA,EAAYC,EAAK,IAAI,EAAI,CAACC,EAAcD,EAAK,KAAK,EAC3CD,EACX,EACAF,GAAA,QAAkBC,+BCjBdliB,GAAUd,GAAQA,EAAK,QAAW,SAAUY,EAAGL,EAAG,CAClD,IAAIM,EAAI,OAAO,QAAW,YAAcD,EAAE,OAAO,QAAQ,EACzD,GAAI,CAACC,EAAG,OAAOD,EACf,IAAI7G,EAAI8G,EAAE,KAAKD,CAAC,EAAGG,EAAGC,EAAK,CAAE,EAAEvC,EAC/B,GAAI,CACA,MAAQ8B,IAAM,QAAUA,KAAM,IAAM,EAAEQ,EAAIhH,EAAE,KAAM,GAAE,MAAMiH,EAAG,KAAKD,EAAE,KAAK,CAC5E,OACME,EAAO,CAAExC,EAAI,CAAE,MAAOwC,CAAO,CAAG,QAC/B,CACJ,GAAI,CACIF,GAAK,CAACA,EAAE,OAASF,EAAI9G,EAAE,SAAY8G,EAAE,KAAK9G,CAAC,CAClD,QACO,CAAE,GAAI0E,EAAG,MAAMA,EAAE,KAAQ,CACpC,CACD,OAAOuC,CACX,EACIoiB,GAAiBpjB,GAAQA,EAAK,eAAkB,SAAUL,EAAIjG,EAAM2pB,EAAM,CAC1E,GAAIA,GAAQ,UAAU,SAAW,EAAG,QAAStpB,EAAI,EAAG+E,EAAIpF,EAAK,OAAQsH,EAAIjH,EAAI+E,EAAG/E,KACxEiH,GAAM,EAAEjH,KAAKL,MACRsH,IAAIA,EAAK,MAAM,UAAU,MAAM,KAAKtH,EAAM,EAAGK,CAAC,GACnDiH,EAAGjH,CAAC,EAAIL,EAAKK,CAAC,GAGtB,OAAO4F,EAAG,OAAOqB,GAAM,MAAM,UAAU,MAAM,KAAKtH,CAAI,CAAC,CAC3D,EACA4pB,GAAO,WAAc,GACFA,GAAA,YAAG,OACtB,IAAIC,GAAgC,GAChCC,GAAoB;AAAA,EACpBC,GAA6B,UAAY,CAKzC,SAASA,EAAYzhB,EAAI,CACrB,IAAIG,EAAKH,IAAO,OAAS,CAAA,EAAKA,EAAI0hB,EAASvhB,EAAG,OAAQwhB,EAAOxhB,EAAG,KAC5DkgB,EAAQ,KACZ,KAAK,eAAiB,GACtB,KAAK,KAAO,GACZ,KAAK,qBAAuBkB,GAC5B,KAAK,SAAWC,GAIhB,KAAK,WAAa,SAAUI,EAAMC,EAAkB,CAC5CA,IAAqB,SAAUA,EAAmB,GACtD,IAAIH,EAASrB,EAAM,qBAAqB,OAAOwB,CAAgB,EAC/D,MAAO,GAAG,OAAOH,CAAM,EAAE,OAAOE,CAAI,CAChD,EAIQ,KAAK,QAAU,SAAUA,EAAMC,EAAkB,CAC7C,IAAIC,EAAUzB,EAAM,WAAWuB,EAAMC,CAAgB,EACrDxB,EAAM,KAAK,QAAQyB,CAAO,CACtC,EAIQ,KAAK,KAAO,SAAUF,EAAMC,EAAkB,CAC1C,IAAIC,EAAUzB,EAAM,WAAWuB,EAAMC,CAAgB,EACrDxB,EAAM,KAAK,KAAKyB,CAAO,CACnC,EAIQ,KAAK,MAAQ,UAAY,CACrBzB,EAAM,KAAK,KAAK,EAAE,CAC9B,EAIQ,KAAK,KAAO,UAAY,CACpB,IAAI0B,EAAiB1B,EAAM,KAAK,KAAKA,EAAM,QAAQ,EAC/C2B,EAAiB3B,EAAM,eAAe,OAAO,SAAUY,EAAagB,EAAU,CAAE,OAAOA,EAAShB,CAAW,CAAI,EAAEc,CAAc,EACnI,OAAOC,CACnB,EAKQ,KAAK,iBAAmB,SAAUE,EAAe,CAC7C7B,EAAM,eAAiBe,GAAcA,GAAc,CAAA,EAAItiB,GAAOuhB,EAAM,cAAc,EAAG,EAAK,EAAG,CAAC6B,CAAa,EAAG,EAAK,CAC/H,EACQ,KAAK,qBAAuBR,GAAUH,GACtC,KAAK,SAAWI,GAA0CH,EAC7D,CACD,OAAOC,CACX,EAAC,EACDH,GAAA,YAAsBG,aCzFlB3iB,GAAUd,GAAQA,EAAK,QAAW,SAAUY,EAAGL,EAAG,CAClD,IAAIM,EAAI,OAAO,QAAW,YAAcD,EAAE,OAAO,QAAQ,EACzD,GAAI,CAACC,EAAG,OAAOD,EACf,IAAI7G,EAAI8G,EAAE,KAAKD,CAAC,EAAGG,EAAGC,EAAK,CAAE,EAAEvC,EAC/B,GAAI,CACA,MAAQ8B,IAAM,QAAUA,KAAM,IAAM,EAAEQ,EAAIhH,EAAE,KAAM,GAAE,MAAMiH,EAAG,KAAKD,EAAE,KAAK,CAC5E,OACME,EAAO,CAAExC,EAAI,CAAE,MAAOwC,CAAO,CAAG,QAC/B,CACJ,GAAI,CACIF,GAAK,CAACA,EAAE,OAASF,EAAI9G,EAAE,SAAY8G,EAAE,KAAK9G,CAAC,CAClD,QACO,CAAE,GAAI0E,EAAG,MAAMA,EAAE,KAAQ,CACpC,CACD,OAAOuC,CACX,EACIoiB,GAAiBpjB,GAAQA,EAAK,eAAkB,SAAUL,EAAIjG,EAAM2pB,EAAM,CAC1E,GAAIA,GAAQ,UAAU,SAAW,EAAG,QAAStpB,EAAI,EAAG+E,EAAIpF,EAAK,OAAQsH,EAAIjH,EAAI+E,EAAG/E,KACxEiH,GAAM,EAAEjH,KAAKL,MACRsH,IAAIA,EAAK,MAAM,UAAU,MAAM,KAAKtH,EAAM,EAAGK,CAAC,GACnDiH,EAAGjH,CAAC,EAAIL,EAAKK,CAAC,GAGtB,OAAO4F,EAAG,OAAOqB,GAAM,MAAM,UAAU,MAAM,KAAKtH,CAAI,CAAC,CAC3D,EACAyqB,GAAO,WAAc,GACrBA,GAAA,sBAA6DA,GAAA,sCAA0B,OAYvF,SAASC,GAAaC,EAAU3rB,EAAS,CACjCA,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIsJ,EAAKtJ,EAAQ,UAAW4rB,EAAYtiB,IAAO,OAAS,IAAMA,EAAIG,EAAKzJ,EAAQ,WAAY6rB,EAAapiB,IAAO,OAAS,KAAOA,EAAIC,EAAK1J,EAAQ,eAAgB8rB,EAAiBpiB,IAAO,OAAS,GAAOA,EACpMqiB,EAAcJ,EAAS,WAC3B,OAAOjB,GAAc,CAAE,EAAEtiB,GAAO2jB,CAAW,EAAG,EAAK,EAAE,IAAI,SAAU1V,EAAG,CAClE,OAAIA,IAAM,KACCwV,EAAa,IAEfxV,IAAM,IACJwV,EAAa,IAEfxV,IAAM;AAAA,EACPyV,EACOD,EAAa,IAGbxV,EAGNA,IAAM,KACJwV,EAAa,IAEfxV,IAAM,KACPyV,EACOD,EAAa,IAGbxV,EAGNA,IAAMwV,EACJA,EAAaA,EAEfxV,IAAMuV,EACJC,EAAaD,EAEfvV,EAAI,KAAYA,EAAI,IAKlB,KAAK,UAAUA,CAAC,EAAE,MAAM,EAAG,EAAE,EAG7BA,CAEnB,CAAK,EAAE,KAAK,EAAE,CACd,CACoBoV,GAAA,aAAGC,GAQvB,IAAIM,GAAwB,SAAUztB,EAAO,CACzC,OAAOmtB,GAAantB,EAAO,CAAE,UAAW,GAAK,CAAA,CACjD,EAC6BktB,GAAA,sBAAGO,GAQhC,IAAIC,GAAwB,SAAU1tB,EAAO,CACzC,OAAOmtB,GAAantB,EAAO,CAAE,UAAW,GAAK,CAAA,CACjD,EACAktB,GAAA,sBAAgCQ,GC5GhCC,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,QAAkB,CACd,KAAM,CACF,IAAK,UACL,MAAO,UACP,KAAM,8BACN,YAAa,uCAChB,EACD,QAAS,SAAU5iB,EAAI,CACnB,IAAI9G,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QAASgjB,EAAahjB,EAAG,WAAYijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAChHG,EAAK,IAAI0iB,GAAe,YAAeM,EAAOhjB,EAAG,KAAMijB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KACvFgjB,EAAK,+BAA+B,EACpCC,IACAD,EAAK,iDAAkD,OAAOjqB,EAAO,YAAa,EAAE,KAAM,CAAC,EAC3FiqB,EAAK,uCAAwC,OAAOJ,EAAS,KAAM,CAAC,EAEpE,IAAIvC,EAAU,OAAO,KAAKwC,CAAU,EAEpC,OAAIxC,EAAQ,SACR4C,IACAD,EAAK,oCAAoC,EACzC3C,EAAQ,QAAQ,SAAU7gB,EAAQ,CAC9BwjB,EAAK,yCAA0C,OAAOxjB,EAAQ,IAAI,EAAE,UAAWmjB,GAAS,uBAAuBE,EAAWrjB,CAAM,CAAC,EAAG,KAAM,CAAC,CAC3J,CAAa,EACDwjB,EAAK,qDAAqD,GAG1DF,EAAW,SACXG,IACAD,EAAK,0CAA2C,OAAOF,EAAW,OAAQ,KAAM,CAAC,GAEjFC,EAAS,OACTE,IACAD,EAAK,6CAA6C,OAAO,KAAK,UAAUD,EAAS,IAAI,EAAG,IAAI,CAAC,GAEjGE,IACAD,EAAK,wCAAwC,EACtCxB,EAAI,CACd,CACL,EC1CA0B,GAAO,WAAc,GACZA,GAAA,EAAG,OACZ,IAAIC,GAAW1sB,GACfysB,GAAA,EAAY,CACR,KAAM,CACF,IAAK,IACL,MAAO,IACP,QAAS,KACT,QAAW,SACd,EACD,YAAa,CACT,QAASC,GAAS,OACrB,CACL,kBCJAV,GAAO,WAAc,GACLA,GAAA,SAAG,OACnB,IAAIC,GAAiBjsB,GACjB2sB,GAAY/oB,GACZgpB,GAAyB,UAAY,CACrC,SAASA,EAAQnmB,EAAM,CACnB,IAAIgjB,EAAQ,KACZ,KAAK,KAAO,GACZ,KAAK,SAAW,UAAY,CAAE,MAAO,IAAI,OAAOA,EAAM,IAAI,GAC1D,KAAK,KAAOhjB,CACf,CACD,OAAOmmB,CACX,EAAC,EACGC,GAAsB,UAAY,CAClC,SAASA,EAAKpgB,EAAM,CAChB,IAAIgd,EAAQ,KACZ,KAAK,KAAO,GACZ,KAAK,SAAW,UAAY,CAAE,MAAO,0BAA2B,OAAOA,EAAM,KAAM,IAAK,GACxF,KAAK,KAAOhd,CACf,CACD,OAAOogB,CACX,EAAC,EACGC,GAAS,SAAUjvB,EAAO,CAC1B,OAAIA,IAAU,OACH,KAEPA,IAAU,KACH,OAEJA,EAAM,YAAY,KAAK,YAAW,CAC7C,EACIkvB,GAAW,SAAUlvB,EAAO,CAC5B,OAAIivB,GAAOjvB,CAAK,IAAM,SACX,OAAO,KAAKA,CAAK,EAAE,SAAW,EAElC,EACX,EACImvB,GAAc,SAAUnvB,EAAO,CAC/B,cAAO,KAAKA,CAAK,EACZ,OAAO,SAAUV,EAAG,CAAE,OAAO4vB,GAASlvB,EAAMV,CAAC,CAAC,EAAI,EAClD,QAAQ,SAAUA,EAAG,CACtB,OAAOU,EAAMV,CAAC,CACtB,CAAK,EACMU,CACX,EACIovB,GAAW,SAAUC,EAASrvB,EAAO,CACrC,IAAIsvB,EAAU,IAAI,OAAOD,CAAO,EAChC,OAAOrvB,EAAM,QAAQ,MAAO;AAAA,EAAK,OAAOsvB,CAAO,CAAC,CACpD,EACIC,GAAU,SAAUC,EAAI,CACxB,OAAQP,GAAOO,CAAE,EAAC,CACd,IAAK,SACD,MAAO,IAAK,OAAOA,EAAG,QAAQ,KAAM,KAAK,EAAG,GAAI,EACpD,IAAK,OACD,OAAOA,EAAG,WACd,IAAK,UACD,OAAOA,EAAG,WACd,IAAK,OACD,MAAO,MACX,IAAK,SACD,MAAO,KAAM,OAAOA,EAAG,OAAQ,GAAI,EACvC,IAAK,SAAU,CAEX,IAAIzmB,EAAM,OAAO,KAAKymB,CAAE,EACnB,OAAO,SAAUhD,EAAajsB,EAAK,CACpC,IAAIyB,EAAMotB,GAAS7uB,EAAI,OAAS,EAAGgvB,GAAQC,EAAGjvB,CAAG,CAAC,CAAC,EACnD,MAAO,GAAG,OAAOisB,EAAa,GAAG,EAAE,OAAOjsB,EAAK,GAAG,EAAE,OAAOyB,EAAK;AAAA,EAAK,CACxE,EAAE,EAAE,EACA,OACL,MAAO,IAAI,OAAOotB,GAAS,EAAGrmB,CAAG,EAAG,GAAG,CAC1C,CACD,IAAK,QAAS,CAEV,IAAIhF,EAAMyrB,EACL,OAAO,SAAUhD,EAAahsB,EAAO,CAAE,MAAO,GAAG,OAAOgsB,EAAa,GAAG,EAAE,OAAO+C,GAAQ/uB,CAAK,CAAC,CAAI,EAAE,EAAE,EACvG,OACL,MAAO,IAAI,OAAO4uB,GAAS,EAAGrrB,CAAG,EAAG,GAAG,CAC1C,CACD,QACI,OAAOyrB,EAAG,UACjB,CACL,EACArB,GAAA,SAAmB,CACf,KAAM,CACF,IAAK,WACL,MAAO,WACP,KAAM,sCACN,YAAa,8DAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwtB,EAAWlkB,EAAG,SAAU9G,EAAS8G,EAAG,OAAQkjB,EAAWljB,EAAG,SAAUrL,EAAMqL,EAAG,IAAKijB,EAAajjB,EAAG,WAClGG,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQnsB,GAAY,KAA6B,OAASA,EAAQ,MAAQ,CAAA,EAAGysB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KAC7IgkB,EAAU,CAAC,MAAO,OAAQ,MAAO,SAAU,QAAS,OAAQ,SAAS,EAEzE,GADAjrB,EAASA,EAAO,cACZ,CAACirB,EAAQ,SAASjrB,CAAM,EACxB,OAAAiqB,EAAK,sBAAsB,EACpBxB,EAAI,EAEf,IAAI7sB,EAAS,CACT,QAASmuB,EACT,eAAgBiB,CAC5B,EACQ,OAAQhB,EAAS,SAAQ,CACrB,IAAK,mBACD,CACIpuB,EAAO,cAAc,EAAI,IAAI0uB,GAAQ,MAAM,EAC3C1uB,EAAO,aAAa,EAAIouB,EAAS,QACjC,IAAIvjB,KAAa4jB,GAAU,eAAezuB,EAAO,QAAS,cAAc,EACpE6K,GACA,OAAO7K,EAAO,QAAQ6K,CAAM,CAEnC,CACD,MACJ,IAAK,oCACD,CACI7K,EAAO,aAAa,EAAIouB,EAAS,UACjC,IAAIvjB,KAAa4jB,GAAU,eAAezuB,EAAO,QAAS,cAAc,EACpE6K,GACA,OAAO7K,EAAO,QAAQ6K,CAAM,CAEnC,CACD,MACJ,IAAK,aACD,CACI7K,EAAO,KAAOouB,EAAS,KACvB,IAAIvjB,KAAa4jB,GAAU,eAAezuB,EAAO,QAAS,cAAc,EACpE6K,GACA,OAAO7K,EAAO,QAAQ6K,CAAM,CAEnC,CACD,MACJ,IAAK,sBAAuB,CACxB,GAAIujB,EAAS,OAAQ,CACjBpuB,EAAO,UAAYouB,EAAS,OAAO,IAAI,SAAUkB,EAAO,CACpD,OAAIA,EAAM,UAAY,CAACA,EAAM,MAClB,CACH,KAAMA,EAAM,KACZ,QAAS,IAAIX,GAAKW,EAAM,QAAQ,CAChE,EAE+B,CACH,KAAMA,EAAM,KACZ,QAASA,EAAM,KAC3C,CACA,CAAqB,EACD,IAAIzkB,KAAa4jB,GAAU,eAAezuB,EAAO,QAAS,cAAc,EACpE6K,GACA,OAAO7K,EAAO,QAAQ6K,CAAM,CAEnC,CACD,KACH,CACJ,CACD,UAAY4jB,GAAU,WAAWzuB,EAAO,QAAS,QAAQ,EAAC,CACtD,IAAK,mBACD,CACIA,EAAO,OAAS,IAAI0uB,GAAQ,MAAM,EAClC,IAAI7jB,KAAa4jB,GAAU,eAAezuB,EAAO,QAAS,QAAQ,EAC9D6K,GACA,OAAO7K,EAAO,QAAQ6K,CAAM,CAEnC,CACD,KACP,CAED,GADAwjB,EAAK;AAAA,CAA2C,EAC5CQ,GAASC,GAAY9uB,CAAM,CAAC,EAC5BquB,EAAK,WAAW,OAAOjqB,EAAQ,IAAK,EAAE,OAAOvE,EAAK,IAAK,CAAC,MAEvD,CACD,IAAIovB,EAAU,GAAK7qB,EAAO,OAASvE,EAAI,OACnC0vB,EAAkBR,GAASE,EAASC,GAAQJ,GAAY9uB,CAAM,CAAC,CAAC,EACpEquB,EAAK,WAAW,OAAOjqB,EAAQ,IAAK,EAAE,OAAOvE,EAAK,IAAK,EAAE,OAAO0vB,EAAiB,GAAG,CAAC,CACxF,CACD,OAAO1C,EAAI,CACd,CACL,ECxLA0B,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAIC,GAAW1sB,GACfysB,GAAA,QAAkB,CACd,KAAM,CACF,IAAK,UACL,MAAO,UACP,QAAS,OACT,QAAW,UACd,EACD,YAAa,CACT,SAAUC,GAAS,QACtB,CACL,kBCbIgB,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACHA,GAAA,WAAG,OACrB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACX+oB,GAAY3nB,GACZ2oB,GAA0B,SAAUtB,EAAY,CAChD,IAAIuB,KAAsBjB,GAAU,WAAWN,EAAY,iBAAiB,EAC5E,GAAI,CAACuB,EACD,MAAO,GAEX,IAAIC,EAAmB,CACnB,KAAM,4BACN,QAAS,8BACjB,EACQN,EAAU,CAAA,EACd,OAAI,OAAOK,GAAoB,WAC3BA,EAAkB,CAACA,CAAe,GAEtCA,EAAgB,QAAQ,SAAUE,EAAgB,CAC9CA,EAAe,MAAM,GAAG,EAAE,QAAQ,SAAUC,EAAU,CAClD,IAAI5vB,EAAQ,eAAe,KAAK4vB,CAAQ,EACxC,GAAI5vB,EAAO,CACP,IAAImE,EAASurB,EAAiB1vB,EAAM,CAAC,CAAC,EAClCmE,GACAirB,EAAQ,KAAKjrB,CAAM,CAE1B,CACb,CAAS,CACT,CAAK,EACMirB,CACX,EACAvB,GAAA,WAAqB,CACjB,KAAM,CACF,IAAK,aACL,MAAO,aACP,KAAM,yEACN,YAAa,2BAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EAAIC,EACJ6iB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAU9G,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QACrF/I,EAAOqtB,GAAS,CAAE,OAAQ,MAAM,EAAI5tB,CAAO,EAC3CkuB,EAAK,IAAI/B,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,MAAQ,CAAA,EAAGksB,EAAOyB,EAAG,KAAMjD,EAAOiD,EAAG,KAC5FzB,EAAK,gCAAgC,EACrC,IAAI0B,EAAgB,GAChBC,EAAU,EAAQ7B,EAAW,OAC7B8B,EAAuBR,GAAwBtB,CAAU,GACzD6B,GAAWC,EAAqB,UAChCF,EAAgB,gBAChB1B,EAAK,2CAA2C,EAChDA,EAAK,GAAG,EACJ2B,GAEA3B,EAAK,sBAAuB,CAAC,EAE7B4B,EAAqB,QAErB5B,EAAK,4BAA4B,OAAO4B,EAAqB,KAAK,KAAK,EAAG,GAAG,EAAG,CAAC,EAErF5B,EAAK,IAAI,GAEbA,EAAK,+BAA+B,OAAO0B,EAAe,IAAI,CAAC,EAC/D1B,EAAK,sCAAsC,EAC3CA,EAAK,GAAG,EACR,IAAIgB,EAAU,CAAC,MAAO,OAAQ,MAAO,SAAU,QAAS,OAAQ,UAAW,OAAO,EAClFjrB,EAASA,EAAO,cACZA,GAAUirB,EAAQ,SAASjrB,CAAM,EAEjCA,EAAS,cAAc,OAAOA,EAAO,CAAC,CAAC,EAAE,OAAOA,EAAO,UAAU,CAAC,EAAE,YAAa,CAAA,EAIjFA,EAAS,mBAAoB,OAAOA,EAAQ,IAAK,EAErDiqB,EAAK,YAAY,OAAOjqB,EAAQ,GAAG,EAAG,CAAC,EACvCiqB,EAAK,yBAA0B,OAAOJ,EAAS,KAAM,EAAG,CAAC,EACzD,IAAIvC,EAAU,OAAO,KAAKyC,CAAU,EAAE,OAAO,SAAUtjB,EAAQ,CAC3D,OAAQA,EAAO,YAAa,EAAA,CACxB,IAAK,eACL,IAAK,iBACL,IAAK,kBAED,MAAO,GACX,QACI,MAAO,EACd,CACb,CAAS,EASD,GARI6gB,EAAQ,SACR2C,EAAK,YAAa,CAAC,EACnBA,EAAK,IAAK,CAAC,EACX3C,EAAQ,QAAQ,SAAUxrB,EAAK,CAC3BmuB,EAAK,MAAO,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,MAAO,EAAG,CAAC,CAC1H,CAAa,EACDmuB,EAAK,KAAM,CAAC,GAEZD,EAAS,KAAM,CACf,IAAI8B,EAAc9B,EAAS,SAC3B,OAAQ8B,EAAW,CACf,IAAK,oCACD7B,EAAK,qEAAsE,CAAC,EAC5EA,EAAK,IAAK,CAAC,GACVhjB,EAAK+iB,EAAS,UAAY,MAAQ/iB,IAAO,QAAkBA,EAAG,QAAQ,SAAUikB,EAAO,CACpFjB,EAAK,MAAO,OAAOiB,EAAM,KAAM,MAAQ,EAAE,OAAOA,EAAM,MAAO,MAAO,EAAG,CAAC,CAChG,CAAqB,EACDjB,EAAK,MAAO,CAAC,EACb,MACJ,IAAK,sBACDA,EAAK,yCAA0C,CAAC,EAChDA,EAAK,IAAK,CAAC,GACV/iB,EAAK8iB,EAAS,UAAY,MAAQ9iB,IAAO,QAAkBA,EAAG,QAAQ,SAAUgkB,EAAO,CACpFjB,EAAK,qBAAqB,OAAO,KAAK,UAAUiB,EAAM,OAAS,EAAE,EAAG,GAAG,EAAG,CAAC,EAC3EjB,EAAK,IAAK,CAAC,EACXA,EAAK,YAAa,CAAC,EACnBA,EAAK,IAAK,CAAC,EACPiB,EAAM,aACNjB,EAAK,2CAA4C,OAAOiB,EAAM,YAAa,KAAM,EAAG,CAAC,EAEzFjB,EAAK,sEAAuE,CAAC,EAC7EA,EAAK,IAAK,CAAC,EACXA,EAAK,WAAY,OAAOiB,EAAM,KAAM,IAAK,EAAG,CAAC,EACzCA,EAAM,UACNjB,EAAK,eAAgB,OAAOiB,EAAM,SAAU,IAAK,EAAG,CAAC,EAEzDjB,EAAK,IAAK,CAAC,EACXA,EAAK,IAAK,CAAC,EACXA,EAAK,KAAM,CAAC,CACpC,CAAqB,EACDA,EAAK,KAAM,CAAC,EACZ,MACJ,QACIA,EAAK,+BAA+B,OAAO,KAAK,UAAUD,EAAS,MAAQ,EAAE,EAAG,GAAG,EAAG,CAAC,EACvFC,EAAK,IAAK,CAAC,EACXA,EAAK,YAAa,CAAC,EACnBA,EAAK,IAAK,CAAC,EACXA,EAAK,2CAA4C,OAAO6B,EAAa,IAAK,EAAG,CAAC,EAC9E7B,EAAK,IAAK,CAAC,EACXA,EAAK,IAAK,CAAC,EACX,KACP,CACJ,CACD,OAAAA,EAAK,IAAI,EAETA,EAAK,wDAAwD,EAC7DA,EAAK,GAAG,EACRA,EAAK,sCAAuC,CAAC,EAC7CA,EAAK,yDAA0D,CAAC,EAChEA,EAAK,2BAA4B,CAAC,EAClCA,EAAK,GAAG,EACDxB,EAAI,CACd,CACL,YCjKAiB,GAAO,WAAc,GACJA,GAAA,UAAG,OACpB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACX+oB,GAAY3nB,GAChBgnB,GAAA,UAAoB,CAChB,KAAM,CACF,IAAK,YACL,MAAO,YACP,KAAM,wBACN,YAAa,0CAChB,EACD,QAAS,SAAU5iB,EAAI,CACnB,IAAIijB,EAAajjB,EAAG,WAAY9G,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QAASgjB,EAAahjB,EAAG,WAAY8kB,EAAU9kB,EAAG,QAASkjB,EAAWljB,EAAG,SACtIG,EAAK,IAAI0iB,GAAe,YAAeM,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KACjE8kB,EAAoB,CAAC,MAAO,OAAQ,MAAO,SAAU,QAAS,OAAQ,SAAS,EAAE,SAAS/rB,EAAO,YAAa,CAAA,EAClH,GAAI,CAAC+rB,EACD,MAAO,uBAYX,GAVA9B,EAAK,gCAAiC,OAAOJ,EAAS,KAAM,CAAC,EAC7DI,EAAK,wCAAwC,OAAOjqB,EAAO,YAAa,EAAE,IAAI,CAAC,EAE/E,OAAO,KAAK8pB,CAAU,EAAE,QAAQ,SAAUhuB,EAAK,CAC3CmuB,EAAK,sBAAuB,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBE,EAAWhuB,CAAG,CAAC,EAAG,KAAM,CAAC,CAClI,CAAS,EACD8vB,EAAQ,QAAQ,SAAU9kB,EAAI,CAC1B,IAAI3C,EAAO2C,EAAG,KAAM/K,EAAQ+K,EAAG,MAC/BmjB,EAAK,sBAAuB,OAAO9lB,EAAM,MAAQ,EAAE,OAAOpI,EAAO,KAAM,CAAC,CACpF,CAAS,EACGiuB,EAAS,KAAM,CACf,IAAIvjB,KAAa4jB,GAAU,WAAWN,EAAY,cAAc,EAC5DnvB,EAAO,KAAK,UAAUovB,EAAS,IAAI,EACvCC,EAAK,yBAA0B,OAAOxjB,EAAQ,KAAM,EAAE,OAAO7L,EAAM,+BAA+B,CAAC,CACtG,CACD,OAAAqvB,EAAK,mDAAmD,EACjDxB,EAAI,CACd,CACL,ECrCA0B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACf6oB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,KACP,QAAS,MACT,QAAW,WACd,EACD,YAAa,CACT,WAAYC,GAAS,WACrB,UAAW4B,GAAS,SACvB,CACL,kBCNAtC,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,aACP,KAAM,6CACN,YAAa,4BAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwsB,EAAWljB,EAAG,SAAU9G,EAAS8G,EAAG,OAAQijB,EAAajjB,EAAG,WAAY+iB,EAAU/iB,EAAG,QACrFtJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ,GAAI,CAAE,EAAGO,EAAQjjB,EAAG,MAAOgjB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KACnGC,EAAK1J,EAAQ,gBAAiByuB,EAAkB/kB,IAAO,OAAS,GAAOA,EAAIwkB,EAAKluB,EAAQ,YAAa0uB,EAAcR,IAAO,OAAS,GAAQA,EAAIS,EAAK3uB,EAAQ,UAAW4uB,EAAYD,IAAO,OAAS,GAAOA,EAAIE,EAAK7uB,EAAQ,QAAS8uB,EAAUD,IAAO,OAAS,GAAKA,EAAIE,EAAK/uB,EAAQ,mBAAoBgvB,EAAqBD,IAAO,OAAS,GAAQA,EACrVE,EAAmBP,EAAc,MAAQ,IACzC1D,EAASyD,EAAkB,EAAI,EAC/BS,EAAa,UAAY,CACrBR,IACAjC,EAAK,kBAAmBzB,CAAM,EAC9ByB,EAAK,aAAczB,EAAS,CAAC,EAC7ByB,EAAK,IAAKzB,CAAM,EAEhC,EAEYyD,IACAhC,EAAK,cAAc,EACnBC,IACAD,EAAK,UAAU,EACfA,EAAK,QAASzB,CAAM,EAChB8D,EAAU,GACVrC,EAAK,SAAUzB,CAAM,EAErBgE,GACAvC,EAAK,eAAgBzB,CAAM,EAE3BwB,EAAS,MACTC,EAAK,YAAazB,CAAM,EAE5ByB,EAAK,aAAczB,CAAM,EACrB4D,GACAnC,EAAK,OAAQzB,CAAM,EAEvByB,EAAK,GAAG,EACRC,IACAD,EAAK,eAAe,EACpBC,KAGAsC,IACAvC,EAAK,uEAAwEzB,CAAM,EACnFyB,EAAK,4EAA6EzB,CAAM,GAG5F,IAAImE,EAAaL,EAAU,EACvBM,EAAYD,GAAcH,EAC1B9C,EAASkD,EAAY,SAAW,qBACpC,OAAIA,IACA3C,EAAK,yBAA0BzB,CAAM,EACjCmE,GACA1C,EAAK,0BAA0B,OAAOqC,EAAS,kBAAkB,EAAG9D,EAAS,CAAC,EAE9EgE,GACAvC,EAAK,gCAAiCzB,EAAS,CAAC,EAEpDyB,EAAK,IAAKzB,CAAM,EAChB0B,KAEJD,EAAK,WAAY,OAAOJ,EAAS,GAAI,EAAGrB,CAAM,EAC9C0B,IAEIF,EAAS,MACTC,EAAK,gCAAgC,OAAO,KAAK,UAAUD,EAAS,IAAI,EAAG,GAAG,EAAGxB,CAAM,EACvF0B,IACAD,EAAK,QAAQ,OAAOwC,EAAkB,uBAAwB,EAAE,OAAOzsB,EAAQ,kBAAmB,EAAGwoB,CAAM,EAC3G0B,MAGAD,EAAK,QAAQ,OAAOwC,EAAkB,uBAAwB,EAAE,OAAOzsB,EAAQ,cAAe,EAAGwoB,CAAM,EACvG0B,KAEJwC,IAEI,OAAO,KAAK3C,CAAU,EAAE,SACxB,OAAO,KAAKA,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3CmuB,EAAK,mBAAoB,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,IAAK,EAAG0sB,CAAM,CAC1I,CAAa,EACD0B,KAGJD,EAAK,QAAQ,OAAOwC,EAAkB,MAAM,EAAE,OAAO/C,EAAQ,UAAU,EAAGlB,CAAM,EAChFkE,IAEIN,IACAlC,IACAD,EAAK,yBAA0BzB,CAAM,EACrCyB,EAAK,SAAS,OAAOwC,EAAkB,0BAA0B,EAAGjE,CAAM,EAC1EkE,KAGJxC,IACAD,EAAK,mBAAoBzB,CAAM,EAC3B4D,GACAnC,EAAK,4BAA6BzB,CAAM,EAGxCyD,IACA/B,IACAD,EAAK,GAAG,GAELxB,EAAI,CACd,CACL,EC1HA0B,GAAO,WAAc,GACXA,GAAA,GAAG,OACb,IAAIC,GAAW1sB,GACfysB,GAAA,GAAa,CACT,KAAM,CACF,IAAK,KACL,MAAO,KACP,QAAS,MACT,QAAW,QACd,EACD,YAAa,CACT,OAAQC,GAAS,MACpB,CACL,kBCHIgB,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBmvB,GAAO;AAAA,EAMXnD,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,UACL,MAAO,WACP,KAAM,sCACN,YAAa,qDAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QAASgmB,EAAShmB,EAAG,OAAQimB,EAAcjmB,EAAG,YAAaijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SACtI/I,EAAOqtB,GAAS,CAAE,YAAa,GAAO,kBAAmB,GAAM,SAAU,EAAM,EAAE5tB,CAAO,EAGxFyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ,GAAI,KAAMkD,EAAM,CAAA,EAAG3C,EAAQjjB,EAAG,MAAOgjB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KAI7G+lB,EAAajvB,EAAK,YAAc8rB,EAAUiD,EAAO,KAErD7C,EAAK,GAAG,OAAOjqB,EAAQ,GAAG,EAAE,OAAOgtB,EAAY,GAAG,EAAE,OAAOD,CAAW,CAAC,EACvE,IAAIE,EAAa,OAAO,KAAKlD,CAAU,EAcvC,GAZAkD,EAAW,QAAQ,SAAUnxB,EAAK,CAE9B,IAAIoxB,EAAiBpxB,EAAI,YAAa,EAAC,QAAQ,aAAc,SAAUP,EAAO,CAAE,OAAOA,EAAM,YAAa,CAAG,CAAA,EAC7G0uB,EAAK,GAAG,OAAOiD,EAAgB,IAAI,EAAE,OAAOnD,EAAWjuB,CAAG,CAAC,CAAC,CACxE,CAAS,EAGGiC,EAAK,UAAY,CAACkvB,EAAW,SAAS,MAAM,GAC5ChD,EAAK,SAAS,OAAO6C,EAAO,IAAI,CAAC,EAIjC/uB,EAAK,mBAAqBisB,EAAS,MAAQ,CAACiD,EAAW,SAAS,gBAAgB,EAAG,CACnF,IAAI7lB,EAAS,OAAO,WAAW4iB,EAAS,KAAM,OAAO,EAAE,WACvDC,EAAK,mBAAmB,OAAO7iB,CAAM,CAAC,CACzC,CAED8iB,IAEA,IAAIiD,EAAgB1E,IAEhB2E,EAAcpD,EAAS,MAAQ,GAGnC,MAAO,GAAG,OAAOmD,CAAa,EAAE,OAAON,EAAI,EAAE,OAAOO,CAAW,CAClE,CACL,EC7EAjD,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAW1sB,GACfysB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,OACP,QAAS,KACT,QAAW,KACd,EACD,YAAa,CACT,UAAWC,GAAS,MACvB,CACL,kBCJIgB,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACJA,GAAA,UAAG,OACpB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,UAAoB,CAChB,KAAM,CACF,IAAK,YACL,MAAO,YACP,KAAM,uDACN,YAAa,yDAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAU+iB,EAAU/iB,EAAG,QACrF/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQjjB,EAAG,MAAOgjB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KAC9G,OAAAgjB,EAAK,wDAAwD,EAC7DA,EAAK,mBAAoB,OAAOjqB,EAAO,YAAW,EAAI,MAAQ,EAAE,OAAO6pB,EAAS,IAAK,CAAC,EAEtF,OAAO,KAAKE,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3CmuB,EAAK,eAAgB,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,IAAK,EAAG,CAAC,CAC7H,CAAS,EACGkuB,EAAS,MACTC,EAAK,YAAY,OAAO,KAAK,UAAUD,EAAS,IAAI,EAAG,GAAG,EAAG,CAAC,EAElEC,EAAK,aAAc,CAAC,EACpBA,EAAK,yBAA0B,CAAC,EAChCA,EAAK,mCAAoC,CAAC,EAC1CA,EAAK,WAAY,CAAC,EAClBC,IACAD,EAAK,iBAAiB,EACfxB,EAAI,CACd,CACL,YC3CI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,QAAkB,CACd,KAAM,CACF,IAAK,UACL,MAAO,gBACP,KAAM,4DACN,YAAa,mCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIusB,EAAajjB,EAAG,WAAY+iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OAAQkjB,EAAWljB,EAAG,SACpF/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,MAAQ,CAAA,EAAGksB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KAC5F,OAAAgjB,EAAK,gDAAgD,EACrDA,EAAK,oBAAqB,OAAOJ,EAAS,KAAM,EAAG,CAAC,EACpD,OAAO,KAAKE,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3CmuB,EAAK,YAAa,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,IAAK,EAAG,CAAC,CAC1H,CAAS,EACGkuB,EAAS,KACTC,EAAK,YAAa,OAAOjqB,EAAO,YAAW,EAAI,yCAA0C,EAAE,OAAO,KAAK,UAAUgqB,EAAS,IAAI,EAAG,IAAI,EAAG,CAAC,EAGzIC,EAAK,YAAa,OAAOjqB,EAAO,YAAW,EAAI,yCAA0C,EAAG,CAAC,EAEjGiqB,EAAK,YAAa,CAAC,EACnBA,EAAK,iHAAiH,EACtHA,EAAK,sCAAsC,EACpCxB,EAAI,CACd,CACL,YC1CI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,KAAM,kCACN,YAAa,gCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwsB,EAAWljB,EAAG,SAAU9G,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QAASijB,EAAajjB,EAAG,WAClF/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGksB,EAAOhjB,EAAG,KAAMijB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAC1GgkB,EAAU,CAAC,MAAO,OAAQ,MAAO,SAAU,QAAS,MAAM,EAC1DoC,EAAkB,CAAC,OAAQ,MAAO,SAAU,OAAO,EACvD,OAAApD,EAAK,2CAA2C,EAChDC,IACIF,EAAS,OACLA,EAAS,SACTC,EAAK,0CAA2C,OAAOD,EAAS,SAAU,aAAa,EAAE,OAAOA,EAAS,SAAU,KAAM,CAAC,EAG1HC,EAAK,0CAA2C,OAAOD,EAAS,SAAU,KAAM,CAAC,EAErFC,EAAK,oDAAoD,OAAO,KAAK,UAAUD,EAAS,IAAI,EAAG,IAAI,CAAC,GAExGC,EAAK,yCAAyC,EAC9CA,EAAK,SAAU,OAAOJ,EAAS,IAAK,EAAG,CAAC,EACnCoB,EAAQ,SAASjrB,EAAO,YAAa,CAAA,EAQjCqtB,EAAgB,SAASrtB,EAAO,YAAa,CAAA,EAC9CgqB,EAAS,KACTC,EAAK,IAAI,OAAOjqB,EAAO,YAAW,EAAI,QAAQ,EAAG,CAAC,EAGlDiqB,EAAK,IAAI,OAAOjqB,EAAO,YAAW,EAAI,QAAQ,EAAG,CAAC,EAItDiqB,EAAK,IAAI,OAAOjqB,EAAO,YAAW,EAAI,IAAI,EAAG,CAAC,EAhB1CgqB,EAAS,KACTC,EAAK,YAAa,OAAOjqB,EAAO,YAAW,EAAI,UAAW,EAAG,CAAC,EAG9DiqB,EAAK,YAAa,OAAOjqB,EAAO,YAAW,EAAI,UAAW,EAAG,CAAC,EAetE,OAAO,KAAK+pB,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3CmuB,EAAK,eAAgB,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,IAAK,EAAG,CAAC,CAC7H,CAAS,EACDmuB,EAAK,YAAa,CAAC,EACnBC,IACAD,EAAK,wDAAwD,EACtDxB,EAAI,CACd,CACL,YCrEI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,QAAkB,CACd,KAAM,CACF,IAAK,UACL,MAAO,UACP,KAAM,8BACN,YAAa,yCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAU+iB,EAAU/iB,EAAG,QACrF/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,MAAQ,CAAA,EAAG0qB,EAAOxhB,EAAG,KAAMgjB,EAAOhjB,EAAG,KACxFgkB,EAAU,CAAC,MAAO,OAAQ,MAAO,SAAU,QAAS,OAAQ,SAAS,EACzE,OAAKA,EAAQ,SAASjrB,EAAO,YAAa,CAAA,EAItCiqB,EAAK,2CAA2C,OAAOjqB,EAAO,YAAW,EAAI,IAAK,EAAE,OAAO6pB,EAAS,IAAK,CAAC,EAH1GI,EAAK,yDAA0D,OAAOjqB,EAAO,YAAW,EAAI,KAAO,EAAE,OAAO6pB,EAAS,IAAK,CAAC,EAM/H,OAAO,KAAKE,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3CmuB,EAAK,YAAa,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,IAAK,EAAG,CAAC,CAC1H,CAAS,EACGkuB,EAAS,MACTC,EAAK,SAAS,OAAO,KAAK,UAAUD,EAAS,IAAI,EAAG,GAAG,EAAG,CAAC,EAE/DC,EAAK,eAAgB,CAAC,EACfxB,EAAI,CACd,CACL,ECpDA0B,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACXgsB,GAAW5qB,GACX6qB,GAAW5qB,GACfwnB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,OACP,QAAS,QACT,QAAW,SACd,EACD,YAAa,CACT,UAAWC,GAAS,UACpB,QAAS4B,GAAS,QAClB,OAAQsB,GAAS,OACjB,QAASC,GAAS,OACrB,CACL,kBCnBAC,GAAiB,SAAUC,EAAI,CAC9B,OAAO,OAAO,UAAU,SAAS,KAAKA,CAAE,IAAM,iBAC/C,ECFAC,GAAiB,SAAU7yB,EAAG,CAC7B,IAAI+sB,EAAO,OAAO/sB,EAClB,OAAOA,IAAM,OAAS+sB,IAAS,UAAYA,IAAS,WACrD,QCHA,OAAO,eAAezB,GAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EAC5DA,GAAA,QAAmB/f,GAAW,OACzB,sBAAsBA,CAAM,EAC5B,OAAQunB,GAAc,OAAO,UAAU,qBAAqB,KAAKvnB,EAAQunB,CAAS,CAAC,ECHxF,MAAMH,GAAW9vB,GACXgwB,GAAQpsB,GACRssB,GAAwBlrB,GAA+C,QAE7E,IAAAmrB,GAAiB,CAACtwB,EAAKQ,EAAM+vB,IAAQ,CACpC,MAAM1e,EAAO,CAAA,EAEb,OAAQ,SAASC,EAAU9R,EAAKQ,EAAM+vB,EAAK,CAC1C/vB,EAAOA,GAAQ,GACfA,EAAK,OAASA,EAAK,QAAU,IAC7B+vB,EAAMA,GAAO,GAEb,IAAIC,EAEAhwB,EAAK,uBAAyB,OACjCgwB,EAAS,CACR,QAAS;AAAA,EACT,eAAgB;AAAA,EAChB,IAAAD,EACA,OAAQA,EAAM/vB,EAAK,MACvB,EAEGgwB,EAAS,CACR,QAAS,oCACT,eAAgB,6CAChB,IAAK,+BACL,OAAQ,iCACZ,EAGE,MAAMC,EAAmBC,GAAU,CAClC,GAAIlwB,EAAK,uBAAyB,OACjC,OAAOkwB,EAGR,MAAMC,EAAWD,EACf,QAAQ,IAAI,OAAOF,EAAO,QAAS,GAAG,EAAG,EAAE,EAC3C,QAAQ,IAAI,OAAOA,EAAO,eAAgB,GAAG,EAAG,GAAG,EACnD,QAAQ,IAAI,OAAOA,EAAO,IAAM,IAAMA,EAAO,OAAQ,GAAG,EAAG,EAAE,EAE/D,OAAIG,EAAS,QAAUnwB,EAAK,qBACpBmwB,EAGDD,EACL,QAAQ,IAAI,OAAOF,EAAO,QAAU,IAAMA,EAAO,eAAgB,GAAG,EAAG;AAAA,CAAI,EAC3E,QAAQ,IAAI,OAAOA,EAAO,IAAK,GAAG,EAAGD,CAAG,EACxC,QAAQ,IAAI,OAAOC,EAAO,OAAQ,GAAG,EAAGD,EAAM/vB,EAAK,MAAM,CAC9D,EAEE,GAAIqR,EAAK,QAAQ7R,CAAG,IAAM,GACzB,MAAO,eAGR,GAAIA,GAAQ,MAEX,OAAOA,GAAQ,UACf,OAAOA,GAAQ,WACf,OAAOA,GAAQ,YACf,OAAOA,GAAQ,UACfiwB,GAASjwB,CAAG,EACZ,OAAO,OAAOA,CAAG,EAGlB,GAAIA,aAAe,KAClB,MAAO,aAAaA,EAAI,YAAa,CAAA,KAGtC,GAAI,MAAM,QAAQA,CAAG,EAAG,CACvB,GAAIA,EAAI,SAAW,EAClB,MAAO,KAGR6R,EAAK,KAAK7R,CAAG,EAEb,MAAM4wB,EAAM,IAAMJ,EAAO,QAAUxwB,EAAI,IAAI,CAAC6wB,EAAIvvB,IAAM,CACrD,MAAMwvB,EAAM9wB,EAAI,OAAS,IAAMsB,EAAIkvB,EAAO,QAAU,IAAMA,EAAO,eACjE,IAAIhyB,EAAQsT,EAAU+e,EAAIrwB,EAAM+vB,EAAM/vB,EAAK,MAAM,EACjD,OAAIA,EAAK,YACRhC,EAAQgC,EAAK,UAAUR,EAAKsB,EAAG9C,CAAK,GAE9BgyB,EAAO,OAAShyB,EAAQsyB,CACnC,CAAI,EAAE,KAAK,EAAE,EAAIN,EAAO,IAAM,IAE3B,OAAA3e,EAAK,IAAG,EAED4e,EAAiBG,CAAG,CAC3B,CAED,GAAIT,GAAMnwB,CAAG,EAAG,CACf,IAAI+wB,EAAU,OAAO,KAAK/wB,CAAG,EAAE,OAAOqwB,GAAsBrwB,CAAG,CAAC,EAMhE,GAJIQ,EAAK,SACRuwB,EAAUA,EAAQ,OAAOF,GAAMrwB,EAAK,OAAOR,EAAK6wB,CAAE,CAAC,GAGhDE,EAAQ,SAAW,EACtB,MAAO,KAGRlf,EAAK,KAAK7R,CAAG,EAEb,MAAM4wB,EAAM,IAAMJ,EAAO,QAAUO,EAAQ,IAAI,CAACF,EAAIvvB,IAAM,CACzD,MAAMwvB,EAAMC,EAAQ,OAAS,IAAMzvB,EAAIkvB,EAAO,QAAU,IAAMA,EAAO,eAC/DQ,EAAW,OAAOH,GAAO,SACzBI,EAAY,CAACD,GAAY,wBAAwB,KAAKH,CAAE,EACxDtyB,EAAMyyB,GAAYC,EAAYJ,EAAK/e,EAAU+e,EAAIrwB,CAAI,EAC3D,IAAIhC,EAAQsT,EAAU9R,EAAI6wB,CAAE,EAAGrwB,EAAM+vB,EAAM/vB,EAAK,MAAM,EACtD,OAAIA,EAAK,YACRhC,EAAQgC,EAAK,UAAUR,EAAK6wB,EAAIryB,CAAK,GAE/BgyB,EAAO,OAAS,OAAOjyB,CAAG,EAAI,KAAOC,EAAQsyB,CACxD,CAAI,EAAE,KAAK,EAAE,EAAIN,EAAO,IAAM,IAE3B,OAAA3e,EAAK,IAAG,EAED4e,EAAiBG,CAAG,CAC3B,CAID,OAFA5wB,EAAM,OAAOA,CAAG,EAAE,QAAQ,UAAW1C,GAAKA,IAAM;AAAA,EAAO,MAAQ,KAAK,EAEhEkD,EAAK,eAAiB,IACzBR,EAAMA,EAAI,QAAQ,KAAM,KAAK,EACtB,IAAIA,CAAG,MAGfA,EAAMA,EAAI,QAAQ,QAAS,KAAM,EAC1B,IAAIA,CAAG,IAChB,EAAIA,EAAKQ,EAAM+vB,CAAG,CAClB,ECxHI1C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACrBooB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,QACP,KAAM,iCACN,YAAa,uDAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIusB,EAAajjB,EAAG,WAAY9G,EAAS8G,EAAG,OAAQrL,EAAMqL,EAAG,IAAKkkB,EAAWlkB,EAAG,SAAUkjB,EAAWljB,EAAG,SACpG/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQjjB,EAAG,MAAOgjB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KAAMynB,EAAmBznB,EAAG,iBAC1IgjB,EAAK,4BAA4B,EACjCC,IACA,IAAIyE,EAAiB,CACjB,OAAQ3uB,EACR,IAAKvE,CACjB,EAOQ,OANI,OAAO,KAAKuvB,CAAQ,EAAE,SACtB2D,EAAe,OAAS3D,GAExB,OAAO,KAAKjB,CAAU,EAAE,SACxB4E,EAAe,QAAU5E,GAErBC,EAAS,SAAQ,CACrB,IAAK,oCACGA,EAAS,SACTC,EAAK,8CAA8C,EACnDD,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrCjB,EAAK,sBAAsB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,MAAO,KAAK,CAAC,CACxG,CAAqB,EACDhB,IACAyE,EAAe,KAAO,iBACtBD,EAAiB,SAAUtlB,EAAM,CAAE,OAAOA,EAAK,QAAQ,mBAAoB,gBAAgB,CAAE,CAAE,GAEnG,MACJ,IAAK,mBACG4gB,EAAS,UACT2E,EAAe,KAAO3E,EAAS,SAEnC,MACJ,IAAK,sBACD,GAAI,CAACA,EAAS,OACV,MAEJC,EAAK,8BAA8B,EACnCD,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrCjB,EAAK,gBAAgB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,OAASA,EAAM,UAAY,GAAI,KAAK,CAAC,CACtH,CAAiB,EACDhB,IACAyE,EAAe,KAAO,SACtB,MACJ,QACQ3E,EAAS,OACT2E,EAAe,KAAO3E,EAAS,KAE1C,CACD,IAAI4E,KAAmBH,GAAmB,SAAYE,EAAgB,CAClE,OAAQ,KACR,qBAAsB,EACzB,CAAA,EAAE,QAAQ,WAAY,MAAM,EAC7B,OAAA1E,EAAK,mBAAmB,OAAO2E,EAAc,GAAG,CAAC,EACjD1E,IACAD,EAAK,OAAO,EACZA,EAAK,iDAAkD,CAAC,EACxDA,EAAK,qBAAsB,CAAC,EAC5BA,EAAK,mBAAmB,EACxBA,EAAK,wBAAyB,CAAC,EAC/BA,EAAK,GAAG,EACDxB,EAAI,CACd,CACL,YCxFI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACjB+oB,GAAY3nB,GAChBgnB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,QACP,KAAM,yEACN,YAAa,uDAChB,EACD,QAAS,SAAU5iB,EAAI+nB,EAAW,CAC9B,IAAI7uB,EAAS8G,EAAG,OAAQijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAU+iB,EAAU/iB,EAAG,QACrF/I,EAAOqtB,GAAS,CAAE,OAAQ,KAAM,YAAa,MAAQyD,CAAS,EAC9D5nB,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAAMgjB,EAAOhjB,EAAG,KAC1GzJ,EAAU,CACV,OAAQwC,CACpB,EAQQ,OAPI,OAAO,KAAK+pB,CAAU,EAAE,SACxBvsB,EAAQ,QAAUusB,GAElBhsB,EAAK,cAAgB,OACrBP,EAAQ,YAAcO,EAAK,aAE/BksB,EAAK,gBAAgB,OAAOJ,EAAS,IAAI,CAAC,EAClCG,EAAS,SAAQ,CACrB,IAAK,oCACDxsB,EAAQ,KAAOwsB,EAAS,UAAYA,EAAS,UAAYA,EAAS,KAClE,MACJ,IAAK,mBACDxsB,EAAQ,KAAO,KAAK,UAAUwsB,EAAS,OAAO,EAC9C,MACJ,IAAK,sBACD,GAAI,CAACA,EAAS,OACV,MAIJ,IAAI8E,KAAwBzE,GAAU,eAAeN,EAAY,cAAc,EAC3E+E,GACA,OAAO/E,EAAW+E,CAAiB,EAEvC7E,EAAK,8BAA8B,EACnCD,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrCjB,EAAK,gBAAgB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,OAASA,EAAM,UAAY,GAAI,KAAK,CAAC,CACtH,CAAiB,EACDhB,IACA,MACJ,QACQF,EAAS,OACTxsB,EAAQ,KAAOwsB,EAAS,KAEnC,CAED,OAAIxsB,EAAQ,SAAW,CAAC,OAAO,KAAKA,EAAQ,OAAO,EAAE,QACjD,OAAOA,EAAQ,QAEnBysB,EAAK,mBAAmB,UAAWwE,GAAmB,SAAYjxB,EAAS,CACvE,OAAQO,EAAK,OACb,qBAAsB,GACtB,UAAW,SAAUiH,EAAG+pB,EAAUC,EAAgB,CAC9C,OAAID,IAAa,QAAU/E,EAAS,WAAa,oCACtC,uBAAuB,OAAOgF,EAAgB,GAAG,EAErDA,CACV,CACb,CAAS,EAAG,GAAG,CAAC,EACR9E,IACIF,EAAS,QAAUA,EAAS,WAAa,wBACzCC,EAAK,sBAAsB,EAC3BC,KAEJD,EAAK,OAAO,EACZA,EAAK,8CAA+C,CAAC,EACrDA,EAAK,sCAAuC,CAAC,EAC7CA,EAAK,qBAAsB,CAAC,EAC5BA,EAAK,mBAAmB,EACxBA,EAAK,wBAAyB,CAAC,EAC/BA,EAAK,GAAG,EACDxB,EAAI,CACd,CACL,YChGI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACjB+oB,GAAY3nB,GAChBgnB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,KAAM,qCACN,YAAa,0DAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACA4iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OAAQijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SACpF/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzC0J,EAAK,IAAIyiB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQhjB,EAAG,MAAO+iB,EAAO/iB,EAAG,KAAMuhB,EAAOvhB,EAAG,KAC1G+nB,EAAW,CACX,MAAO,GACP,YAAa,GACb,IAAKpF,EACL,OAAQ7pB,EACR,QAAS+pB,CACrB,EACQ,OAAQC,EAAS,SAAQ,CACrB,IAAK,oCACDiF,EAAS,KAAOjF,EAAS,UAAYA,EAAS,UAAYA,EAAS,KACnE,MACJ,IAAK,mBACDiF,EAAS,YAAc,GACvBA,EAAS,KAAOjF,EAAS,KACzB,MACJ,IAAK,sBACD,GAAI,CAACA,EAAS,OACV,MAWJ,GATAC,EAAK,8BAA8B,EACnCD,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrCjB,EAAK,gBAAgB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,OAASA,EAAM,UAAY,GAAI,KAAK,CAAC,CACtH,CAAiB,EACD+D,EAAS,YAAc,GACvBA,EAAS,YAAc,GACvBA,EAAS,SAAW,sBACpBA,EAAS,KAAO,YAER5E,GAAU,WAAWN,EAAY,cAAc,GAC9C,GAAA9iB,KAASojB,GAAU,WAAWN,EAAY,cAAc,KAAO,MAAQ9iB,IAAO,SAAkBA,EAAG,SAAS,UAAU,EAAG,CAC1H,IAAIsgB,KAAiB8C,GAAU,eAAeN,EAAY,cAAc,EACpExC,GACA,OAAO0H,EAAS,QAAQ1H,CAAU,CAEzC,CAEL2C,IACA,MACJ,QACQF,EAAS,OACTiF,EAAS,KAAOjF,EAAS,KAEpC,CACD,IAAIkF,KAA0BT,GAAmB,SAAYQ,EAAU,CAAE,OAAQlxB,EAAK,MAAM,CAAE,EAAE,QAAQ,WAAY,MAAM,EAC1H,OAAAksB,EAAK,oBAAoB,OAAOiF,EAAqB,GAAG,CAAC,EACzDhF,IACAD,EAAK,6CAA6C,EAClDA,EAAK,yBAA0B,CAAC,EAChCA,EAAK,KAAK,EACHxB,EAAI,CACd,CACL,YClFI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACVA,GAAA,IAAG,OACd,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACjBsoB,GAAWlnB,GACX2nB,GAAY1nB,GAChB+mB,GAAA,IAAc,CACV,KAAM,CACF,IAAK,MACL,MAAO,iBACP,KAAM,kEACN,YAAa,8DAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACA+iB,EAAWljB,EAAG,SAAUijB,EAAajjB,EAAG,WAAY9G,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QACrF/I,EAAOqtB,GAAS,CAAE,OAAQ,KAAM,KAAM,IAAQ5tB,CAAO,EACrD0J,EAAK,IAAIyiB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQhjB,EAAG,MAAO+iB,EAAO/iB,EAAG,KAAMuhB,EAAOvhB,EAAG,KAC9G,OAAQ8iB,EAAS,SAAQ,CACrB,IAAK,mBACDC,EAAK,+BAA+B,UAAWwE,GAAmB,SAAYzE,EAAS,QAAS,CAC5F,OAAQjsB,EAAK,MACjC,CAAiB,EAAG,IAAI,CAAC,EACTmsB,IACA,MACJ,IAAK,sBACD,GAAI,CAACF,EAAS,OACV,MAOJ,GALAC,EAAK,8BAA8B,EACnCD,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrCjB,EAAK,gBAAgB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,OAASA,EAAM,UAAY,GAAI,KAAK,CAAC,CACtH,CAAiB,KAEOb,GAAU,WAAWN,EAAY,cAAc,GAC9C,GAAA9iB,KAASojB,GAAU,WAAWN,EAAY,cAAc,KAAO,MAAQ9iB,IAAO,SAAkBA,EAAG,SAAS,UAAU,EAAG,CAC1H,IAAIsgB,KAAiB8C,GAAU,eAAeN,EAAY,cAAc,EACpExC,GACA,OAAOwC,EAAWxC,CAAU,CAEnC,CAEL2C,IACA,MACJ,QACID,EAAK,gBAAgB,OAAOD,EAAS,KAAO,IAAI,OAAOA,EAAS,KAAM,GAAG,EAAI,OAAQ,GAAG,CAAC,EACzFE,GACP,CACD,OAAAD,EAAK,mCAAmC,EACpClsB,EAAK,MACLksB,EAAK,6BAA6B,EAEtCC,IACAD,EAAK,wDAAwD,EAC7DA,EAAK,uCAAwC,CAAC,EAC9CA,EAAK,kCAAmC,CAAC,EACzCA,EAAK,IAAK,CAAC,EACXA,EAAK,KAAK,EACVC,IACAD,EAAK,aAAa,OAAOjqB,EAAQ,MAAM,EAAE,OAAO6pB,EAAS,KAAK,CAAC,EAC/D,OAAO,KAAKE,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3CmuB,EAAK,yBAAyB,OAAOnuB,EAAK,MAAM,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,KAAK,CAAC,CACjI,CAAS,EACDouB,IACAD,EAAK,iBAAiB,EACfxB,EAAI,CACd,CACL,EC1FA0B,GAAO,WAAc,GACHA,GAAA,WAAG,OACrB,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACXgsB,GAAW5qB,GACX6qB,GAAW5qB,GACfwnB,GAAA,WAAqB,CACjB,KAAM,CACF,IAAK,aACL,MAAO,aACP,QAAS,MACT,QAAW,KACd,EACD,YAAa,CACT,IAAKoD,GAAS,IACd,MAAOnD,GAAS,MAChB,MAAO4B,GAAS,MAChB,OAAQsB,GAAS,MACpB,CACL,kBCVIlC,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,KAAM,kCACN,YAAa,gCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwsB,EAAWljB,EAAG,SAAU+iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OAAQijB,EAAajjB,EAAG,WAClF/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAAMgjB,EAAOhjB,EAAG,KAC1GgkB,EAAU,CAAC,MAAO,OAAQ,MAAO,SAAU,QAAS,MAAM,EAC1DoC,EAAkB,CAAC,OAAQ,MAAO,SAAU,OAAO,EACvD,OAAApD,EAAK,6BAA6B,EAClCC,IACIF,EAAS,OACLA,EAAS,SACTC,EAAK,oCAAqC,OAAOD,EAAS,SAAU,aAAa,EAAE,OAAOA,EAAS,SAAU,IAAK,CAAC,EAGnHC,EAAK,oCAAqC,OAAOD,EAAS,SAAU,IAAK,CAAC,EAE9EC,EAAK,4CAA4C,OAAO,KAAK,UAAUD,EAAS,IAAI,EAAG,GAAG,CAAC,GAE/FC,EAAK,iCAAiC,EACtCA,EAAK,SAAU,OAAOJ,EAAS,IAAK,EAAG,CAAC,EACnCoB,EAAQ,SAASjrB,EAAO,YAAa,CAAA,EAQjCqtB,EAAgB,SAASrtB,EAAO,YAAa,CAAA,EAC9CgqB,EAAS,KACTC,EAAK,IAAI,OAAOjqB,EAAO,YAAW,EAAI,QAAQ,EAAG,CAAC,EAGlDiqB,EAAK,IAAI,OAAOjqB,EAAO,YAAW,EAAI,QAAQ,EAAG,CAAC,EAItDiqB,EAAK,IAAI,OAAOjqB,EAAO,YAAW,EAAI,IAAI,EAAG,CAAC,EAhB1CgqB,EAAS,KACTC,EAAK,YAAa,OAAOjqB,EAAO,YAAW,EAAI,UAAW,EAAG,CAAC,EAG9DiqB,EAAK,YAAa,OAAOjqB,EAAO,YAAW,EAAI,UAAW,EAAG,CAAC,EAetE,OAAO,KAAK+pB,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3CmuB,EAAK,eAAgB,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,IAAK,EAAG,CAAC,CAC7H,CAAS,EACDmuB,EAAK,WAAY,CAAC,EAClBC,IACAD,EAAK,kDAAkD,EAChDxB,EAAI,CACd,CACL,EC9EA0B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAW1sB,GACfysB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,QAAS,MACT,QAAW,QACd,EACD,YAAa,CACT,OAAQC,GAAS,MACpB,CACL,kBCJIgB,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACrBooB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,QACP,KAAM,iCACN,YAAa,uDAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQrL,EAAMqL,EAAG,IAAKkkB,EAAWlkB,EAAG,SAAUijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SACpG/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAAMgjB,EAAOhjB,EAAG,KAAMynB,EAAmBznB,EAAG,iBAC1IgjB,EAAK,yCAAyC,EAC9C,IAAIkF,EAAU,CACV,OAAQnvB,EACR,IAAKvE,CACjB,EAOQ,OANI,OAAO,KAAKuvB,CAAQ,EAAE,SACtBmE,EAAQ,OAASnE,GAEjB,OAAO,KAAKjB,CAAU,EAAE,SACxBoF,EAAQ,QAAUpF,GAEdC,EAAS,SAAQ,CACrB,IAAK,oCACGA,EAAS,SACTC,EAAK,6CAA6C,EAClDC,IACAD,EAAK,8CAA8C,EACnDD,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrCjB,EAAK,sBAAsB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,MAAO,KAAK,CAAC,CACxG,CAAqB,EACDhB,IACAiF,EAAQ,KAAO,iBACfT,EAAiB,SAAUtlB,EAAM,CAAE,OAAOA,EAAK,QAAQ,mBAAoB,gBAAgB,CAAE,CAAE,GAEnG,MACJ,IAAK,mBACD8gB,IACIF,EAAS,UACTmF,EAAQ,KAAOnF,EAAS,SAE5B,MACJ,QACIE,IACIF,EAAS,OACTmF,EAAQ,KAAOnF,EAAS,KAEnC,CACD,IAAIoF,KAAyBX,GAAmB,SAAYU,EAAS,CAAE,OAAQ,KAAM,qBAAsB,EAAI,CAAA,EAC/G,OAAAlF,EAAK,mBAAmB,OAAOmF,EAAoB,GAAG,CAAC,EACvDlF,IACAD,EAAK,OAAO,EACZA,EAAK,iDAAkD,CAAC,EACxDA,EAAK,qBAAsB,CAAC,EAC5BA,EAAK,mBAAmB,EACxBA,EAAK,wBAAyB,CAAC,EAC/BA,EAAK,GAAG,EACDxB,EAAI,CACd,CACL,YC7EI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACjB+oB,GAAY3nB,GAChBgnB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,QACP,KAAM,uCACN,YAAa,mCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACAjH,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QAASkjB,EAAWljB,EAAG,SAAUgjB,EAAahjB,EAAG,WAAY8kB,EAAU9kB,EAAG,QAC3G/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzC6xB,EAAY,GACZnoB,EAAK,IAAIyiB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGmsB,EAAQhjB,EAAG,MAAO+iB,EAAO/iB,EAAG,KAAMuhB,EAAOvhB,EAAG,KAAMooB,EAAUpoB,EAAG,QACjI+iB,EAAK,sCAAsC,EAC3CC,IACA,IAAIiF,EAAU,CACV,OAAQnvB,CACpB,EAIQ,OAHI,OAAO,KAAK8pB,CAAU,EAAE,SACxBqF,EAAQ,QAAUrF,GAEdE,EAAS,SAAQ,CACrB,IAAK,oCACDsF,EAAQ,6CAA6C,EACrDrF,EAAK,8CAA8C,GAClDhjB,EAAK+iB,EAAS,UAAY,MAAQ/iB,IAAO,QAAkBA,EAAG,QAAQ,SAAUikB,EAAO,CACpFjB,EAAK,sBAAsB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,MAAO,KAAK,CAAC,CACpG,CAAiB,EACDhB,IACAiF,EAAQ,KAAO,gBACf,MACJ,IAAK,mBACGnF,EAAS,UACTmF,EAAQ,KAAO,KAAK,UAAUnF,EAAS,OAAO,GAElD,MACJ,IAAK,sBACD,GAAI,CAACA,EAAS,OACV,MAIJ,IAAI8E,KAAwBzE,GAAU,eAAeP,EAAY,cAAc,EAC3EgF,GACA,OAAOhF,EAAWgF,CAAiB,EAEvCQ,EAAQ,wCAAwC,EAChDrF,EAAK,kCAAkC,EACvCD,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrC,GAAI,CAACA,EAAM,UAAY,CAACA,EAAM,UAAY,CAACA,EAAM,YAAa,CAC1DjB,EAAK,oBAAoB,OAAOiB,EAAM,KAAM,MAAM,EAAE,OAAOA,EAAM,MAAO,KAAK,CAAC,EAC9E,MACH,CACGA,EAAM,WACNmE,EAAY,GACZpF,EAAK,oBAAoB,OAAOiB,EAAM,KAAM,0BAA0B,EAAE,OAAOA,EAAM,SAAU,MAAM,CAAC,EAE9H,CAAiB,EACDhB,IACA,MACJ,QACQF,EAAS,OACTmF,EAAQ,KAAOnF,EAAS,KAEnC,CAED,GAAI4B,EAAQ,OAAQ,CAChB,IAAI2D,EAAgB3D,EACf,IAAI,SAAU4D,EAAQ,CAAE,MAAO,GAAG,OAAO,mBAAmBA,EAAO,IAAI,EAAG,GAAG,EAAE,OAAO,mBAAmBA,EAAO,KAAK,CAAC,EAAI,EAC1H,KAAK,IAAI,EACVL,EAAQ,UAIRA,EAAQ,QAAU,IAClBA,EAAQ,QAAQ,OAASI,CAEhC,CACDtF,EAAK,gBAAgB,OAAOJ,EAAS,IAAI,CAAC,EAEtCsF,EAAQ,SAAW,CAAC,OAAO,KAAKA,EAAQ,OAAO,EAAE,QACjD,OAAOA,EAAQ,QAEnB,IAAIC,KAAyBX,GAAmB,SAAYU,EAAS,CAAE,OAAQ,KAAM,qBAAsB,EAAI,CAAA,EAC/G,OAAAlF,EAAK,mBAAmB,OAAOmF,EAAoB,GAAG,CAAC,EACnDC,GACAC,EAAQ,2BAA2B,EAEnCtF,EAAS,QAAUA,EAAS,WAAa,uBACzCC,EAAK,0BAA0B,EAEnCC,IACAD,EAAK,OAAO,EACZA,EAAK,8CAA+C,CAAC,EACrDA,EAAK,sCAAuC,CAAC,EAC7CA,EAAK,qBAAsB,CAAC,EAC5BA,EAAK,mBAAmB,EACxBA,EAAK,wBAAyB,CAAC,EAC/BA,EAAK,GAAG,EACDxB,EAAM,EACR,QAAQ,kBAAmB,eAAe,EAC1C,QAAQ,uCAAwC,2BAA2B,CACnF,CACL,YC1HI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACrBooB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,OACP,KAAM,qEACN,YAAa,+BAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIsvB,EAAShmB,EAAG,OAAQ9G,EAAS8G,EAAG,OAAQijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAClFtJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIyJ,EAAKzJ,EAAQ,OAAQgrB,EAASvhB,IAAO,OAAS,KAAOA,EAAIC,EAAK1J,EAAQ,mBAAoBgvB,EAAqBtlB,IAAO,OAAS,GAAQA,EACvIwkB,EAAK,IAAI/B,GAAe,YAAY,CAAE,OAAQnB,CAAM,CAAE,EAAG0B,EAAQwB,EAAG,MAAOjD,EAAOiD,EAAG,KAAMzB,EAAOyB,EAAG,KAAM4D,EAAU5D,EAAG,QACxHyD,EAAU/D,GAAS,CAAE,OAAQprB,EAAQ,SAAU8sB,EAAO,SAAU,KAAMA,EAAO,KAAM,KAAMA,EAAO,KAAM,QAAS/C,CAAY,EAAGyC,EAAqB,CAAE,mBAAoB,IAAU,CAAA,GAmBvL,OAjBAvC,EAAK,yBAAyB,OAAO6C,EAAO,SAAS,QAAQ,IAAK,EAAE,EAAG,KAAK,CAAC,EAC7E5C,IACAD,EAAK,mBAAmB,UAAWwE,GAAmB,SAAYU,EAAS,CAAE,OAAQ3G,CAAM,CAAE,EAAG,GAAG,CAAC,EACpG0B,IACAD,EAAK,oDAAoD,EACzDA,EAAK,qBAAsB,CAAC,EAC5BC,IACAD,EAAK,oCAAqC,CAAC,EAC3CA,EAAK,sBAAuB,CAAC,EAC7BA,EAAK,MAAO,CAAC,EACbC,IACAD,EAAK,8BAA+B,CAAC,EACrCA,EAAK,sCAAuC,CAAC,EAC7CA,EAAK,gCAAiC,CAAC,EACvCA,EAAK,MAAO,CAAC,EACbA,EAAK,KAAK,EACVC,IACQF,EAAS,SAAQ,CACrB,IAAK,oCACGA,EAAS,YACTsF,EAAQ,oCAAoC,EAC5CrF,EAAK,0BAA0B,UAAWwE,GAAmB,SAAYzE,EAAS,UAAW,CACzF,OAAQ,KACR,qBAAsB,EAC9C,CAAqB,EAAG,KAAK,CAAC,GAEd,MACJ,IAAK,mBACGA,EAAS,SACTC,EAAK,4BAA4B,UAAWwE,GAAmB,SAAYzE,EAAS,QAAS,CACzF,OAAQ,KACR,qBAAsB,EAC9C,CAAqB,EAAG,KAAK,CAAC,EAEd,MACJ,QACQA,EAAS,MACTC,EAAK,aAAa,UAAWwE,GAAmB,SAAYzE,EAAS,KAAM,CAAE,OAAQxB,CAAQ,CAAA,EAAG,IAAI,CAAC,CAEhH,CACD,OAAAyB,EAAK,YAAY,EACVxB,EAAI,CACd,CACL,YC3EI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACrBooB,GAAA,QAAkB,CACd,KAAM,CACF,IAAK,UACL,MAAO,UACP,KAAM,qCACN,YAAa,gCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQrL,EAAMqL,EAAG,IAAKkkB,EAAWlkB,EAAG,SAAUkjB,EAAWljB,EAAG,SAAUgjB,EAAahjB,EAAG,WAAY8kB,EAAU9kB,EAAG,QAC3H/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzC6xB,EAAY,GACZpoB,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGksB,EAAOhjB,EAAG,KAAMijB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAAMqoB,EAAUroB,EAAG,QACjIgjB,EAAK,qCAAqC,EAC1CC,IACA,IAAIiF,EAAU,CACV,OAAQnvB,EACR,IAAKvE,CACjB,EAOQ,OANI,OAAO,KAAKuvB,CAAQ,EAAE,SACtBmE,EAAQ,GAAKnE,GAEb,OAAO,KAAKlB,CAAU,EAAE,SACxBqF,EAAQ,QAAUrF,GAEdE,EAAS,SAAQ,CACrB,IAAK,oCACDmF,EAAQ,KAAOnF,EAAS,UACxB,MACJ,IAAK,mBACGA,EAAS,UACTmF,EAAQ,KAAOnF,EAAS,QACxBmF,EAAQ,KAAO,IAEnB,MACJ,IAAK,sBACD,GAAI,CAACnF,EAAS,OACV,MAEJmF,EAAQ,SAAW,GACnBnF,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrC,GAAI,CAACA,EAAM,UAAY,CAACA,EAAM,UAAY,CAACA,EAAM,YAAa,CAC1DiE,EAAQ,SAASjE,EAAM,IAAI,EAAIA,EAAM,MACrC,MACH,CACD,IAAIuE,EAAa,CAAA,EACbvE,EAAM,UACNmE,EAAY,GACZI,EAAa,CACT,MAAO,uBAAuB,OAAOvE,EAAM,SAAU,GAAG,EACxD,QAAS,CACL,SAAUA,EAAM,SAChB,YAAaA,EAAM,YAAcA,EAAM,YAAc,IACxD,CAC7B,GAE6BA,EAAM,QACXuE,EAAW,MAAQvE,EAAM,OAE7BiE,EAAQ,SAASjE,EAAM,IAAI,EAAIuE,CACnD,CAAiB,EACD,MACJ,QACQzF,EAAS,OACTmF,EAAQ,KAAOnF,EAAS,KAEnC,CAED,OAAI4B,EAAQ,SACRuD,EAAQ,IAAM,MACdlF,EAAK,4BAA4B,EACjC2B,EAAQ,QAAQ,SAAU4D,EAAQ,CAC9BvF,EAAK,iCAAiC,OAAO,mBAAmBuF,EAAO,IAAI,EAAG,GAAG,EAAE,OAAO,mBAAmBA,EAAO,KAAK,EAAG,OAAO,EAAE,OAAO/zB,EAAK,KAAK,CAAC,CACvK,CAAa,EACDyuB,KAEAmF,GACAC,EAAQ,2BAA2B,EAEvCrF,EAAK,mBAAmB,UAAWwE,GAAmB,SAAYU,EAAS,CAAE,OAAQ,KAAM,qBAAsB,EAAI,CAAA,EAAG,GAAG,CAAC,EAC5HjF,IACAD,EAAK,qDAAqD,EAC1DA,EAAK,qCAAsC,CAAC,EAC5CC,IACAD,EAAK,qBAAsB,CAAC,EAC5BA,EAAK,KAAK,EACHxB,EAAM,EACR,QAAQ,QAAS,KAAK,EACtB,QAAQ,iCAAkC,2BAA2B,CAC7E,CACL,YC3GI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACItE,GAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACA6C,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAI+E,GAAqB3H,GAAgBppB,EAA2B,EAChEisB,GAAiBroB,GACrBooB,GAAA,QAAkB,CACd,KAAM,CACF,IAAK,UACL,MAAO,UACP,KAAM,gCACN,YAAa,yCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQrL,EAAMqL,EAAG,IAAK8kB,EAAU9kB,EAAG,QAASkkB,EAAWlkB,EAAG,SAAUkjB,EAAWljB,EAAG,SAAUgjB,EAAahjB,EAAG,WACxH/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzC6xB,EAAY,GACZpoB,EAAK,IAAI0iB,GAAe,YAAY,CACpC,OAAQ5rB,EAAK,MACzB,CAAS,EAAG2wB,EAAmBznB,EAAG,iBAAkBijB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAAMgjB,EAAOhjB,EAAG,KAAMqoB,EAAUroB,EAAG,QAqB3G,OApBAgjB,EAAK,qCAAqC,EAC1CC,IACAD,EAAK,wBAAwB,OAAOjqB,EAAQ,MAAM,EAAE,OAAOvE,EAAK,KAAK,CAAC,EACtEyuB,IACI0B,EAAQ,SACR3B,EAAK,kCAAkC,EACvC2B,EAAQ,QAAQ,SAAU4D,EAAQ,CAC9BvF,EAAK,kBAAkB,OAAO,mBAAmBuF,EAAO,IAAI,EAAG,GAAG,EAAE,OAAO,mBAAmBA,EAAO,KAAK,EAAG,MAAM,EAAE,OAAO/zB,EAAK,KAAK,CAAC,CACvJ,CAAa,EACDwuB,EAAK,qBAAqB,EAC1BC,KAEA,OAAO,KAAKc,CAAQ,EAAE,SACtBf,EAAK,aAAa,UAAWwE,GAAmB,SAAYzD,EAAU,CAAE,OAAQjtB,EAAK,MAAQ,CAAA,EAAG,IAAI,CAAC,EACrGmsB,KAEA,OAAO,KAAKJ,CAAU,EAAE,SACxBG,EAAK,eAAe,UAAWwE,GAAmB,SAAY3E,EAAY,CAAE,OAAQ/rB,EAAK,MAAQ,CAAA,EAAG,IAAI,CAAC,EACzGmsB,KAEIF,EAAS,SAAQ,CACrB,IAAK,oCACGA,EAAS,YACTC,EAAK,YAAY,UAAWwE,GAAmB,SAAYzE,EAAS,UAAW,CAAE,OAAQjsB,EAAK,MAAQ,CAAA,EAAG,IAAI,CAAC,EAC9GmsB,KAEJ,MACJ,IAAK,mBACGF,EAAS,UACTC,EAAK,mBAAmB,EACxBA,EAAK,YAAY,UAAWwE,GAAmB,SAAYzE,EAAS,QAAS,CAAE,OAAQjsB,EAAK,MAAQ,CAAA,EAAG,IAAI,CAAC,EAC5GmsB,KAEJ,MACJ,IAAK,sBAAuB,CACxB,GAAI,CAACF,EAAS,OACV,MAEJ,IAAI0F,EAAc,CAAA,EAClB1F,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrC,IAAI3d,EAAO,CAAA,EACP2d,EAAM,UAAY,CAACA,EAAM,OACzBmE,EAAY,GACZ9hB,EAAK,KAAO,wBAAwB,OAAO2d,EAAM,SAAU,IAAI,EAC/DwD,EAAiB,SAAUtlB,EAAM,CAC7B,OAAOA,EAAK,QAAQ,uCAAwC,2BAA2B,CACnH,CAAyB,GAEI8hB,EAAM,QACX3d,EAAK,KAAO2d,EAAM,OAElB3d,EAAK,OACD2d,EAAM,cACN3d,EAAK,cAAc,EAAI2d,EAAM,aAEjCwE,EAAY,KAAKniB,CAAI,EAE7C,CAAiB,EACD0c,EAAK,iBAAiB,UAAWwE,GAAmB,SAAYiB,EAAa,CAAE,OAAQ3xB,EAAK,MAAQ,CAAA,EAAG,IAAI,CAAC,EAC5GmsB,IACA,KACH,CACD,QACQF,EAAS,OACTC,EAAK,YAAY,UAAWwE,GAAmB,SAAYzE,EAAS,KAAM,CAAE,OAAQjsB,EAAK,MAAQ,CAAA,EAAG,IAAI,CAAC,EACzGmsB,IAEX,CACD,OAAImF,GACAC,EAAQ,2BAA2B,EAEvCrF,EAAK,0BAA0B,EAC/BA,EAAK,6CAA8C,CAAC,EACpDC,IACAD,EAAK,yBAA0B,CAAC,EAChCA,EAAK,KAAK,EACHxB,EAAI,CACd,CACL,ECvHA0B,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACXgsB,GAAW5qB,GACX6qB,GAAW5qB,GACXgtB,GAAW9sB,GACfsnB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,UACP,QAAS,MACT,QAAW,QACd,EACD,YAAa,CACT,OAAQmD,GAAS,OACjB,QAASC,GAAS,QAClB,QAASoC,GAAS,QAClB,MAAOvF,GAAS,MAChB,MAAO4B,GAAS,KACnB,CACL,qCCrBAvpB,EAAA,WAAqB,GACrBA,EAAgC,sBAAAA,EAAA,cAAwB,OAoBxD,IAAImtB,EAAgB,SAAUC,EAAS1rB,EAAM2rB,EAAYtH,EAAQ,CAC7D,IAAIuH,EAAU,GAAG,OAAOF,EAAS,IAAI,EAAE,OAAO1rB,EAAM,KAAK,EACrD6rB,KAAcvtB,EAAQ,uBAAuBqtB,EAAYtH,EAASuH,EAAQ,OAAS,MAAS,EAChG,MAAO,GAAG,OAAOA,CAAO,EAAE,OAAOC,EAAS,GAAG,CACjD,EACAvtB,EAAA,cAAwBmtB,EAMxB,IAAIK,EAAwB,SAAUl0B,EAAOm0B,EAAa,CACtD,IAAIzH,EAAOyH,IAAgB,OAAY,KAAO;AAAA,KAAS,OAAO,IAAI,OAAOA,CAAW,CAAC,EACrF,OAAQ,OAAO,UAAU,SAAS,KAAKn0B,CAAK,EAAC,CACzC,IAAK,kBACD,MAAO,IAAI,OAAOA,CAAK,EAC3B,IAAK,iBAAkB,CACnB,IAAIo0B,EAAuBp0B,EAAM,IAAI,SAAUA,EAAO,CAAE,SAAW0G,EAAQ,uBAAuB1G,CAAK,CAAI,CAAA,EAC3G,MAAO,MAAM,OAAOo0B,EAAqB,KAAK1H,CAAI,EAAG,IAAI,CAC5D,CACD,IAAK,kBAAmB,CACpB,IAAI2H,EAAgB,CAAA,EACpB,QAASt0B,KAAOC,EACZq0B,EAAc,KAAK,KAAM,OAAOt0B,EAAK,KAAM,EAAE,UAAW2G,EAAQ,uBAAuB1G,EAAMD,CAAG,CAAC,CAAC,CAAC,EAEvG,MAAO,MAAM,OAAOs0B,EAAc,KAAK3H,CAAI,EAAG,IAAI,CACrD,CACD,IAAK,mBACD,OAAO1sB,EAAQ,OAAS,MAC5B,QACI,OAAIA,GAAU,KACH,GAEJ,KAAM,OAAOA,EAAM,SAAQ,EAAG,QAAQ,KAAM,KAAK,EAAG,GAAI,CACtE,CACL,EACA0G,EAAA,sBAAgCwtB,QChDhC,IAAI7E,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACIxlB,GAAUd,GAAQA,EAAK,QAAW,SAAUY,EAAGL,EAAG,CAClD,IAAIM,EAAI,OAAO,QAAW,YAAcD,EAAE,OAAO,QAAQ,EACzD,GAAI,CAACC,EAAG,OAAOD,EACf,IAAI7G,EAAI8G,EAAE,KAAKD,CAAC,EAAGG,EAAGC,EAAK,CAAE,EAAEvC,EAC/B,GAAI,CACA,MAAQ8B,IAAM,QAAUA,KAAM,IAAM,EAAEQ,EAAIhH,EAAE,KAAM,GAAE,MAAMiH,EAAG,KAAKD,EAAE,KAAK,CAC5E,OACME,EAAO,CAAExC,EAAI,CAAE,MAAOwC,CAAO,CAAG,QAC/B,CACJ,GAAI,CACIF,GAAK,CAACA,EAAE,OAASF,EAAI9G,EAAE,SAAY8G,EAAE,KAAK9G,CAAC,CAClD,QACO,CAAE,GAAI0E,EAAG,MAAMA,EAAE,KAAQ,CACpC,CACD,OAAOuC,CACX,EACA4jB,GAAO,WAAc,GACDA,GAAA,aAAG,OACvB,IAAIC,GAAiBjsB,GACjB2yB,GAAY/uB,GAChBooB,GAAA,aAAuB,CACnB,KAAM,CACF,IAAK,eACL,MAAO,eACP,KAAM,2GACN,YAAa,mCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACA8iB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAU9G,EAAS8G,EAAG,OAAQ+iB,EAAU/iB,EAAG,QACrF/I,EAAOqtB,GAAS,CAAE,OAAQ,OAAQ,OAAQ,GAAM,QAAS,EAAI,EAAE5tB,CAAO,EACtE0J,EAAK,IAAIyiB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGksB,EAAO/iB,EAAG,KAAMuhB,EAAOvhB,EAAG,KAAMgjB,EAAQhjB,EAAG,MAEzGopB,EAAM,CACN,WAAY,GACZ,QAAS,EACrB,EAQQ,GANArG,EAAK,mCAAmC,EACpC,OAAO,KAAKF,CAAU,EAAE,SACxBuG,EAAI,WAAa,GACjBpG,IACAD,KAASoG,GAAU,eAAe,eAAgB,UAAWtG,EAAYhsB,EAAK,MAAM,CAAC,GAErFisB,EAAS,MAAQA,EAAS,SAAWA,EAAS,OAE9C,OADAsG,EAAI,QAAU,GACNtG,EAAS,SAAQ,CACrB,IAAK,oCACD,GAAK,GAAA/iB,EAAK+iB,EAAS,UAAY,MAAQ/iB,IAAO,SAAkBA,EAAG,OAAQ,CAIvEijB,IACA,IAAIwB,EAAK9lB,GAAOokB,EAAS,MAAM,EAAGuG,EAAO7E,EAAG,CAAC,EAAG8E,EAAO9E,EAAG,MAAM,CAAC,EACjEzB,EAAK,oEAAqE,OAAOsG,EAAK,KAAM,GAAG,EAAE,OAAOA,EAAK,MAAO,6CAA8C,CAAC,EACnKC,EAAK,QAAQ,SAAU1pB,EAAI,CACvB,IAAI3C,EAAO2C,EAAG,KAAM/K,EAAQ+K,EAAG,MAC/BmjB,EAAK,4BAA6B,OAAO9lB,EAAM,GAAG,EAAE,OAAOpI,EAAO,6CAA8C,CAAC,CAC7I,CAAyB,CACJ,MAEGu0B,EAAI,QAAU,GAElB,MACJ,IAAK,mBACGtG,EAAS,UACTC,KAASoG,GAAU,eAAe,eAAgB,aAAcrG,EAAS,QAASjsB,EAAK,MAAM,CAAC,EAC9FmsB,IACAD,EAAK,6FAA6F,GAEtG,MACJ,IAAK,sBAIDA,KAASoG,GAAU,eAAe,UAAW,aAAcrG,EAAS,QAAU,CAAE,EAAEjsB,EAAK,MAAM,CAAC,EAC9FksB,EAAK,0BAA2B,OAAOD,EAAS,SAAU,IAAK,CAAC,EAChEE,IACAD,EAAK,iBAAiB,EACtBA,EAAK,mDAAmD,EACxDA,EAAK,2CAA2C,EAChDA,EAAK,+CAAgD,CAAC,EACtDA,EAAK,4BAA6B,CAAC,EACnCA,EAAK,oIAAqI,CAAC,EAC3IA,EAAK,8EAA+E,CAAC,EACrFA,EAAK,gIAAiI,CAAC,EACvIA,EAAK,eAAgB,CAAC,EACtBA,EAAK,uBAAwB,CAAC,EAC9BA,EAAK,IAAK,CAAC,EACXA,EAAK,WAAY,CAAC,EAClBA,EAAK,mGAAoG,CAAC,EAC1GA,EAAK,8CAA+C,CAAC,EACrDA,EAAK,IAAK,CAAC,EACXA,EAAK,GAAG,EACRA,EAAK,sDAAsD,EAC3DA,EAAK,mEAAmE,EACxE,MACJ,QACIC,IACAD,EAAK,sDAAuD,OAAOD,EAAS,KAAM,6CAA8C,CAAC,CACxI,CAEL,OAAAE,IACAD,EAAK,6FAA8F,OAAOJ,EAAS,IAAK,CAAC,EAEzHI,EAAK,uGAAuG,EAC5GA,EAAK,sEAAsE,OAAOlsB,EAAK,QAAQ,QAAQ,CAAC,EAAG,IAAI,CAAC,EAChHksB,EAAK,4BAA6B,OAAOjqB,EAAQ,KAAM,CAAC,EACpDswB,EAAI,YACJrG,EAAK,2CAA2C,EAEhDqG,EAAI,SACJrG,EAAK,iCAAiC,EAE1CC,IAEAD,EAAK,uDAAuD,EAC5DA,EAAK,uEAAuE,EAC5EA,EAAK,0HAA0H,EAC/HA,EAAK,2DAA4D,CAAC,EAClEA,EAAK,mEAAoE,CAAC,EAC1EA,EAAK,uDAAwD,CAAC,EAE9DA,EAAK,gHAAiH,CAAC,EACvHA,EAAK,0EAA2E,CAAC,EACjFA,EAAK,gDAAiD,CAAC,EACvDA,EAAK,iDAAiD,EACtDA,EAAK,oBAAoB,EAClBxB,EAAI,CACd,CACL,ECtJA0B,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAW1sB,GACfysB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,cACP,QAAS,KACT,QAAW,cACd,EACD,YAAa,CACT,aAAcC,GAAS,YAC1B,CACL,kBCJIgB,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,KAAM,yCACN,YAAa,uEAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIqsB,EAAU/iB,EAAG,QAASijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAU9G,EAAS8G,EAAG,OACtF/I,EAAOqtB,GAAS,CAAE,OAAQ,IAAI,EAAI5tB,CAAO,EACzCytB,EAAU,CAAC,MAAO,OAAQ,OAAQ,SAAU,QAAS,MAAO,SAAS,EACrEhkB,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGksB,EAAOhjB,EAAG,KAAMijB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAC9GgjB,EAAK,sBAAsB,EAC3BA,EAAK,aAAa,EAClBA,EAAK,UAAU,EACfC,IACAD,EAAK,4BAA6B,OAAOJ,EAAS,MAAO,CAAC,EAE1D,IAAIvC,EAAU,OAAO,KAAKyC,CAAU,EAChCzC,EAAQ,SAAW,EACnB2C,EAAK,8CAA+C,OAAO3C,EAAQ,CAAC,EAAG,KAAO,EAAE,UAAWsC,GAAS,uBAAuBG,EAAWzC,EAAQ,CAAC,CAAC,CAAC,EAAG,MAAO,CAAC,EAEvJA,EAAQ,OAAS,IACtB2C,EAAK,kDAAkD,EACvD3C,EAAQ,QAAQ,SAAUxrB,EAAK,CAC3BmuB,EAAK,KAAM,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,KAAM,EAAG,CAAC,CACxH,CAAa,EACDmuB,EAAK,MAAM,GAGXD,EAAS,MAETC,EAAK,wCAAwC,OAAO,KAAK,UAAUD,EAAS,IAAI,EAAG,KAAK,CAAC,EAG7FE,IACA,IAAIuG,EAAInJ,EAAQ,OAAS,YAAc,GACnCtlB,EAAIgoB,EAAS,KAAO,SAAW,GAC/BrkB,EAAIslB,EAAQ,SAASjrB,EAAO,YAAW,CAAE,EACvC,IAAI,OAAOA,EAAO,aAAa,EAC/B,2BAA4B,OAAOA,EAAQ,IAAK,EACtD,OAAAiqB,EAAK,eAAe,OAAOwG,CAAC,EAAE,OAAOzuB,CAAC,EAAE,OAAO2D,EAAG,MAAM,CAAC,EAEzDskB,EAAK,+BAA+B,EACpCA,EAAK,iCAAkC,CAAC,EACjCxB,EAAI,CACd,CACL,ECvEA0B,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAIC,GAAW1sB,GACfysB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,QACP,QAAS,MACT,QAAW,QACd,EACD,YAAa,CACT,OAAQC,GAAS,MACpB,CACL,qCCbA3nB,EAAA,WAAqB,GACrBA,EAA2B,iBAAAA,EAAA,YAAsB,OACjD,IAAImnB,EAAWlsB,GACXgzB,EAAc,SAAUpsB,EAAKkkB,EAAQmI,EAAY,CAGjD,OAFAA,EAAaA,GAAc,GAC3BnI,EAASA,GAAU,GACX,OAAO,UAAU,SAAS,KAAKlkB,CAAG,EAAC,CACvC,IAAK,gBACD,MAAO,OACX,IAAK,qBACD,MAAO,OACX,IAAK,kBACD,MAAO,IAAI,UAAWslB,EAAS,cAActlB,EAAK,CAAE,UAAW,IAAK,eAAgB,EAAK,CAAE,EAAG,GAAG,EACrG,IAAK,kBACD,OAAOA,EAAI,WACf,IAAK,iBAAkB,CACnB,IAAIssB,EAAWtsB,EACV,IAAI,SAAUuJ,EAAM,CAAE,SAAWpL,EAAQ,aAAaoL,EAAM,GAAG,OAAO2a,CAAM,EAAE,OAAOA,CAAM,EAAGA,CAAM,EAAI,EACxG,KAAK;AAAA,EAAM,OAAOA,CAAM,CAAC,EAC9B,MAAO;AAAA,EAAM,OAAOA,CAAM,EAAE,OAAOoI,EAAU;AAAA,CAAI,EAAE,OAAOD,EAAY,GAAG,CAC5E,CACD,IAAK,kBAAmB,CACpB,IAAIrc,EAAS,CAAA,EACb,QAASzV,KAAKyF,EACN,OAAO,UAAU,eAAe,KAAKA,EAAKzF,CAAC,GAC3CyV,EAAO,KAAK,GAAG,UAAW7R,EAAQ,aAAa5D,EAAG2pB,CAAM,EAAG,MAAM,EAAE,UAAW/lB,EAAQ,aAAa6B,EAAIzF,CAAC,EAAG,GAAG,OAAO2pB,CAAM,EAAE,OAAOA,CAAM,EAAGA,CAAM,CAAC,CAAC,EAG7J,MAAO;AAAA,EAAM,OAAOA,CAAM,EAAE,OAAOlU,EAAO,KAAK;AAAA,EAAM,OAAOkU,CAAM,CAAC,EAAG;AAAA,CAAI,EAAE,OAAOmI,EAAY,GAAG,CACrG,CACD,QACI,MAAO,MACd,CACL,EACAluB,EAAA,YAAsBiuB,EACtBjuB,EAA2B,iBAAA,CACvB,MACA,mBACA,UACA,WACA,UACA,OACA,SACA,MACA,OACA,QACA,OACA,QACA,aACA,QACA,cACA,OACA,UACA,OACA,WACA,YACA,MACA,SACA,QACA,aACA,SACA,SACA,yBCrDJinB,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACX+uB,GAAY3tB,GAChBgnB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,OACP,KAAM,yCACN,YAAa,mBAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIsvB,EAAShmB,EAAG,OAAQkjB,EAAWljB,EAAG,SAAU+iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OAAQimB,EAAcjmB,EAAG,YAAa8kB,EAAU9kB,EAAG,QAASgjB,EAAahjB,EAAG,WAC1JtJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIyJ,EAAKzJ,EAAQ,WAAYqzB,EAAa5pB,IAAO,OAAS,GAAQA,EAAIC,EAAK1J,EAAQ,OAAQgrB,EAASthB,IAAO,OAAS,KAAOA,EAAIwkB,EAAKluB,EAAQ,aAAcszB,EAAepF,IAAO,OAAS,GAAKA,EAAIS,EAAK3uB,EAAQ,YAAauzB,EAAc5E,IAAO,OAAS,GAAQA,EAAIE,EAAK7uB,EAAQ,OAAQwzB,EAAS3E,IAAO,OAAS,GAAQA,EAAIE,EAAK/uB,EAAQ,UAAWyzB,EAAY1E,IAAO,OAAS,GAAQA,EAAI2E,EAAK1zB,EAAQ,QAAS8uB,EAAU4E,IAAO,OAAS,GAAKA,EACjbC,EAAK,IAAIxH,GAAe,YAAY,CAAE,OAAQnB,CAAM,CAAE,EAAGyB,EAAOkH,EAAG,KAAMjH,EAAQiH,EAAG,MAAO1I,EAAO0I,EAAG,KACpGH,IACD/G,EAAKgH,EAAY,KAAO,OAAO,EAC/B/G,KAEJD,EAAK,sBAAsB,EAC3BC,IACA,IAAIkH,EAAc,CACd,CACI,OAAQ,GACR,KAAM,eACN,MAAOtE,EAAO,IACjB,EACD,CACI,OAAQ,GACR,KAAM,cACN,MAAOjD,CACV,EACD,CACI,OAAQ,GACR,KAAM,yBACN,MAAO,MACV,EACD,CACI,OAAQ,GACR,KAAM,mBACN,MAAO,EACV,EACD,CACI,OAAQ,GACR,KAAM,oBACN,MAAOiH,CACV,EACD,CACI,OAAQ,GACR,KAAM,kBACN,MAAOxE,CACV,EACD,CACI,OAAQ,GACR,KAAM,uBACN,MAAOS,IAAgB,WAAa,wBAA0B,uBACjE,EACD,CACI,OAAQ,GACR,KAAM,wBACN,MAAO/sB,CACV,EACD,CACI,OAAQ,CAACgqB,EAAS,QAClB,KAAM,qBACN,MAAOA,EACDA,EAAS,QACL,eAAe,UAAWqG,GAAU,aAAarG,EAAS,QAASxB,EAAO,OAAO,CAAC,EAAGA,CAAM,EAAG,GAAG,EACjGwB,EAAS,KACb,MACT,CACb,EACQC,EAAK,4BAA4B,EACjC,IAAIoH,EAAW,IAAI1H,GAAe,YAAY,CAAE,OAAQnB,EAAQ,KAAM;AAAA,EAAK,OAAOA,CAAM,CAAG,CAAA,EAC3F4I,EAAY,QAAQ,SAAUtqB,EAAI,CAC9B,IAAI/K,EAAQ+K,EAAG,MAAO3C,EAAO2C,EAAG,KAAMwqB,EAASxqB,EAAG,OAC9C/K,GAAU,MACVs1B,EAAS,KAAK,GAAG,OAAOltB,EAAM,MAAM,EAAE,OAAOmtB,EAAS,KAAK,UAAUv1B,CAAK,EAAIA,EAAO,GAAG,CAAC,CAEzG,CAAS,EAED,IAAIw1B,EAAc3F,EAAQ,IAAI,SAAU4D,EAAQ,CAAE,MAAO,GAAG,OAAO,mBAAmBA,EAAO,IAAI,EAAG,GAAG,EAAE,OAAO,mBAAmBA,EAAO,KAAK,CAAC,CAAE,CAAE,EAChJ+B,EAAY,QACZF,EAAS,KAAK,sBAAuB,OAAOE,EAAY,KAAK,IAAI,EAAG,IAAK,CAAC,EAG9E,IAAIjK,EAAU,OAAO,KAAKwC,CAAU,EAC/B,KAAM,EACN,IAAI,SAAUhuB,EAAK,CAAE,MAAO,IAAK,OAAOA,EAAK,IAAI,EAAE,UAAW8tB,GAAS,uBAAuBE,EAAWhuB,CAAG,CAAC,EAAG,GAAI,CAAE,CAAE,EAC7H,OAAIwrB,EAAQ,SACR+J,EAAS,KAAK,yBAAyB,EACvCA,EAAS,KAAK/J,EAAQ,KAAK;AAAA,EAAM,OAAOkB,CAAM,EAAE,OAAOA,CAAM,CAAC,EAAG,CAAC,EAClE6I,EAAS,KAAK,IAAI,GAEtBpH,EAAKoH,EAAS,KAAM,EAAE,CAAC,EACvBpH,EAAK,KAAK,EACVC,IACAD,EAAK,+BAA+B,EACpCA,EAAK,2BAA2B,EAChCC,IACAD,EAAK,oBAAoB,EACzBC,IACAD,EAAK,aAAa,EAEdA,EADA8G,EACK,8DAGA,+BAH+D,CAAC,EAKzE9G,EAAK,UAAU,EACfA,EAAK,kBAAmB,CAAC,EACzBA,EAAK,GAAG,EACJ,CAAC+G,GAAUH,IACX3G,IACAD,EAAK,IAAI,GAENxB,EAAI,CACd,CACL,YCxHI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACX+oB,GAAY3nB,GACZ2tB,GAAY1tB,GAChB+mB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,KAAM,uCACN,YAAa,iBAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACA+iB,EAAWljB,EAAG,SAAU+iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OAAQ8kB,EAAU9kB,EAAG,QAASgjB,EAAahjB,EAAG,WACxG/I,EAAOqtB,GAAS,CAAE,WAAY,GAAO,OAAQ,KAAM,OAAQ,GAAO,UAAW,EAAO,EAAE5tB,CAAO,EAC7F0J,EAAK,IAAIyiB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGksB,EAAO/iB,EAAG,KAAMgjB,EAAQhjB,EAAG,MAAOuhB,EAAOvhB,EAAG,KAC1GwkB,EAAK,IAAI/B,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGyzB,EAAc9F,EAAG,KAAM+F,EAAc/F,EAAG,KAAMgG,EAAchG,EAAG,KAKjI,OAJK3tB,EAAK,SACNksB,EAAKlsB,EAAK,UAAY,KAAO,OAAO,EACpCmsB,KAEIF,EAAS,SAAQ,CACrB,IAAK,oCACDyH,EAAY,oBAAoB,UAAWpB,GAAU,aAAarG,EAAS,UAAWjsB,EAAK,OAASA,EAAK,OAAQA,EAAK,MAAM,EAAG,GAAG,EAAG,CAAC,EACtI,MACJ,IAAK,sBAAuB,CACxB,IAAI4zB,EAAW,CAAA,EAsBf,GArBI3H,EAAS,QACTA,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrC,GAAIA,EAAM,SAAU,CAChB,IAAI1kB,EAAQ,CACR,KAAM0kB,EAAM,KACZ,SAAUA,EAAM,SAChB,SAAUA,EAAM,KAChD,EACgCA,EAAM,cACN1kB,EAAM,QAAU,CAAE,eAAgB0kB,EAAM,WAAW,GAEvDyG,EAAS,KAAKnrB,CAAK,CACtB,MACQ0kB,EAAM,OACXyG,EAAS,KAAK,CACV,KAAMzG,EAAM,KACZ,SAAUA,EAAM,KAChD,CAA6B,CAE7B,CAAqB,EAEDyG,EAAS,SACTF,EAAY,kBAAkB,UAAWpB,GAAU,aAAasB,EAAU5zB,EAAK,OAASA,EAAK,OAAQA,EAAK,MAAM,CAAC,EAAG,CAAC,KAE7GssB,GAAU,WAAWP,EAAY,cAAc,GAC9C,GAAA7iB,KAASojB,GAAU,WAAWP,EAAY,cAAc,KAAO,MAAQ7iB,IAAO,SAAkBA,EAAG,QAAQ,UAAU,GAAG,CACzH,IAAIsgB,KAAiB8C,GAAU,eAAeP,EAAY,cAAc,EACpEvC,GACA,OAAOuC,EAAWvC,CAAU,CAEnC,CAGT,KACH,CACD,QACQyC,EAAS,MACTyH,EAAY,aAAa,UAAWpB,GAAU,aAAarG,EAAS,IAAI,EAAG,GAAG,EAAG,CAAC,CAE7F,CAED,IAAI1C,EAAU,OAAO,KAAKwC,CAAU,EAC/B,KAAM,EACN,IAAI,SAAUhuB,EAAK,CACpB,MAAO,GAAG,OAAOiC,EAAK,MAAM,EAAE,OAAOA,EAAK,OAAQ,GAAG,EAAE,OAAOjC,EAAK,QAAQ,EAAE,UAAW8tB,GAAS,uBAAuBE,EAAWhuB,CAAG,CAAC,EAAG,IAAI,CAC1J,CAAS,EAEG81B,EAAehG,EACd,IAAI,SAAU4D,EAAQ,CAAE,MAAO,GAAG,OAAO,mBAAmBA,EAAO,IAAI,EAAG,GAAG,EAAE,OAAO,mBAAmBA,EAAO,KAAK,CAAC,EAAI,EAC1H,KAAK,IAAI,EACd,OAAIoC,EAAa,QACbtK,EAAQ,KAAK,GAAG,OAAOvpB,EAAK,MAAM,EAAE,OAAOA,EAAK,OAAQ,eAAe,EAAE,UAAW6rB,GAAS,uBAAuBgI,CAAY,EAAG,IAAI,CAAC,EAExItK,EAAQ,SACRmK,EAAY,iBAAkB,CAAC,EAC/BA,EAAYnK,EAAQ,KAAK;AAAA,CAAI,CAAC,EAC9BmK,EAAY,KAAM,CAAC,GAEvBxH,EAAK,uCAAuC,EAC5CC,IACIsH,EAAY,QACZvH,EAAK,iCAAiC,OAAOjqB,EAAQ,MAAM,EAAE,OAAO6pB,EAAS,MAAM,CAAC,EACpFI,EAAKyH,EAAW,CAAE,EAClBzH,EAAK,KAAK,GAGVA,EAAK,iCAAiC,OAAOjqB,EAAQ,MAAM,EAAE,OAAO6pB,EAAS,KAAK,CAAC,EAEvFK,IACAD,EAAK,4BAA4B,EAC7B,CAAClsB,EAAK,QAAUA,EAAK,aACrBmsB,IACAD,EAAK,IAAI,GAENxB,EAAI,CACd,CACL,YCpHAiB,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAIC,GAAiBjsB,GACjB2yB,GAAY/uB,GAChBooB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,UACP,KAAM,yCACN,YAAa,uBAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQrL,EAAMqL,EAAG,IAAKkjB,EAAWljB,EAAG,SAAUkkB,EAAWlkB,EAAG,SAAUgjB,EAAahjB,EAAG,WAAY+qB,EAAa/qB,EAAG,WAC9HtJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIyJ,EAAKzJ,EAAQ,WAAYqzB,EAAa5pB,IAAO,OAAS,GAAQA,EAAIC,EAAK1J,EAAQ,OAAQgrB,EAASthB,IAAO,OAAS,KAAOA,EAAIwkB,EAAKluB,EAAQ,OAAQwzB,EAAStF,IAAO,OAAS,GAAQA,EAAIS,EAAK3uB,EAAQ,UAAWyzB,EAAY9E,IAAO,OAAS,GAAQA,EACjPE,EAAK,IAAI1C,GAAe,YAAY,CAAE,OAAQnB,CAAM,CAAE,EAAGyB,EAAOoC,EAAG,KAAMnC,EAAQmC,EAAG,MAAO5D,EAAO4D,EAAG,KA6BzG,OA5BK2E,IACD/G,EAAKgH,EAAY,KAAO,OAAO,EAC/B/G,KAECmG,GAAU,iBAAiB,SAASrwB,EAAO,YAAW,CAAE,GACzDiqB,EAAK,gCAAgC,OAAOjqB,EAAQ,KAAK,CAAC,EAE9DiqB,EAAK,+BAA+B,EACpCA,EAAK,oBAAoB,UAAWoG,GAAU,aAAa50B,CAAG,EAAG,IAAI,CAAC,EAClE40B,GAAU,iBAAiB,SAASrwB,EAAO,YAAa,CAAA,EACxDiqB,EAAK,iCAAiC,OAAOjqB,EAAO,YAAa,EAAE,IAAI,CAAC,EAGxEiqB,EAAK,8CAA8C,OAAOjqB,EAAO,YAAa,EAAE,IAAI,CAAC,EAEzFkqB,IACI,OAAO,KAAKc,CAAQ,EAAE,SACtBf,EAAK,0BAA0B,UAAWoG,GAAU,aAAarF,EAAUxC,CAAM,EAAG,IAAI,CAAC,EACzF0B,KAEA,OAAO,KAAKJ,CAAU,EAAE,SACxBG,EAAK,wBAAwB,UAAWoG,GAAU,aAAavG,EAAYtB,CAAM,EAAG,IAAI,CAAC,EACzF0B,KAEA,OAAO,KAAK2H,CAAU,EAAE,SACxB5H,EAAK,wBAAwB,UAAWoG,GAAU,aAAawB,EAAYrJ,CAAM,EAAG,IAAI,CAAC,EACzF0B,KAEIF,EAAS,SAAQ,CACrB,IAAK,oCACDC,EAAK,4BAA4B,UAAWoG,GAAU,aAAarG,EAAS,QAAQ,EAAG,IAAI,CAAC,EAC5FC,EAAK,2BAA2B,UAAWoG,GAAU,aAAarG,EAAS,UAAWxB,CAAM,EAAG,IAAI,CAAC,EACpG0B,IACA,MACJ,IAAK,mBACDD,EAAK,4BAA4B,UAAWoG,GAAU,aAAarG,EAAS,QAAQ,EAAG,IAAI,CAAC,EAC5FC,EAAK,iCAAiC,UAAWoG,GAAU,aAAarG,EAAS,QAASxB,CAAM,EAAG,KAAK,CAAC,EACzG0B,IACA,MACJ,QACQF,EAAS,OACTC,EAAK,qBAAqB,UAAWoG,GAAU,aAAarG,EAAS,IAAI,EAAG,IAAI,CAAC,EACjFE,IAEX,CACD,OAAAD,EAAK,OAAO,EACZA,EAAK,gCAAiC,CAAC,EACvCC,IACAD,EAAK,6BAA8B,CAAC,EACpCA,EAAK,+BAA+B,EACpCA,EAAK,YAAa,CAAC,EACnBA,EAAK,GAAG,EACJ,CAAC+G,GAAUH,IACX3G,IACAD,EAAK,IAAI,GAENxB,EAAI,CACd,CACL,YC1EAiB,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAIC,GAAiBjsB,GACjB2sB,GAAY/oB,GACZ+uB,GAAY3tB,GAChBgnB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,UACP,KAAM,2CACN,YAAa,uBAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACA+iB,EAAWljB,EAAG,SAAUgjB,EAAahjB,EAAG,WAAY9G,EAAS8G,EAAG,OAAQkkB,EAAWlkB,EAAG,SAAU+qB,EAAa/qB,EAAG,WAAYrL,EAAMqL,EAAG,IACrItJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAI0J,EAAK1J,EAAQ,WAAYqzB,EAAa3pB,IAAO,OAAS,GAAQA,EAAIwkB,EAAKluB,EAAQ,OAAQgrB,EAASkD,IAAO,OAAS,KAAOA,EAAIS,EAAK3uB,EAAQ,OAAQwzB,EAAS7E,IAAO,OAAS,GAAQA,EAAIE,EAAK7uB,EAAQ,UAAWyzB,EAAY5E,IAAO,OAAS,GAAQA,EACjPE,EAAK,IAAI5C,GAAe,YAAY,CAAE,OAAQnB,CAAM,CAAE,EAAGyB,EAAOsC,EAAG,KAAMrC,EAAQqC,EAAG,MAAO9D,EAAO8D,EAAG,KACrGuF,EAAU,GAQd,OAPKd,IACD/G,EAAKgH,EAAY,KAAO,OAAO,EAC/B/G,KAEJD,EAAK,6BAA6B,EAClCA,EAAK,uCAAuC,EAC5CC,IACQF,EAAS,SAAQ,CACrB,IAAK,oCACDC,EAAK,kCAAkC,EACvCA,EAAK,uCAAuC,UAAWoG,GAAU,aAAarG,EAAS,UAAWxB,CAAM,EAAG,KAAK,CAAC,EACjH0B,IACA4H,EAAU,GACV,MACJ,IAAK,sBAAuB,CACxB,GAAI,CAAC9H,EAAS,OACV,MAEJ,IAAI+H,EAAU,CAAA,EACVJ,EAAW,CAAA,EACf3H,EAAS,OAAO,QAAQ,SAAUljB,EAAI,CAClC,IAAI3C,EAAO2C,EAAG,KAAMkrB,EAAWlrB,EAAG,SAAU/K,EAAQ+K,EAAG,MAAOglB,EAAchlB,EAAG,YAC/E,GAAIkrB,EAAU,CACVD,EAAQ,KAAK,CACT,KAAM5tB,EACN,KAAM2nB,EACN,KAAMkG,EACN,KAAMj2B,CAClC,CAAyB,EACD,MACH,CACGA,IACA41B,EAASxtB,CAAI,EAAIpI,EAEzC,CAAiB,EACD,IAAIyK,EAAQ,OAAO,KAAKmrB,CAAQ,EAAE,UAAatB,GAAU,aAAasB,EAAUnJ,CAAM,EAAI,OACtFyJ,EAAYF,EAAQ,UAAa1B,GAAU,aAAa0B,EAASvJ,CAAM,EAAI,OAI/E,GAHAyB,EAAK,kCAAkC,EACvCA,EAAK,kBAAkB,OAAOzjB,EAAO,IAAI,EAAE,OAAOyrB,EAAW,IAAI,CAAC,KAE1D5H,GAAU,WAAWP,EAAY,cAAc,GAC9C,GAAA7iB,KAASojB,GAAU,WAAWP,EAAY,cAAc,KAAO,MAAQ7iB,IAAO,SAAkBA,EAAG,QAAQ,UAAU,EAAG,CACzH,IAAIsgB,KAAiB8C,GAAU,eAAeP,EAAY,cAAc,EACpEvC,GACA,OAAOuC,EAAWvC,CAAU,CAEnC,CAEL2C,IACA4H,EAAU,GACV,KACH,CACD,IAAK,mBACD7H,EAAK,kCAAkC,EACvCA,EAAK,6BAA6B,UAAWoG,GAAU,aAAarG,EAAS,QAASxB,CAAM,EAAG,KAAK,CAAC,EACrGsJ,EAAU,GACV,MACJ,QACQ9H,EAAS,OACTC,EAAK,kCAAkC,EACvCA,EAAK,iBAAiB,UAAWoG,GAAU,aAAarG,EAAS,IAAI,EAAG,IAAI,CAAC,EAC7EE,IACA4H,EAAU,GAErB,CACD,OAAA7H,EAAK,2BAA2B,UAAWoG,GAAU,aAAa50B,CAAG,EAAG,IAAI,CAAC,EAC7EwuB,EAAK,8BAA8B,UAAWoG,GAAU,aAAarwB,CAAM,EAAG,IAAI,CAAC,EAC/E8xB,IACA7H,EAAK,2BAA2B,EAChCC,KAEA,OAAO,KAAKc,CAAQ,EAAE,SACtBf,EAAK,4CAA4C,UAAWoG,GAAU,aAAarF,EAAUxC,CAAM,EAAG,KAAK,CAAC,EAC5G0B,KAEA,OAAO,KAAKJ,CAAU,EAAE,SACxBG,EAAK,wBAAwB,UAAWoG,GAAU,aAAavG,EAAYtB,CAAM,EAAG,IAAI,CAAC,EACzF0B,KAEA,OAAO,KAAK2H,CAAU,EAAE,SACxB3H,IACAD,EAAK,uBAAuB,UAAWoG,GAAU,aAAawB,EAAYrJ,CAAM,EAAG,IAAI,CAAC,EACxF0B,KAEJD,EAAK,qCAAqC,EAC1CA,EAAK,qCAAqC,EAC1CC,IACAD,EAAK,4BAA4B,EAC7B,CAAC+G,GAAUH,IACX3G,IACAD,EAAK,IAAI,GAENxB,EAAI,CACd,CACL,EC1HA0B,GAAO,WAAc,GACVA,GAAA,IAAG,OACd,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACXgsB,GAAW5qB,GACX6qB,GAAW5qB,GACfwnB,GAAA,IAAc,CACV,KAAM,CACF,IAAK,MACL,MAAO,MACP,QAAS,OACT,QAAW,MACd,EACD,YAAa,CACT,KAAMC,GAAS,KACf,OAAQ4B,GAAS,OACjB,MAAOsB,GAAS,MAChB,MAAOC,GAAS,KACnB,CACL,wBCnBA2E,GAAO,WAAc,GACYA,GAAA,0BAAG,OACpC,IAAIvI,GAAiBjsB,GACjBksB,GAAWtoB,GACX+oB,GAAY3nB,GACZyvB,GAA4B,SAAUC,EAAS,CAC/C,IAAIC,EAAU,SAAUvrB,EAAI,CACxB,IAAI9G,EAAS8G,EAAG,OAAQgjB,EAAahjB,EAAG,WAAY8kB,EAAU9kB,EAAG,QAASgmB,EAAShmB,EAAG,OAAQ+iB,EAAU/iB,EAAG,QAASkjB,EAAWljB,EAAG,SAAUijB,EAAajjB,EAAG,WACxJG,EAAK,IAAI0iB,GAAe,YAAeM,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KACjEgkB,EAAU,CAAC,MAAO,OAAQ,MAAO,SAAU,QAAS,OAAQ,SAAS,EACzE,GAAI,CAACA,EAAQ,SAASjrB,EAAO,YAAa,CAAA,EACtC,MAAO,uBAEX,IAAIsyB,EAAiB,CAAA,EAEjBhL,EAAU,OAAO,KAAKwC,CAAU,EAEpC,OAAIxC,EAAQ,SACR2C,EAAK,cAAc,EACnB3C,EAAQ,QAAQ,SAAUxrB,EAAK,CACvBA,IAAQ,cAERmuB,EAAK,iBAAkB,OAAOnuB,EAAK,MAAQ,EAAE,UAAW8tB,GAAS,cAAcE,EAAWhuB,CAAG,EAAG,CAAE,WAAY,IAAK,EAAG,IAAK,CAAC,CAEhJ,CAAa,EACDw2B,EAAe,KAAK,mBAAmB,GAGvC1G,EAAQ,SACR3B,EAAK,uEAAuE,EAC5E2B,EAAQ,QAAQ,SAAU4D,EAAQ,CAC9BvF,EAAK,wCAAwC,EAC7CA,EAAK,mBAAmB,OAAOuF,EAAO,KAAM,GAAG,CAAC,EAChDvF,EAAK,oBAAoB,OAAOuF,EAAO,MAAO,GAAG,CAAC,EAClDvF,EAAK,qBAAqB,OAAO6C,EAAO,KAAM,GAAG,CAAC,EAClD7C,EAAK,+BAA+B,CACpD,CAAa,EACDqI,EAAe,KAAK,sBAAsB,GAE1CtI,EAAS,OACTsI,EAAe,KAAK,iBAAiB,UAAW1I,GAAS,iBAAkBS,GAAU,WAAWN,EAAY,cAAc,EAAG,CAAE,UAAW,IAAK,WAAY,GAAK,CAAA,EAAG,GAAG,CAAC,EACvKuI,EAAe,KAAK,UAAU,OAAOtI,EAAS,KAAM,GAAG,CAAC,GAE5DC,EAAK,eAAe,OAAOmI,EAAS,SAAS,EAAE,OAAOvI,EAAS,YAAY,EAAE,OAAO7pB,EAAQ,GAAG,EAAE,OAAOsyB,EAAe,KAAK,GAAG,CAAC,CAAC,EAC1H7J,EAAI,CACnB,EACI,OAAO4J,CACX,EACAH,GAAA,0BAAoCC,GChDpCzI,GAAO,WAAc,GACHA,GAAA,WAAG,OACrB,IAAI6I,GAAW70B,GACfgsB,GAAA,WAAqB,CACjB,KAAM,CACF,IAAK,aACL,MAAO,oBACP,KAAM,oGACN,YAAa,qCAChB,EACD,WAAa6I,GAAS,2BAA2B,mBAAmB,CACxE,YCXA7I,GAAO,WAAc,GACHA,GAAA,WAAG,OACrB,IAAI6I,GAAW70B,GACfgsB,GAAA,WAAqB,CACjB,KAAM,CACF,IAAK,aACL,MAAO,oBACP,KAAM,oGACN,YAAa,qCAChB,EACD,WAAa6I,GAAS,2BAA2B,mBAAmB,CACxE,ECXApI,GAAO,WAAc,GACHA,GAAA,WAAG,OACrB,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACf6oB,GAAA,WAAqB,CACjB,KAAM,CACF,IAAK,aACL,MAAO,aACP,QAAS,OACT,QAAW,YACd,EACD,YAAa,CACT,WAAY6B,GAAS,WACrB,WAAY5B,GAAS,UACxB,CACL,kBCNAV,GAAO,WAAc,GACNA,GAAA,QAAG,OAClB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,QAAkB,CACd,KAAM,CACF,IAAK,UACL,MAAO,cACP,KAAM,qDACN,YAAa,qBAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EAAKH,EAAG,OAAQqD,EAAOlD,EAAG,KAAMurB,EAAWvrB,EAAG,SAAUwrB,EAAOxrB,EAAG,KAAM+iB,EAAWljB,EAAG,SAAUijB,EAAajjB,EAAG,WAAY9G,EAAS8G,EAAG,OACxItJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAI0J,EAAK1J,EAAQ,mBAAoBgvB,EAAqBtlB,IAAO,OAAS,GAAQA,EAC9EwkB,EAAK,IAAI/B,GAAe,YAAeM,EAAOyB,EAAG,KAAMxB,EAAQwB,EAAG,MAAOjD,EAAOiD,EAAG,KAQvF,GANAzB,EAAK,oBAAoB,EACrBuC,GACAvC,EAAK,YAAY,EAErBC,IAEIsI,IAAa,SAAU,CACvB,IAAIE,EAAalG,EAAqB,+CAAiD,GACvFvC,EAAK,uCAAwC,OAAOwI,EAAM,GAAI,EAAE,OAAOC,EAAY,GAAG,CAAC,EACvFxI,GACH,MAEGD,EAAK,sCAAuC,OAAOwI,EAAM,IAAK,CAAC,EAC/DvI,IAGJ,IAAIyI,EAAU,KAAK,UAAU3I,EAAS,IAAI,EACtC2I,IACA1I,EAAK,aAAa,OAAO0I,CAAO,CAAC,EACjCzI,KAGJ,IAAI5C,EAAUyC,EACV6I,EAAc,OAAO,KAAKtL,CAAO,EAAE,OACvC,GAAIsL,IAAgB,EAChB,QAASnsB,KAAU6gB,EACf2C,EAAK,gBAAgB,OAAOxjB,EAAQ,MAAO,EAAE,UAAWmjB,GAAS,uBAAuBtC,EAAQ7gB,CAAM,CAAC,EAAG,KAAM,CAAC,EACjHyjB,YAGC0I,EAAc,EAAG,CACtB,IAAI9kB,EAAQ,EACZmc,EAAK,aAAa,EAClB,QAASxjB,KAAU6gB,EACXxZ,MAAY8kB,EACZ3I,EAAK,QAAQ,OAAOxjB,EAAQ,MAAO,EAAE,UAAWmjB,GAAS,uBAAuBtC,EAAQ7gB,CAAM,CAAC,EAAG,IAAK,CAAC,EAGxGwjB,EAAK,QAAQ,OAAOxjB,EAAQ,MAAO,EAAE,UAAWmjB,GAAS,uBAAuBtC,EAAQ7gB,CAAM,CAAC,EAAG,GAAI,CAAC,EAG/GwjB,EAAK,GAAG,EACRC,GACH,CAED,OACID,EADA0I,GAAWC,EACN,iBAAkB,OAAO5yB,EAAQ,MAAQ,EAAE,OAAOmK,EAAM,sBAAuB,EAE/EwoB,GAAW,CAACC,EACZ,iBAAkB,OAAO5yB,EAAQ,MAAQ,EAAE,OAAOmK,EAAM,aAAc,EAEtE,CAACwoB,GAAWC,EACZ,iBAAkB,OAAO5yB,EAAQ,MAAQ,EAAE,OAAOmK,EAAM,qBAAsB,EAG9E,iBAAkB,OAAOnK,EAAQ,MAAQ,EAAE,OAAOmK,EAAM,IAAK,CATmB,EAYzF+f,IACAD,EAAK,0BAA0B,EAC/BA,EAAK,mBAAmB,EACxBC,IACAD,EAAK,6BAA6B,EAC3BxB,EAAI,CACd,CACL,+BC3FAhmB,EAAA,WAAqB,GACrBA,EAAgC,sBAAA,OAKhC,SAASowB,EAAaC,EAAYC,EAAQC,EAAQ9C,EAAa+C,EAAa,CACxE,IAAIC,EAAgBhD,EAAY,OAAO+C,CAAW,EAC9CE,EAAqBjD,EAAY,OAAO+C,EAAc,CAAC,EACvDxK,EAAOuK,EAAS;AAAA,EAAM,OAAOE,CAAa,EAAI,KAC9CE,EAAeN,IAAe,SAAW,IAAM,IAC/CO,EAAeP,IAAe,SAAW,IAAM,IACnD,OAAIE,EACO,GAAG,OAAOI,EAAc;AAAA,CAAI,EAAE,OAAOF,CAAa,EAAE,OAAOH,EAAO,KAAKtK,CAAI,EAAG;AAAA,CAAI,EAAE,OAAO0K,CAAkB,EAAE,OAAOE,CAAY,EAEzIP,IAAe,UAAYC,EAAO,OAAS,EACpC,GAAG,OAAOK,EAAc,GAAG,EAAE,OAAOL,EAAO,KAAKtK,CAAI,EAAG,GAAG,EAAE,OAAO4K,CAAY,EAEnF,GAAG,OAAOD,CAAY,EAAE,OAAOL,EAAO,KAAKtK,CAAI,CAAC,EAAE,OAAO4K,CAAY,CAC/E,CAQD,IAAIpD,EAAwB,SAAUl0B,EAAOgC,EAAMk1B,EAAa,CAE5D,OADAA,EAAcA,IAAgB,OAAY,EAAIA,EAAc,EACpD,OAAO,UAAU,SAAS,KAAKl3B,CAAK,EAAC,CACzC,IAAK,kBACD,OAAOA,EACX,IAAK,iBAAkB,CACnB,IAAIu3B,EAAW,GACXnD,EAAuBp0B,EAAM,IAAI,SAAUuJ,EAAG,CAE9C,OAAI,OAAO,UAAU,SAAS,KAAKA,CAAC,IAAM,oBACtCguB,EAAW,OAAO,KAAKhuB,CAAC,EAAE,OAAS,MAE5B7C,EAAQ,uBAAuB6C,EAAGvH,EAAMk1B,CAAW,CAC9E,CAAa,EACD,OAAOJ,EAAa,QAAS1C,EAAsBmD,EAAUv1B,EAAK,OAAQk1B,CAAW,CACxF,CACD,IAAK,kBAAmB,CACpB,IAAI7C,EAAgB,CAAA,EACpB,QAASt0B,KAAOC,EACZq0B,EAAc,KAAK,IAAK,OAAOt0B,EAAK,KAAM,EAAE,UAAW2G,EAAQ,uBAAuB1G,EAAMD,CAAG,EAAGiC,EAAMk1B,CAAW,CAAC,CAAC,EAEzH,OAAOJ,EAAa,SAAUzC,EAAeryB,EAAK,QAAUqyB,EAAc,OAAS,EAAGryB,EAAK,OAAQk1B,CAAW,CACjH,CACD,IAAK,gBACD,MAAO,OACX,IAAK,mBACD,OAAOl3B,EAAQ,OAAS,QAC5B,QACI,OAAIA,GAAU,KACH,GAEJ,IAAK,OAAOA,EAAM,SAAQ,EAAG,QAAQ,KAAM,KAAK,EAAG,GAAI,CACrE,CACL,EACA0G,EAAA,sBAAgCwtB,QCpDhC,IAAI7E,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACLA,GAAA,SAAG,OACnB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACX+oB,GAAY3nB,GACZ2tB,GAAY1tB,GACZ4wB,GAAiB,CAAC,OAAQ,MAAO,OAAQ,MAAO,QAAS,SAAU,SAAS,EAChF7J,GAAA,SAAmB,CACf,KAAM,CACF,IAAK,WACL,MAAO,WACP,KAAM,kEACN,YAAa,uBAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwtB,EAAWlkB,EAAG,SAAUrL,EAAMqL,EAAG,IAAKkjB,EAAWljB,EAAG,SAAUijB,EAAajjB,EAAG,WAAY9G,EAAS8G,EAAG,OACtG/I,EAAOqtB,GAAS,CAAE,OAAQ,OAAQ,OAAQ,IAAQ5tB,CAAO,EAEzDyJ,EAAK,IAAI0iB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGksB,EAAOhjB,EAAG,KAAMijB,EAAQjjB,EAAG,MAAOwhB,EAAOxhB,EAAG,KAE9GgjB,EAAK,iBAAiB,EACtBC,IAEAD,EAAK,UAAW,OAAOxuB,EAAK,GAAI,CAAC,EACjCyuB,IAEA,IAAIsJ,EACA,OAAO,KAAKxI,CAAQ,EAAE,SACtBwI,EAAK,iBAAiB,OAAO,KAAK,UAAUxI,CAAQ,CAAC,EACrDf,EAAKuJ,CAAE,EACPtJ,KAEJ,IAAI5C,EAAUyC,EAEV4I,EAAU,CAAA,EACVc,EAAQ,CAAA,EACRC,EAAW,GACXC,EAAa,GACbC,EAAc,GAClB,OAAQ5J,EAAS,SAAQ,CACrB,IAAK,mBACGA,EAAS,UACTC,EAAK,aAAa,UAAWoG,GAAU,uBAAuBrG,EAAS,QAASjsB,CAAI,CAAC,CAAC,EACtF61B,EAAc,GACdD,EAAa,IAEjB,MACJ,IAAK,sBACD,GAAI,CAAC3J,EAAS,OACV,MAaJ,GAXA2I,EAAU,CAAA,EACV3I,EAAS,OAAO,QAAQ,SAAUld,EAAG,CAC7BA,EAAE,UACF2mB,EAAM3mB,EAAE,IAAI,EAAI,SAAS,OAAOA,EAAE,SAAU,UAAU,EACtD4mB,EAAW,KAGXf,EAAQ7lB,EAAE,IAAI,EAAIA,EAAE,MACpB6mB,EAAa,GAErC,CAAiB,EACGD,EAAU,CACVzJ,EAAK,WAAW,UAAWoG,GAAU,uBAAuBoD,EAAO11B,CAAI,CAAC,CAAC,EACrE41B,GACA1J,EAAK,aAAa,UAAWoG,GAAU,uBAAuBsC,EAAS50B,CAAI,CAAC,CAAC,EAGjF,IAAIwpB,KAAiB8C,GAAU,eAAe/C,EAAS,cAAc,EACjEC,GACA,OAAOD,EAAQC,CAAU,CAEhC,KACI,CACD,IAAIsM,EAAiB,KAAK,UAAU7J,EAAS,IAAI,EAC7C6J,IACA5J,EAAK,aAAa,OAAO4J,CAAc,CAAC,EACxCF,EAAa,GAEpB,CACD,MACJ,QAAS,CACL,GAAI3J,EAAS,WAAa,qCAAuCA,EAAS,UAAW,CACjFC,EAAK,aAAa,UAAWoG,GAAU,uBAAuBrG,EAAS,UAAWjsB,CAAI,CAAC,CAAC,EACxF41B,EAAa,GACb,KACH,CACD,IAAIG,EAAY,KAAK,UAAU9J,EAAS,IAAI,EACxC8J,IACA7J,EAAK,aAAa,OAAO6J,CAAS,CAAC,EACnCH,EAAa,GAEpB,CACJ,CAED,IAAIf,EAAc,OAAO,KAAKtL,CAAO,EAAE,OACvC,GAAIsL,IAAgB,IAAMe,GAAcD,GAEpCxJ,YAEK0I,IAAgB,EACrB,QAASnsB,KAAU6gB,EACf2C,EAAK,eAAgB,OAAOxjB,EAAQ,MAAQ,EAAE,UAAWmjB,GAAS,uBAAuBtC,EAAQ7gB,CAAM,CAAC,EAAG,IAAK,CAAC,EACjHyjB,YAGC0I,EAAc,EAAG,CACtB,IAAI9kB,EAAQ,EACZmc,EAAK,aAAa,EAClB,QAASxjB,KAAU6gB,EAEX2C,EADAnc,IAAU8kB,EACL,IAAK,OAAOnsB,EAAQ,MAAQ,EAAE,UAAWmjB,GAAS,uBAAuBtC,EAAQ7gB,CAAM,CAAC,EAAG,IAAK,EAGhG,IAAK,OAAOA,EAAQ,MAAQ,EAAE,UAAWmjB,GAAS,uBAAuBtC,EAAQ7gB,CAAM,CAAC,EAAG,GAAI,EAHI,CAAC,EAK7GqH,GAAS,EAEbmc,EAAK,GAAG,EACRC,GACH,CAED,IAAI1tB,EAAU+2B,GAAe,SAASvzB,CAAM,EACtC,uBAAuB,OAAOA,EAAO,YAAW,EAAI,MAAM,EAC1D,gCAAiC,OAAOA,EAAQ,QAAS,EAC/D,OAAI2zB,IACIC,EACAp3B,GAAW,iBAGXA,GAAW,kBAGfk3B,IACAl3B,GAAW,iBAEXo2B,EAAc,IACdp2B,GAAW,qBAEXg3B,IACAh3B,GAAW,wBAEfA,GAAW,IACXytB,EAAKztB,CAAO,EACZ0tB,IAEAD,EAAK,wBAAwB,EACtBxB,EAAI,CACd,CACL,ECzKA0B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACf6oB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,QAAS,MACT,QAAW,SACd,EACD,YAAa,CACT,QAASC,GAAS,QAClB,SAAU4B,GAAS,QACtB,CACL,kBCNIpmB,GAAUd,GAAQA,EAAK,QAAW,SAAUY,EAAGL,EAAG,CAClD,IAAIM,EAAI,OAAO,QAAW,YAAcD,EAAE,OAAO,QAAQ,EACzD,GAAI,CAACC,EAAG,OAAOD,EACf,IAAI7G,EAAI8G,EAAE,KAAKD,CAAC,EAAGG,EAAGC,EAAK,CAAE,EAAEvC,EAC/B,GAAI,CACA,MAAQ8B,IAAM,QAAUA,KAAM,IAAM,EAAEQ,EAAIhH,EAAE,KAAM,GAAE,MAAMiH,EAAG,KAAKD,EAAE,KAAK,CAC5E,OACME,EAAO,CAAExC,EAAI,CAAE,MAAOwC,CAAO,CAAG,QAC/B,CACJ,GAAI,CACIF,GAAK,CAACA,EAAE,OAASF,EAAI9G,EAAE,SAAY8G,EAAE,KAAK9G,CAAC,CAClD,QACO,CAAE,GAAI0E,EAAG,MAAMA,EAAE,KAAQ,CACpC,CACD,OAAOuC,CACX,EACA4jB,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACX+oB,GAAY3nB,GAChBgnB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,OACP,KAAM,yEACN,YAAa,4CAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACAxL,EAAMqL,EAAG,IAAKkkB,EAAWlkB,EAAG,SAAUitB,EAAcjtB,EAAG,YAAakjB,EAAWljB,EAAG,SAAUijB,EAAajjB,EAAG,WAAY9G,EAAS8G,EAAG,OACpItJ,IAAY,SAAUA,EAAU,CAAE,GAEtC,IAAI0J,EAAK,IAAIyiB,GAAe,YAAY,CACpC,QAAS1iB,EAAKzJ,EAAQ,UAAY,MAAQyJ,IAAO,OAASA,EAAK,IAC3E,CAAS,EAAGgjB,EAAO/iB,EAAG,KAAMgjB,EAAQhjB,EAAG,MAAOuhB,EAAOvhB,EAAG,KAEhD+iB,EAAK,eAAe,EACpBC,IAEAD,EAAK,WAAY,OAAOxuB,EAAK,GAAI,CAAC,EAClCyuB,IAEA,IAAIsJ,EAAKxI,EACT,OAAOA,EAAS,IAChB,IAAIgJ,EAAU,OAAO,QAAQR,CAAE,EAC3BS,EAAeD,EAAQ,OAC3B,GAAIC,IAAiB,EAAG,CACpB,IAAIC,EAAQF,EAAQ,CAAC,EACrB/J,EAAK,uBAAuB,OAAOiK,EAAM,CAAC,EAAG,MAAO,EAAE,OAAOA,EAAM,CAAC,EAAG,IAAK,CAAC,EAC7EhK,GACH,MACQ+J,EAAe,IACpBhK,EAAK,sBAAsB,EAC3B+J,EAAQ,QAAQ,SAAUltB,EAAIjI,EAAG,CAC7B,IAAIoI,EAAKrB,GAAOkB,EAAI,CAAC,EAAGhL,EAAMmL,EAAG,CAAC,EAAGlL,EAAQkL,EAAG,CAAC,EAC7CktB,EAAat1B,IAAMo1B,EAAe,EAClCG,EAAaD,EAAa,IAAM,GACpClK,EAAK,GAAG,OAAOnuB,EAAK,MAAO,EAAE,OAAOC,EAAO,GAAI,EAAE,OAAOq4B,CAAU,EAAG,CAAC,CACtF,CAAa,EACDnK,EAAK,GAAG,EACRC,KAGJ,IAAIyI,EAAU,KAAK,UAAU3I,EAAS,IAAI,EAM1C,GALI2I,IACA1I,EAAK,cAAc,OAAO0I,CAAO,CAAC,EAClCzI,KAGAF,EAAS,MAAQA,EAAS,SAAWA,EAAS,OAC9C,OAAQA,EAAS,SAAQ,CACrB,IAAK,oCACDC,EAAK,kBAAkB,EACvBC,IACA,MACJ,IAAK,mBACDD,EAAK,kBAAkB,EACvBC,IACA,MACJ,IAAK,sBACDD,EAAK,uBAAuB,EAC5BC,IACA,MACJ,QACID,EAAK,iBAAiB,EACtBC,IACA,KACP,CAGL,IAAImK,KAAmBhK,GAAU,WAAWN,EAAY,QAAQ,EAC5DuK,KAAmBjK,GAAU,WAAWN,EAAY,QAAQ,EAC5DwK,EAAaF,EACX,gBAAgB,OAAO,OAAOA,CAAY,EACvC,QAAQ,KAAM,MAAM,EACpB,QAAQ,MAAO,GAAG,EAClB,QAAQ,OAAQ,OAAO,EAAG,IAAK,EAClC,OACFG,EAAYF,EACV,WAAY,UAAW1K,GAAS,uBAAuB0K,CAAY,EAAG,IAAK,EAC3E,OACFG,EAAiB,iBAAkB,UAAW7K,GAAS,uBAAuBI,EAAS,QAAQ,EAAG,IAAK,EACvG0K,EAAe,OAAO,QAAQ3K,CAAU,EAEvC,OAAO,SAAUjjB,EAAI,CACtB,IAAIG,EAAKrB,GAAOkB,EAAI,CAAC,EAAGhL,EAAMmL,EAAG,CAAC,EAClC,MAAO,CAAC,CAAC,SAAU,SAAU,cAAc,EAAE,SAASnL,EAAI,YAAW,CAAE,CACnF,CAAS,EACI,IAAI,SAAUgL,EAAI,CACnB,IAAIG,EAAKrB,GAAOkB,EAAI,CAAC,EAAGhL,EAAMmL,EAAG,CAAC,EAAGlL,EAAQkL,EAAG,CAAC,EACjD,MAAO,IAAI,OAAOnL,EAAK,OAAO,EAAE,UAAW8tB,GAAS,uBAAuB7tB,CAAK,EAAG,GAAG,CAClG,CAAS,EACI,KAAK,IAAI,EACV44B,EAAaD,EACX,eAAe,OAAOA,EAAc,GAAG,EACvC,OAEFl4B,EAAU,qBAAsB,OAAOwD,EAAQ,QAAS,EACxD2yB,IACAn2B,GAAW,oBAEXu3B,EAAY,SACZv3B,GAAW,yBAEf,IAAIo4B,EAAkB,CAACD,EAAYF,EAAgBD,EAAWD,CAAU,EAAE,OAAO,SAAU15B,EAAG,CAAE,MAAO,CAAC,CAACA,CAAI,CAAA,EAAE,KAAK,IAAI,EACxH,OAAI+5B,IACAp4B,GAAW,KAAOo4B,IAElB5K,EAAS,MAAQA,EAAS,SAAWA,EAAS,UAC9CxtB,GAAW,qBAEfA,GAAW,IACXytB,EAAKztB,CAAO,EACZ0tB,IAEAD,EAAK,2BAA2B,EACzBxB,EAAI,CACd,CACL,ECpJA0B,GAAO,WAAc,GACZA,GAAA,EAAG,OACZ,IAAIC,GAAW1sB,GACfysB,GAAA,EAAY,CACR,KAAM,CACF,IAAK,IACL,MAAO,IACP,QAAS,KACT,QAAW,MACd,EACD,YAAa,CACT,KAAMC,GAAS,IAClB,CACL,kBCbAV,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBksB,GAAWtoB,GACfooB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,YACP,KAAM,sEACN,YAAa,kBAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIsvB,EAAShmB,EAAG,OAAQ+tB,EAAY/tB,EAAG,OAAQ+iB,EAAU/iB,EAAG,QAASkjB,EAAWljB,EAAG,SAAUijB,EAAajjB,EAAG,WACzGtJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAIyJ,EAAKzJ,EAAQ,mBAAoBgvB,EAAqBvlB,IAAO,OAAS,GAAQA,EAC9EC,EAAK,IAAIyiB,GAAe,YAAeM,EAAO/iB,EAAG,KAAMgjB,EAAQhjB,EAAG,MAAOuhB,EAAOvhB,EAAG,KACvF+iB,EAAK,eAAe,EACpBA,EAAK,oBAAoB,EACzBC,IAGA,IAAIlqB,EAAS60B,EAAU,cACnB5J,EAAU,CACV,MACA,OACA,OACA,SACA,QACA,MACA,UACA,OACA,OACA,SACA,OACA,OACZ,EACY6J,EAAY90B,EAAO,OAAO,CAAC,EAAIA,EAAO,UAAU,CAAC,EAAE,cAClDirB,EAAQ,SAASjrB,CAAM,IACxBiqB,EAAK,oBAAoB,OAAO6K,EAAW,qBAAqB,CAAC,EACjE7K,EAAK,eAAe,OAAOjqB,EAAO,YAAa,EAAE,GAAG,CAAC,EACrDiqB,EAAK,yBAAyB,OAAOD,EAAS,KAAO,OAAS,QAAS,GAAG,CAAC,EAC3EC,EAAK,4BAA4B,EACjCA,EAAK,KAAK,EACVC,KAEJD,EAAK,cAAe,OAAOJ,EAAS,IAAK,CAAC,EAC1CK,IACAD,EAAK,0CAA0C,EAC3C6C,EAAO,WAAa,WACpB7C,EAAK,qBAAqB,EACtBuC,GACAvC,EAAK,8CAA8C,GAG3DC,IACAD,EAAK,wBAAwB,OAAO6K,EAAW,WAAW,CAAC,EAC3D,IAAIxN,EAAU,OAAO,KAAKyC,CAAU,EACpC,OAAIzC,EAAQ,QACRA,EAAQ,QAAQ,SAAUxrB,EAAK,CAC3BmuB,EAAK,YAAa,OAAOnuB,EAAK,QAAS,EAAE,UAAW8tB,GAAS,uBAAuBG,EAAWjuB,CAAG,CAAC,EAAG,GAAG,CAAC,CAC1H,CAAa,EAEDkuB,EAAS,MACTC,EAAK,kBAAkB,OAAO,KAAK,UAAUD,EAAS,IAAI,CAAC,CAAC,EAEhEE,IACAD,EAAK,kCAAkC,EACvCA,EAAK,yBAAyB,EACvBxB,EAAI,CACd,CACL,ECtEA0B,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAW1sB,GACfysB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,OACP,QAAS,MACT,QAAW,QACd,EACD,YAAa,CACT,OAAQC,GAAS,MACpB,CACL,wBCbA2K,GAAO,WAAc,GACrBA,GAAA,OAAiBA,GAAA,MAAgB,OAKjC,IAAIC,GAAQ,SAAUj5B,EAAO,CACrBA,IAAU,SAAUA,EAAQ,IAChC,IAAIk5B,EAAO,wBACPC,EAAcD,EAAK,KAAKl5B,CAAK,EACjC,OAAIm5B,EACOn5B,EAGJ,IAAI,OAAOA,EAAM,QAAQ,KAAM,OAAO,EAAG,GAAG,CACvD,EACag5B,GAAA,MAAGC,GAChB,IAAI1D,GAAS,SAAUv1B,EAAO,CAAE,OAAOA,EAAM,QAAQ,MAAO,KAAK,EAAE,QAAQ,MAAO,KAAK,CAAE,EACzFg5B,GAAA,OAAiBzD,GCRjB,IAAIlG,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAiBjsB,GACjB2sB,GAAY/oB,GACZ6zB,GAAUzyB,GAIV9G,GAAS,CACT,UAAW,IACX,OAAQ,GACR,OAAQ,IACR,KAAM,IACN,KAAM,IACN,QAAS,IACT,OAAQ,IACR,SAAU,IACV,QAAS,GACb,EACIw5B,GAAS,SAAUC,EAAO,CAAE,OAAO,SAAUC,EAAU,CACvD,GAAID,EAAO,CACP,IAAIE,EAAY35B,GAAO05B,CAAQ,EAC/B,OAAKC,EAGE,IAAI,OAAOA,CAAS,EAFhB,EAGd,CACD,MAAO,KAAK,OAAOD,CAAQ,CAC/B,GACA5L,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,OACP,KAAM,uBACN,YAAa,+EAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACA4iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OAAQimB,EAAcjmB,EAAG,YAAagjB,EAAahjB,EAAG,WAAYijB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAC9ItJ,IAAY,SAAUA,EAAU,CAAE,GACtC,IAAI0J,EAAK1J,EAAQ,OAAQg4B,EAAStuB,IAAO,OAAS,GAAQA,EAAIwkB,EAAKluB,EAAQ,QAASi4B,EAAU/J,IAAO,OAAS,GAAQA,EAAIS,EAAK3uB,EAAQ,OAAQgrB,EAAS2D,IAAO,OAAS,KAAOA,EAAIE,EAAK7uB,EAAQ,mBAAoBgvB,EAAqBH,IAAO,OAAS,GAAQA,EAAIE,EAAK/uB,EAAQ,aAAck4B,EAAenJ,IAAO,OAAS,GAAQA,EAAI2E,EAAK1zB,EAAQ,MAAO63B,EAAQnE,IAAO,OAAS,GAAQA,EAC3XC,EAAK,IAAIxH,GAAe,YAAYyB,GAASA,GAAS,CAAA,EAAK,OAAO5C,GAAW,SAAW,CAAE,OAAQA,CAAQ,EAAG,CAAE,CAAA,EAAI,CAAE,KAAMA,IAAW,GAAQ;AAAA,EAAQ,OAAOA,CAAM,EAAI,GAAG,CAAE,CAAC,EAAGyB,EAAOkH,EAAG,KAAM1I,EAAO0I,EAAG,KAC1MwE,EAAMP,GAAOC,CAAK,EAClBO,KAAmBT,GAAQ,OAAOtL,CAAO,EAkB7C,GAjBAI,EAAK,QAAQ,OAAO0L,EAAI,SAAS,EAAG,GAAG,EAAE,OAAO31B,CAAM,CAAC,EACnDy1B,IACAG,EAAe,SAASA,CAAY,EACpC3L,EAAK0L,EAAI,SAAS,CAAC,GAEvB1L,EAAK,GAAG,OAAO0L,EAAI,MAAM,CAAC,EAAE,OAAOC,CAAY,CAAC,EAC5CpJ,GACAvC,EAAK0L,EAAI,UAAU,CAAC,EAEpB5I,IAAgB,YAChB9C,EAAK0L,EAAI,SAAS,CAAC,KAEftL,GAAU,WAAWN,EAAY,iBAAiB,GAEtDE,EAAK,cAAc,EAGnBD,EAAS,WAAa,sBAAuB,CAC7C,IAAI6L,KAA4BxL,GAAU,eAAeP,EAAY,cAAc,EACnF,GAAI+L,EAAuB,CACvB,IAAI/G,EAAoBhF,EAAW+L,CAAqB,EACxD,GAAIA,GAAyB/G,EAAmB,CAI5C,IAAIgH,EAAahH,EAAkB,QAAQ,yBAA0B,EAAE,EAEvEhF,EAAW+L,CAAqB,EAAIC,EACpC/L,EAAW8L,CAAqB,EAAIC,CACvC,CACJ,CACJ,CAYD,OAVA,OAAO,KAAKhM,CAAU,EACjB,KAAM,EACN,QAAQ,SAAUhuB,EAAK,CACxB,IAAI2K,EAAS,GAAG,OAAO3K,EAAK,IAAI,EAAE,OAAOguB,EAAWhuB,CAAG,CAAC,EACxDmuB,EAAK,GAAG,OAAO0L,EAAI,QAAQ,EAAG,GAAG,EAAE,UAAWR,GAAQ,OAAO1uB,CAAM,CAAC,CAAC,CACjF,CAAS,EACGsjB,EAAW,QACXE,EAAK,GAAG,OAAO0L,EAAI,QAAQ,EAAG,GAAG,EAAE,UAAWR,GAAQ,OAAOpL,EAAW,MAAM,CAAC,CAAC,EAG5EC,EAAS,SAAQ,CACrB,IAAK,uBACA/iB,EAAK+iB,EAAS,UAAY,MAAQ/iB,IAAO,QAAkBA,EAAG,QAAQ,SAAUikB,EAAO,CACpF,IAAI7f,EAAO,GACP6f,EAAM,SACN7f,EAAO,GAAG,OAAO6f,EAAM,KAAM,IAAI,EAAE,OAAOA,EAAM,QAAQ,EAGxD7f,EAAO,GAAG,OAAO6f,EAAM,KAAM,GAAG,EAAE,OAAOA,EAAM,KAAK,EAExDjB,EAAK,GAAG,OAAO0L,EAAI,MAAM,EAAG,GAAG,EAAE,UAAWR,GAAQ,OAAO9pB,CAAI,CAAC,CAAC,CACrF,CAAiB,EACD,MACJ,IAAK,oCACG2e,EAAS,OACTA,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrC,IAAI6K,EAAY7K,EAAM,KAClB8K,EAAU,mBAAmB9K,EAAM,IAAI,EACvC+K,EAAgBD,IAAYD,EAC5B5xB,GAAO8xB,EAAgBD,EAAUD,EACjCG,GAAOV,EAAS,gBAAkB,SAAS,OAAOS,EAAgB,aAAe,EAAE,EACvFhM,EAAK,GAAG,OAAOiM,GAAM,GAAG,EAAE,UAAWf,GAAQ,OAAO,GAAG,OAAOhxB,GAAM,GAAG,EAAE,OAAO+mB,EAAM,KAAK,CAAC,CAAC,CAAC,CACtH,CAAqB,EAGDjB,EAAK,GAAG,OAAOuL,EAAS,gBAAkBG,EAAI,MAAM,EAAG,GAAG,EAAE,UAAWR,GAAQ,OAAOnL,EAAS,IAAI,CAAC,CAAC,EAEzG,MACJ,QAAS,CAEL,GAAI,CAACA,EAAS,KACV,MAEJ,IAAIkM,EAAOV,EAAS,gBAAkBG,EAAI,MAAM,EAC5CQ,EAAe,GAEnB,MAAQ9L,GAAU,gBAAgBL,EAAS,QAAQ,EAAG,CAElD,IAAIoM,EAAcpM,EAAS,KAAK,OAAS,EACzC,GAAIoM,GAAeV,EACf,GAAI,CACA,IAAI9B,EAAc,KAAK,MAAM5J,EAAS,IAAI,EAI1CmM,EAAe,GACf,IAAIxD,EAAU,KAAK,UAAUiB,EAAa,OAAWpL,CAAM,EACvDwB,EAAS,KAAK,QAAQ,GAAG,EAAI,EAC7BC,EAAK,GAAG,OAAOiM,EAAM;AAAA,CAAa,EAAE,OAAOvD,EAAS;AAAA,IAAO,CAAC,EAG5D1I,EAAK,GAAG,OAAOiM,EAAM;AAAA,CAAM,EAAE,OAAOvD,EAAS;AAAA,EAAK,CAAC,CAE1D,MACW,CAEX,CAER,CACIwD,GACDlM,EAAK,GAAG,OAAOiM,EAAM,GAAG,EAAE,UAAWf,GAAQ,OAAOnL,EAAS,IAAI,CAAC,CAAC,CAE1E,CACJ,CACD,OAAOvB,EAAI,CACd,CACL,YCrKI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACPA,GAAA,OAAG,OACjB,IAAIC,GAAiBjsB,GACjBy3B,GAAU7zB,GACdooB,GAAA,OAAiB,CACb,KAAM,CACF,IAAK,SACL,MAAO,SACP,KAAM,qBACN,YAAa,kCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIusB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAUkkB,EAAWlkB,EAAG,SAAU+iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OAAQrL,EAAMqL,EAAG,IAC/H/I,EAAOqtB,GAAS,CAAE,KAAM,GAAO,KAAM,GAAO,QAAS,GAAO,OAAQ,KAAM,OAAQ,GAAO,MAAO,GAAO,YAAa,GAAO,MAAO,GAAO,MAAO,GAAO,QAAS,GAAO,QAAS,GAAO,OAAQ,EAAO,EAAE5tB,CAAO,EAC/MyJ,EAAK,IAAI0iB,GAAe,YAAY,CACpC,OAAQ5rB,EAAK,OAEb,KAAMA,EAAK,SAAW,GAAQ;AAAA,EAAQ,OAAOA,EAAK,MAAM,EAAI,GACxE,CAAS,EAAGksB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KAAMqoB,EAAUroB,EAAG,QAC7CovB,EAAM,GACNC,EAAQ,CAAA,EACRv4B,EAAK,SACLu4B,EAAM,KAAKv4B,EAAK,MAAQ,KAAO,WAAW,EAE1CA,EAAK,MACLu4B,EAAM,KAAKv4B,EAAK,MAAQ,KAAO,QAAQ,EAEvCA,EAAK,SACLu4B,EAAM,KAAKv4B,EAAK,MAAQ,KAAO,WAAW,EAE1CA,EAAK,OACLu4B,EAAM,KAAK,GAAG,OAAOv4B,EAAK,MAAQ,KAAO,UAAW,GAAG,EAAE,OAAOA,EAAK,KAAK,CAAC,EAE3EA,EAAK,QACLu4B,EAAM,KAAK,YAAY,OAAOv4B,EAAK,MAAM,CAAC,EAE1CA,EAAK,MACLu4B,EAAM,KAAK,UAAU,OAAOv4B,EAAK,IAAI,CAAC,EAEtCA,EAAK,QACLu4B,EAAM,KAAK,YAAY,OAAOv4B,EAAK,MAAM,CAAC,EAE1CA,EAAK,OACLu4B,EAAM,KAAK,WAAW,OAAOv4B,EAAK,KAAK,CAAC,EAExCA,EAAK,SACLu4B,EAAM,KAAK,aAAa,OAAOv4B,EAAK,OAAO,CAAC,EAG5CA,EAAK,aACL,OAAO,KAAKitB,CAAQ,EAAE,QAAQ,SAAU7mB,EAAM,CAC1C,IAAIpI,EAAQivB,EAAS7mB,CAAI,EACrB,MAAM,QAAQpI,CAAK,EACnBA,EAAM,QAAQ,SAAUwB,EAAK,CACzB0sB,EAAK,GAAG,OAAO9lB,EAAM,IAAI,EAAE,UAAWgxB,GAAQ,OAAO53B,CAAG,CAAC,CAAC,CAClF,CAAqB,EAGD0sB,EAAK,GAAG,OAAO9lB,EAAM,IAAI,EAAE,UAAWgxB,GAAQ,OAAOp5B,CAAK,CAAC,CAAC,CAEhF,CAAa,EAGL,OAAO,KAAKguB,CAAU,EACjB,KAAM,EACN,QAAQ,SAAUjuB,EAAK,CACxBmuB,EAAK,GAAG,OAAOnuB,EAAK,GAAG,EAAE,UAAWq5B,GAAQ,OAAOpL,EAAWjuB,CAAG,CAAC,CAAC,CAAC,CAChF,CAAS,EACGkuB,EAAS,WAAa,oCAElBA,EAAS,QAAUA,EAAS,OAAO,SACnCsM,EAAM,KAAKv4B,EAAK,MAAQ,KAAO,QAAQ,EACvCisB,EAAS,OAAO,QAAQ,SAAUkB,EAAO,CACrCjB,EAAK,GAAG,OAAOiB,EAAM,KAAM,GAAG,EAAE,UAAWiK,GAAQ,OAAOjK,EAAM,KAAK,CAAC,CAAC,CAC3F,CAAiB,GAILmL,EAAM,GAEV,IAAIE,EAAWD,EAAM,OAAS,GAAG,OAAOA,EAAM,KAAK,GAAG,EAAG,GAAG,EAAI,GAGhE,GAFA76B,KAAU05B,GAAQ,OAAOp3B,EAAK,YAActC,EAAMouB,CAAO,EACzDyF,EAAQ,QAAQ,OAAOiH,CAAQ,EAAE,OAAOv2B,EAAQ,GAAG,EAAE,OAAOvE,CAAG,CAAC,EAC5D46B,GAAOrM,EAAS,KAAM,CACtB,IAAIwM,KAAmBrB,GAAQ,OAAOnL,EAAS,IAAI,EACnDsF,EAAQ,QAAQ,OAAOkH,EAAc,KAAK,CAAC,CAC9C,CACD,OAAO/N,EAAI,CACd,CACL,YCpGI2C,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACA1B,GAAO,WAAc,GACTA,GAAA,KAAG,OACf,IAAIC,GAAiBjsB,GACjBy3B,GAAU7zB,GACdooB,GAAA,KAAe,CACX,KAAM,CACF,IAAK,OACL,MAAO,OACP,KAAM,qCACN,YAAa,gEAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIwC,EAAS8G,EAAG,OAAQkjB,EAAWljB,EAAG,SAAUijB,EAAajjB,EAAG,WAAY+iB,EAAU/iB,EAAG,QACrF/I,EAAOqtB,GAAS,CAAE,OAAQ,KAAM,MAAO,GAAO,QAAS,EAAO,EAAE5tB,CAAO,EACvEyJ,EAAK,IAAI0iB,GAAe,YAAY,CACpC,OAAQ5rB,EAAK,OAEb,KAAMA,EAAK,SAAW,GAAQ;AAAA,EAAQ,OAAOA,EAAK,MAAM,EAAI,GACxE,CAAS,EAAGksB,EAAOhjB,EAAG,KAAMwhB,EAAOxhB,EAAG,KAC9B,OAAIlJ,EAAK,QACLksB,EAAK,QAAQ,OAAOlsB,EAAK,MAAQ,KAAO,WAAW,CAAC,EAGpDksB,EAAK,QAAQ,OAAOlsB,EAAK,MAAQ,KAAO,SAAS,CAAC,EAEtDksB,EAAK,YAAY,UAAWkL,GAAQ,OAAOn1B,CAAM,CAAC,CAAC,EACnD,OAAO,KAAK+pB,CAAU,EAAE,QAAQ,SAAUjuB,EAAK,CAC3C,IAAI2K,EAAS,GAAG,OAAO3K,EAAK,IAAI,EAAE,OAAOiuB,EAAWjuB,CAAG,CAAC,EACxDmuB,EAAK,YAAY,UAAWkL,GAAQ,OAAO1uB,CAAM,CAAC,CAAC,CAC/D,CAAS,EACGujB,EAAS,MACTC,EAAK,eAAe,UAAWkL,GAAQ,WAAYA,GAAQ,OAAOnL,EAAS,IAAI,CAAC,CAAC,CAAC,EAEtFC,EAAKlsB,EAAK,MAAQ,KAAO,mBAAmB,EAC5CksB,EAAK,KAAK,UAAWkL,GAAQ,OAAOtL,CAAO,CAAC,CAAC,EACtCpB,EAAI,CACd,CACL,ECzDA0B,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAIC,GAAW1sB,GACXsuB,GAAW1qB,GACXgsB,GAAW5qB,GACfynB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,QACP,QAAS,MACT,QAAW,MACd,EACD,YAAa,CACT,KAAMC,GAAS,KACf,OAAQ4B,GAAS,OACjB,KAAMsB,GAAS,IAClB,CACL,qCCjBA7qB,EAAA,WAAqB,GACrBA,EAAgC,sBAAAA,EAAA,mBAA6B,OAO7D,IAAIg0B,EAAc,SAAUrvB,EAAQ1C,EAAK,CAAE,OAAOA,EAAI,OAAO0C,CAAM,GAI/DsvB,EAAc,SAAUp3B,EAAK0zB,EAAQ9C,EAAa+C,EAAa,CAC/D,IAAIC,EAAgBuD,EAAYxD,EAAa/C,CAAW,EACpDiD,EAAqBsD,EAAYxD,EAAc,EAAG/C,CAAW,EAC7DzH,EAAOuK,EAAS;AAAA,EAAM,OAAOE,CAAa,EAAI,KAClD,OAAIF,EACO;AAAA,EAAM,OAAOE,CAAa,EAAE,OAAO5zB,EAAI,KAAKmpB,CAAI,EAAG;AAAA,CAAI,EAAE,OAAO0K,EAAoB,GAAG,EAE3F,IAAI,OAAO7zB,EAAI,KAAKmpB,CAAI,EAAG,GAAG,CACzC,EASIkO,EAAqB,SAAUxyB,EAAM2rB,EAAY/xB,EAAM,CACvD,MAAO,OAAO,OAAOoG,EAAM,KAAK,EAAE,UAAW1B,EAAQ,uBAAuBqtB,EAAY/xB,CAAI,CAAC,CACjG,EACA0E,EAAA,mBAA6Bk0B,EAO7B,IAAI1G,EAAwB,SAAUl0B,EAAOgC,EAAMk1B,EAAa,CAE5D,OADAA,EAAcA,IAAgB,OAAY,EAAIA,EAAc,EACpD,OAAO,UAAU,SAAS,KAAKl3B,CAAK,EAAC,CACzC,IAAK,kBACD,OAAOA,EACX,IAAK,iBAAkB,CAEnB,IAAIu3B,EAAW,GACXnD,EAAuBp0B,EAAM,IAAI,SAAUuJ,EAAG,CAE9C,OAAI,OAAO,UAAU,SAAS,KAAKA,CAAC,IAAM,oBACtCguB,EAAW,OAAO,KAAKhuB,CAAC,EAAE,OAAS,MAE5B7C,EAAQ,uBAAuB6C,EAAGvH,EAAMk1B,CAAW,CAC9E,CAAa,EAED,OAAOyD,EAAYvG,EAAsBmD,EAAUv1B,EAAK,OAAQk1B,CAAW,CAC9E,CACD,IAAK,kBAAmB,CACpB,IAAI7C,EAAgB,CAAA,EACpB,QAASt0B,KAAOC,EACZq0B,EAAc,KAAK,IAAK,OAAOt0B,EAAK,KAAM,EAAE,UAAW2G,EAAQ,uBAAuB1G,EAAMD,CAAG,EAAGiC,EAAMk1B,CAAW,CAAC,CAAC,EAEzH,OAAOyD,EAAYtG,EAEnBryB,EAAK,QAAUqyB,EAAc,OAAS,EAEtCryB,EAAK,OAAQk1B,CAAW,CAC3B,CACD,IAAK,mBACD,OAAOl3B,EAAM,WACjB,QACI,OAAIA,GAAU,KACH,GAEJ,IAAK,OAAOA,EAAM,SAAQ,EAAG,QAAQ,KAAM,KAAK,EAAG,GAAI,CACrE,CACL,EACA0G,EAAA,sBAAgCwtB,QCpEhC,IAAI7E,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClDsmB,OAAAA,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACIxlB,GAAUd,GAAQA,EAAK,QAAW,SAAUY,EAAGL,EAAG,CAClD,IAAIM,EAAI,OAAO,QAAW,YAAcD,EAAE,OAAO,QAAQ,EACzD,GAAI,CAACC,EAAG,OAAOD,EACf,IAAI7G,EAAI8G,EAAE,KAAKD,CAAC,EAAGG,EAAGC,EAAK,CAAE,EAAEvC,EAC/B,GAAI,CACA,MAAQ8B,IAAM,QAAUA,KAAM,IAAM,EAAEQ,EAAIhH,EAAE,KAAM,GAAE,MAAMiH,EAAG,KAAKD,EAAE,KAAK,CAC5E,OACME,EAAO,CAAExC,EAAI,CAAE,MAAOwC,CAAO,CAAG,QAC/B,CACJ,GAAI,CACIF,GAAK,CAACA,EAAE,OAASF,EAAI9G,EAAE,SAAY8G,EAAE,KAAK9G,CAAC,CAClD,QACO,CAAE,GAAI0E,EAAG,MAAMA,EAAE,KAAQ,CACpC,CACD,OAAOuC,CACX,EACA4jB,GAAO,WAAc,GACDA,GAAA,aAAG,OACvB,IAAIC,GAAiBjsB,GACjB2yB,GAAY/uB,GAChBooB,GAAA,aAAuB,CACnB,KAAM,CACF,IAAK,eACL,MAAO,eACP,KAAM,2GACN,YAAa,mCAChB,EACD,QAAS,SAAU5iB,EAAItJ,EAAS,CAC5B,IAAIyJ,EACA8iB,EAAajjB,EAAG,WAAYkjB,EAAWljB,EAAG,SAAU+iB,EAAU/iB,EAAG,QAAS9G,EAAS8G,EAAG,OACtF/I,EAAOqtB,GAAS,CAAE,OAAQ,KAAM,OAAQ,GAAM,QAAS,IAAM,EAAE5tB,CAAO,EACtE0J,EAAK,IAAIyiB,GAAe,YAAY,CAAE,OAAQ5rB,EAAK,OAAQ,EAAGksB,EAAO/iB,EAAG,KAAMgjB,EAAQhjB,EAAG,MAAOuhB,EAAOvhB,EAAG,KAE1GopB,EAAM,CACN,WAAY,GACZ,QAAS,EACrB,EAQQ,GANArG,EAAK,mBAAmB,EACpB,OAAO,KAAKF,CAAU,EAAE,SACxBuG,EAAI,WAAa,GACjBpG,IACAD,KAASoG,GAAU,oBAAoB,UAAWtG,EAAYhsB,CAAI,CAAC,GAEnEisB,EAAS,MAAQA,EAAS,SAAWA,EAAS,OAE9C,OADAsG,EAAI,QAAU,GACNtG,EAAS,SAAQ,CACrB,IAAK,oCAKD,GADAE,IACK,GAAAjjB,EAAK+iB,EAAS,UAAY,MAAQ/iB,IAAO,SAAkBA,EAAG,OAAQ,CACvE,IAAIykB,EAAK9lB,GAAOokB,EAAS,MAAM,EAAGuG,EAAO7E,EAAG,CAAC,EAAG8E,EAAO9E,EAAG,MAAM,CAAC,EACjEzB,EAAK,uCAAwC,OAAOsG,EAAK,KAAM,GAAG,EAAE,OAAOA,EAAK,MAAO,uCAAwC,CAAC,EAChIC,EAAK,QAAQ,SAAU1pB,EAAI,CACvB,IAAI3C,EAAO2C,EAAG,KAAM/K,EAAQ+K,EAAG,MAC/BmjB,EAAK,qBAAsB,OAAO9lB,EAAM,GAAG,EAAE,OAAOpI,EAAO,uCAAwC,CAAC,CAChI,CAAyB,CACJ,MAEGu0B,EAAI,QAAU,GAElB,MACJ,IAAK,mBACGtG,EAAS,UACTC,EAAK,GAAG,UAAWoG,GAAU,oBAAoB,aAAcrG,EAAS,QAASjsB,CAAI,EAAG,oBAAoB,CAAC,EAC7GmsB,IACAD,EAAK,gFAAgF,GAEzF,MACJ,IAAK,sBAMDA,KAASoG,GAAU,oBAAoB,aAAcrG,EAAS,OAAQjsB,CAAI,CAAC,EAC3EmsB,IACAD,EAAK,mBAAoB,OAAOD,EAAS,SAAU,GAAI,CAAC,EACxDE,IACAD,EAAK,eAAe,EACpBA,EAAK,2BAA2B,EAChCA,EAAK,2BAA2B,EAChCA,EAAK,iCAAkC,CAAC,EACxCA,EAAK,iCAAkC,CAAC,EACxCA,EAAK,oEAAqE,CAAC,EAC3EA,EAAK,wCAAyC,CAAC,EAC/CA,EAAK,2CAA4C,CAAC,EAClDA,EAAK,qFAAsF,CAAC,EAC5FA,EAAK,sBAAuB,CAAC,EAC7BA,EAAK,sBAAuB,CAAC,EAC7BA,EAAK,IAAK,CAAC,EACXA,EAAK,gDAAiD,CAAC,EACvDA,EAAK,sDAAuD,CAAC,EAC7DA,EAAK,sBAAuB,CAAC,EAC7BA,EAAK,8CAA+C,CAAC,EACrDA,EAAK,uCAAwC,CAAC,EAC9CA,EAAK,IAAK,CAAC,EACXA,EAAK,GAAG,EACR,MACJ,QACIC,IACAD,EAAK,gCAAiC,OAAOD,EAAS,KAAM,uCAAwC,CAAC,CAC5G,CAEL,OAAAE,IAEAD,EAAK,yDAA0D,OAAOJ,EAAS,aAAc,CAAC,EAC9FI,EAAK,+EAA+E,EACpFA,EAEA,wDAAwD,OAAO,SAASlsB,EAAK,QAAS,EAAE,EAAE,QAAQ,CAAC,EAAG,GAAG,CAAC,EAC1GksB,EAAK,yBAA0B,OAAOjqB,EAAQ,GAAI,CAAC,EAC/CswB,EAAI,YACJrG,EAAK,uCAAuC,EAE5CqG,EAAI,SACJrG,EAAK,qCAAqC,EAE9CC,IAEAD,EAAK,iCAAiC,EACtCA,EAAK,sHAAsH,EAC3HA,EAAK,sBAAuB,CAAC,EAC7BA,EAAK,sBAAuB,CAAC,EAC7BA,EAAK,WAAY,CAAC,EAClBA,EAAK,kDAAmD,CAAC,EACzDA,EAAK,sBAAuB,CAAC,EAC7BA,EAAK,IAAK,CAAC,EACXA,EAAK,IAAI,EACTC,IACAD,EAAK,mBAAmB,EACjBxB,EAAI,CACd,CACL,EC3JA0B,GAAO,WAAc,GACRA,GAAA,MAAG,OAChB,IAAIC,GAAW1sB,GACfysB,GAAA,MAAgB,CACZ,KAAM,CACF,IAAK,QACL,MAAO,QACP,QAAS,SACT,QAAW,cACd,EACD,YAAa,CACT,aAAcC,GAAS,YAC1B,CACL,eCbA3nB,EAAA,WAAqB,GACrBA,EAAA,gBAA0BA,WAAmBA,EAAoB,UAAAA,EAAA,SAAmBA,EAAkB,QAAA,OACtG,IAAIm0B,EAAWl5B,GACXm5B,EAAWv1B,GACXw1B,EAAWp0B,GACXq0B,EAAWp0B,GACXq0B,EAAWn0B,GACXo0B,EAAWl0B,GACXm0B,EAAWl0B,GACXm0B,EAAWj0B,GACXk0B,EAAW5yB,GACX6yB,EAAYnY,GACZoY,EAAYnY,GACZoY,EAAYnY,GACZoY,EAAYnY,GACZoY,EAAYnY,GACZoY,EAAYnY,GACZoY,EAAYnY,GACZoY,EAAYnY,GACZoY,EAAYnY,GAChBjd,EAAkB,QAAA,CACd,EAAGm0B,EAAS,EACZ,QAASC,EAAS,QAClB,OAAQC,EAAS,OACjB,GAAIC,EAAS,GACb,KAAMC,EAAS,KACf,KAAMC,EAAS,KACf,WAAYC,EAAS,WACrB,OAAQC,EAAS,OACjB,KAAMC,EAAS,KACf,KAAMC,EAAU,KAChB,MAAOC,EAAU,MACjB,IAAKC,EAAU,IACf,WAAYC,EAAU,WACtB,OAAQC,EAAU,OAClB,EAAGC,EAAU,EACb,KAAMC,EAAU,KAChB,MAAOC,EAAU,MACjB,MAAOC,EAAU,KACrB,EACA,IAAIC,EAAW,SAAU3N,EAAQ,CAC7B,GAAI,OAAOA,GAAW,UAAYA,IAAW,MAAQ,MAAM,QAAQA,CAAM,EAAG,CACxE,IAAI4N,EAAM5N,IAAW,KAAO,OAAS,MAAM,QAAQA,CAAM,EAAI,QAAU,OAAOA,EAC9E,MAAM,IAAI,MAAM,gEAAiE,OAAO4N,EAAK,GAAI,CAAC,CACrG,CACD,GAAI,CAAC,OAAO,UAAU,eAAe,KAAK5N,EAAQ,MAAM,EACpD,MAAM,IAAI,MAAM,uCAAuC,EAE3D,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,KAAK,EACxD,MAAM,IAAI,MAAM,4DAA4D,EAEhF,GAAI,CAACA,EAAO,KAAK,IACb,MAAM,IAAI,MAAM,oCAAoC,EAExD,GAAI,OAAO,UAAU,eAAe,KAAK1nB,EAAQ,QAAS0nB,EAAO,KAAK,GAAG,EACrE,MAAM,IAAI,MAAM,2CAA2C,OAAOA,EAAO,KAAK,IAAK,GAAG,CAAC,EAE3F,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,OAAO,EAC1D,MAAM,IAAI,MAAM,8DAA8D,EAElF,GAAI,CAACA,EAAO,KAAK,MACb,MAAM,IAAI,MAAM,+CAA+C,EAEnE,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,SAAS,EAC5D,MAAM,IAAI,MAAM,gEAAgE,EAEpF,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAQ,aAAa,GAC3D,CAACA,EAAO,aACR,OAAO,KAAKA,EAAO,WAAW,EAAE,SAAW,EAC3C,MAAM,IAAI,MAAM,iCAAiC,OAAOA,EAAO,KAAK,IAAK,uEAAuE,CAAC,EAErJ,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,SAAS,EAC5D,MAAM,IAAI,MAAM,gEAAgE,EAEpF,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,YAAaA,EAAO,KAAK,OAAU,EAChF,MAAM,IAAI,MAAM,UAAU,OAAOA,EAAO,KAAK,IAAK,uCAAuC,EAAE,OAAOA,EAAO,KAAK,QAAY,sEAAsE,EAAE,OAAO,KAAK,UAAU,OAAO,KAAKA,EAAO,WAAW,CAAC,EAAG,GAAG,CAAC,EAElQ,cAAO,OAAOA,EAAO,WAAW,EAAE,QAAQ1nB,EAAQ,QAAQ,EACnD,EACX,EACAA,EAAA,SAAmBq1B,EACnB,IAAIE,EAAY,SAAU7N,EAAQ,IACrB1nB,EAAQ,UAAU0nB,CAAM,IAGjC1nB,EAAQ,QAAQ0nB,EAAO,KAAK,GAAG,EAAIA,EACvC,EACA1nB,EAAA,UAAoBu1B,EACpB,IAAIC,EAAW,SAAUvO,EAAQ,CAC7B,GAAI,CAACA,EACD,MAAM,IAAI,MAAM,yBAAyB,EAE7C,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAQ,MAAM,EACpD,MAAM,IAAI,MAAM,8CAA8C,EAElE,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,KAAK,EACxD,MAAM,IAAI,MAAM,+DAA+D,EAEnF,GAAI,CAACA,EAAO,KAAK,IACb,MAAM,IAAI,MAAM,kEAAkE,EAEtF,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,OAAO,EAC1D,MAAM,IAAI,MAAM,iEAAiE,EAErF,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,aAAa,EAChE,MAAM,IAAI,MAAM,uEAAuE,EAE3F,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAO,KAAM,MAAM,EACzD,MAAM,IAAI,MAAM,gEAAgE,EAEpF,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKA,EAAQ,SAAS,GACvD,OAAOA,EAAO,SAAY,WAC1B,MAAM,IAAI,MAAM,gFAAgF,EAEpG,MAAO,EACX,EACAjnB,EAAA,SAAmBw1B,EACnB,IAAIC,EAAkB,SAAUC,EAAUzO,EAAQ,CAC9C,MAASjnB,EAAQ,UAAUinB,CAAM,EAGjC,IAAI,CAAC,OAAO,UAAU,eAAe,KAAKjnB,EAAQ,QAAS01B,CAAQ,EAC/D,MAAM,IAAI,MAAM,iBAAiB,OAAOA,EAAU,kCAAkC,CAAC,EAEzF,GAAI,OAAO,UAAU,eAAe,KAAK11B,EAAQ,QAAQ01B,CAAQ,EAAGzO,EAAO,KAAK,GAAG,EAC/E,MAAM,IAAI,MAAM,cAAc,OAAOyO,EAAU,qCAAqC,EAAE,OAAOzO,EAAO,KAAK,IAAK,8BAA8B,CAAC,EAEjJjnB,EAAQ,QAAQ01B,CAAQ,EAAE,YAAYzO,EAAO,KAAK,GAAG,EAAIA,EAC7D,EACAjnB,EAAA,gBAA0By1B,kBCjItB9M,GAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClD,OAAAsmB,GAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,GAAS,MAAM,KAAM,SAAS,CACzC,EACAgN,GAAO,WAAc,GACrBA,GAAA,QAAkBA,GAAA,iBAA2B,OAC7C,IAAIC,GAAY36B,GACZ46B,GAAmB,UAAY,CAC/B,OAAO,OAAO,KAAKD,GAAU,OAAO,EAAE,IAAI,SAAUF,EAAU,CAAE,OAAQ/M,GAASA,GAAS,CAAE,EAAEiN,GAAU,QAAQF,CAAQ,EAAE,IAAI,EAAG,CAAE,QAAS,OAAO,KAAKE,GAAU,QAAQF,CAAQ,EAAE,WAAW,EAAE,IAAI,SAAUI,EAAU,CAAE,OAAOF,GAAU,QAAQF,CAAQ,EAAE,YAAYI,CAAQ,EAAE,KAAO,CAAC,CAAE,CAAG,CAAE,CACvS,EACwBH,GAAA,iBAAGE,GAC3B,IAAIE,GAAU,SAAUL,EAAU,CAAE,IAAIrxB,EAAI,QAASA,EAAKuxB,GAAU,QAAQF,CAAQ,KAAO,MAAQrxB,IAAO,OAAS,OAASA,EAAG,KAAK,UAAY,IAChJsxB,GAAA,QAAkBI,gBCnBlB,IAAIpN,EAAYtmB,GAAQA,EAAK,UAAa,UAAY,CAClD,OAAAsmB,EAAW,OAAO,QAAU,SAASnmB,EAAG,CACpC,QAASrG,EAAGC,EAAI,EAAGwG,EAAI,UAAU,OAAQxG,EAAIwG,EAAGxG,IAAK,CACjDD,EAAI,UAAUC,CAAC,EACf,QAASiO,KAAKlO,EAAO,OAAO,UAAU,eAAe,KAAKA,EAAGkO,CAAC,IAC1D7H,EAAE6H,CAAC,EAAIlO,EAAEkO,CAAC,EACjB,CACD,OAAO7H,CACf,EACWmmB,EAAS,MAAM,KAAM,SAAS,CACzC,EACI5E,EAAmB1hB,GAAQA,EAAK,kBAAqB,OAAO,OAAU,SAASY,EAAGC,EAAG4a,EAAGkG,EAAI,CACxFA,IAAO,SAAWA,EAAKlG,GAC3B,IAAImG,EAAO,OAAO,yBAAyB/gB,EAAG4a,CAAC,GAC3C,CAACmG,IAAS,QAASA,EAAO,CAAC/gB,EAAE,WAAa+gB,EAAK,UAAYA,EAAK,iBAClEA,EAAO,CAAE,WAAY,GAAM,IAAK,UAAW,CAAE,OAAO/gB,EAAE4a,CAAC,CAAE,IAE3D,OAAO,eAAe7a,EAAG+gB,EAAIC,CAAI,CACpC,EAAK,SAAShhB,EAAGC,EAAG4a,EAAGkG,EAAI,CACpBA,IAAO,SAAWA,EAAKlG,GAC3B7a,EAAE+gB,CAAE,EAAI9gB,EAAE4a,CAAC,CACd,GACG9a,EAAYX,GAAQA,EAAK,UAAa,SAASY,EAAG,CAClD,IAAI9G,EAAI,OAAO,QAAW,YAAc,OAAO,SAAU+G,EAAI/G,GAAK8G,EAAE9G,CAAC,EAAGC,EAAI,EAC5E,GAAI8G,EAAG,OAAOA,EAAE,KAAKD,CAAC,EACtB,GAAIA,GAAK,OAAOA,EAAE,QAAW,SAAU,MAAO,CAC1C,KAAM,UAAY,CACd,OAAIA,GAAK7G,GAAK6G,EAAE,SAAQA,EAAI,QACrB,CAAE,MAAOA,GAAKA,EAAE7G,GAAG,EAAG,KAAM,CAAC6G,EACvC,CACT,EACI,MAAM,IAAI,UAAU9G,EAAI,0BAA4B,iCAAiC,CACzF,EACIkoB,EAAmBhiB,GAAQA,EAAK,iBAAoB,SAAU+hB,EAAK,CACnE,OAAQA,GAAOA,EAAI,WAAcA,EAAM,CAAE,QAAWA,EACxD,EACApkB,EAAA,WAAqB,GACrBA,EAAA,YAAsBA,kBAA0BA,EAAoB,UAAAA,EAAA,QAAkBA,EAA2B,iBAAA,OACjH,IAAIg2B,EAAiB/6B,GACjBg7B,EAAc5R,EAAgBxlB,EAAoB,EAClDq3B,EAAgBj2B,GAChBk2B,EAAQj2B,GACRk2B,EAAch2B,GACdi2B,EAAkB/1B,GAClBsnB,EAAYrnB,GACZ6kB,EAAY3kB,GACZm1B,EAAY7zB,GACZu0B,EAAU7Z,GACdsH,EAAgB/jB,EAASs2B,EAAS,kBAAkB,EACpDvS,EAAgB/jB,EAASs2B,EAAS,SAAS,EAC3C,IAAIC,EAAYx0B,GAChBgiB,EAAgB/jB,EAASu2B,EAAW,WAAW,EAC/CxS,EAAgB/jB,EAASu2B,EAAW,iBAAiB,EAMrD,IAAIC,EAAa,SAAUl9B,EAAO,CAC9B,OAAO,OAAOA,GAAU,UACpB,QAASA,GACT,OAAOA,EAAM,KAAQ,UACrB,YAAaA,EAAM,KACnB,MAAM,QAAQA,EAAM,IAAI,OAAO,CACvC,EACIm9B,EAA6B,UAAY,CACzC,SAASA,EAAY39B,EAAO,CACxB,IAAI4rB,EAAQ,KACZ,KAAK,SAAW,GAChB,KAAK,QAAU,SAAUgS,EAAY,CACjC,IAAInyB,EAAKF,EACLG,EAAIC,EAAIwkB,EACRlvB,EAAU4uB,EAASA,EAAS,CAAA,EAAI+N,CAAU,EAAG,CAAE,QAAS,GAAI,OAAQ,CAAE,EAAE,SAAU,CAAA,EAAI,WAAY,CAAE,EAAE,WAAY,GAAI,WAAY,CAAE,CAAA,CAAE,EAO1I,GALI38B,EAAQ,aAAeA,EAAQ,YAAY,SAE3CA,EAAQ,SAAWA,EAAQ,YAAY,OAAOqrB,EAAU,QAAS,CAAA,CAAE,GAGnErrB,EAAQ,SAAWA,EAAQ,QAAQ,OAAQ,CAC3C,IAAI48B,EAAsB,WAC1B58B,EAAQ,WAAaA,EAAQ,QAAQ,OAAO,SAAUurB,GAAajhB,GAAI,CACnE,IAAIG,GACA9C,GAAO2C,GAAG,KAAM/K,GAAQ+K,GAAG,MAC3BygB,GAAa6R,EAAoB,KAAK58B,EAAQ,WAAW,EACvD2H,GAAK,kBAAmB,EACxBA,GACN,OAAOinB,EAASA,EAAS,CAAE,EAAErD,EAAW,GAAI9gB,GAAK,CAAE,EAAEA,GAAGsgB,EAAU,EAAIxrB,GAAOkL,GAAE,CAClF,EAAE,CAAE,CAAA,CACR,CAEGzK,EAAQ,SAAWA,EAAQ,QAAQ,SACnCA,EAAQ,WAAaA,EAAQ,QAAQ,YAAY,SAAUurB,GAAajhB,GAAI,CACxE,IAAIG,GACA9C,GAAO2C,GAAG,KAAM/K,GAAQ+K,GAAG,MAC/B,OAAQskB,EAASA,EAAS,CAAE,EAAErD,EAAW,GAAI9gB,GAAK,CAAE,EAAEA,GAAG9C,EAAI,EAAIpI,GAAOkL,GAAE,CAC7E,EAAE,CAAE,CAAA,GAGT,IAAI2kB,GAAW3kB,EAAKzK,EAAQ,WAAa,MAAQyK,IAAO,OAAS,OAASA,EAAG,IAAI,SAAUH,GAAI,CAC3F,IAAI3C,GAAO2C,GAAG,KAAM/K,GAAQ+K,GAAG,MAC/B,MAAO,GAAG,OAAO,mBAAmB3C,EAAI,EAAG,GAAG,EAAE,OAAO,mBAAmBpI,EAAK,CAAC,CAChG,CAAa,EAID,OAHI6vB,GAAY,MAAsCA,EAAQ,SAC1DpvB,EAAQ,WAAW,OAASovB,EAAQ,KAAK,IAAI,GAEzCpvB,EAAQ,SAAS,SAAQ,CAC7B,IAAK,kBACL,IAAK,oBACL,IAAK,sBACL,IAAK,wBAID,GAFAA,EAAQ,SAAS,KAAO,GACxBA,EAAQ,SAAS,SAAW,sBACvB,GAAA0K,EAAK1K,EAAQ,YAAc,MAAQ0K,IAAO,SAAkBA,EAAG,OAAQ,CACxE,IAAIN,EAAS,IAAI8xB,EAAY,QAYzBW,EAAqB,OAAOzyB,EAAO,OAAO,QAAQ,GAAM,WAIxDN,EAAW,8BA2Bf,GA1BK+yB,IAEDzyB,EAAO,UAAYN,IAEtBolB,EAAKlvB,EAAQ,YAAc,MAAQkvB,IAAO,QAAkBA,EAAG,OAAO,QAAQ,SAAUR,GAAO,CAC5F,IAAI/mB,GAAO+mB,GAAM,KACbnvB,GAAQmvB,GAAM,OAAS,GACvBoO,GAAWpO,GAAM,UAAY,KAC7BmO,KACQR,EAAY,QAAQ98B,EAAK,EAE7B6K,EAAO,OAAOzC,GAAMpI,GAAOu9B,EAAQ,EAGnC1yB,EAAO,OAAOzC,GAAMpI,EAAK,EAI7B6K,EAAO,OAAOzC,GAAMpI,GAAO,CAEvB,SAAUu9B,GAEV,YAAapO,GAAM,aAAe,IACtE,CAAiC,CAEjC,CAAyB,EACGmO,EACA,GAAI,CACA,QAASlN,EAAK1mB,KAAaozB,EAAY,kBAAkBjyB,EAAQN,CAAQ,CAAC,EAAG+lB,EAAKF,EAAG,KAAI,EAAI,CAACE,EAAG,KAAMA,EAAKF,EAAG,OAAQ,CACnH,IAAIoN,EAASlN,EAAG,MAChB7vB,EAAQ,SAAS,MAAQ+8B,CAC5B,CACJ,OACMxyB,GAAO,CAAEC,EAAM,CAAE,MAAOD,EAAO,CAAG,QACjC,CACJ,GAAI,CACIslB,GAAM,CAACA,EAAG,OAASvlB,EAAKqlB,EAAG,SAAYrlB,EAAG,KAAKqlB,CAAE,CACxD,QACO,CAAE,GAAInlB,EAAK,MAAMA,EAAI,KAAQ,CACxC,MAGDJ,EAAO,QAEH6xB,EAAe,KAAK,SAAUz6B,GAAM,CACpCxB,EAAQ,SAAS,MAAQwB,EAC5B,CAAA,CAAC,EAENxB,EAAQ,SAAS,SAAW8J,EAE5B,IAAIwoB,KAAwBzE,EAAU,eAAe7tB,EAAQ,WAAY,cAAc,GAAK,eAC5FA,EAAQ,WAAWsyB,CAAiB,EAAI,iCAAiC,OAAOxoB,CAAQ,CAC3F,CACD,MACJ,IAAK,oCACI9J,EAAQ,SAAS,QAKlBA,EAAQ,SAAS,UAAYA,EAAQ,SAAS,OAAO,OAAOqrB,EAAU,QAAS,CAAA,CAAE,EAEjFrrB,EAAQ,SAAS,QAAWm8B,EAAc,WAAWn8B,EAAQ,SAAS,SAAS,GAN/EA,EAAQ,SAAS,KAAO,GAQ5B,MACJ,IAAK,YACL,IAAK,cACL,IAAK,mBACL,IAAK,qBAED,GADAA,EAAQ,SAAS,SAAW,mBACxBA,EAAQ,SAAS,KACjB,GAAI,CACAA,EAAQ,SAAS,QAAU,KAAK,MAAMA,EAAQ,SAAS,IAAI,CAC9D,MACS,CAGNA,EAAQ,SAAS,SAAW,YAC/B,CAEL,KACP,CAED,IAAIutB,GAAaqB,EAASA,EAAS,CAAE,EAAE5uB,EAAQ,UAAU,EAAGA,EAAQ,UAAU,EAC1Eg9B,MAAyBZ,EAAM,OAAOp8B,EAAQ,IAAK,GAAM,EAAI,EAEjEA,EAAQ,SAAW4uB,EAASA,EAAS,CAAA,EAAI5uB,EAAQ,QAAQ,EAAGg9B,GAAmB,KAAK,EAEpF,IAAIC,KAAad,EAAc,WAAWn8B,EAAQ,QAAQ,EACtDswB,GAAS1B,EAASA,EAAS,CAAE,EAAEoO,EAAkB,EAAG,CAAE,MAAOh9B,EAAQ,SAAU,OAAQi9B,EAAQ,KAAMA,EAAS,GAAG,OAAOD,GAAmB,SAAU,GAAG,EAAE,OAAOC,CAAM,EAAID,GAAmB,QAAU,CAAA,EAExM/9B,MAAUm9B,EAAM,QAAQxN,EAASA,EAAS,CAAE,EAAEoO,EAAkB,EAAG,CAAE,MAAO,KAAM,OAAQ,IAAI,CAAE,CAAC,EACjG3P,MAAc+O,EAAM,QAAQxN,EAASA,EAAS,CAAA,EAAIoO,EAAkB,EAAG1M,EAAM,CAAC,EAClF,OAAO1B,EAASA,EAAS,CAAA,EAAI5uB,CAAO,EAAG,CAAE,WAAYutB,GAAY,QAASF,GAAS,IAAKpuB,GAAK,OAAQqxB,EAAQ,CAAA,CACzH,EACQ,KAAK,QAAU,SAAUqL,EAAUI,EAAU/6B,EAAS,CAC9C,CAACA,GAAW+6B,IACZ/6B,EAAU+6B,GAEd,IAAIpO,EAASkO,EAAU,QAAQF,CAAQ,EACvC,GAAI,CAAChO,EACD,MAAO,GAEX,IAAIkI,EAAUlI,EAAO,YAAYoO,GAAYpO,EAAO,KAAK,OAAU,EAAE,QACjEnvB,EAAUmsB,EAAM,SAAS,IAAI,SAAU3qB,EAAS,CAAE,OAAO61B,EAAQ71B,EAASgB,CAAO,CAAI,CAAA,EACzF,OAAOxC,EAAQ,SAAW,EAAIA,EAAQ,CAAC,EAAIA,CACvD,EACQ,IAAIg5B,EAAU,CAAA,EAEd,KAAK,SAAW,GAEZiF,EAAW19B,CAAK,EAChBy4B,EAAUz4B,EAAM,IAAI,QAGpBy4B,EAAU,CACN,CACI,QAASz4B,CACZ,CACjB,EAEQy4B,EAAQ,QAAQ,SAAUltB,EAAI,CAC1B,IAAIG,EACAzK,EAAUsK,EAAG,QAEbwpB,EAAMlF,EAAS,CAAE,SAAU,EAAG,YAAa,EAAG,QAAS,CAAA,EAAI,QAAS,CAAA,EAAI,YAAa,WAAY,YAAa,CAAE,EAAE,SAAU,CACxH,WAAYnkB,EAAKzK,EAAQ,YAAc,MAAQyK,IAAO,OAAS,OAASA,EAAG,WAAa,0BAC5G,CAAmB,EAAEzK,CAAO,KACRs8B,EAAgB,oBAAoBxI,CAAG,GAC3CnJ,EAAM,SAAS,KAAKA,EAAM,QAAQmJ,CAAG,CAAC,CAEtD,CAAS,CACJ,CACD,OAAO4I,CACV,EAAA,EACDz2B,EAAA,YAAsBy2B,QCvQT,MAAAQ,GAAsB,CAKjCp1B,EACAkC,EACAusB,IAEwCA,EAAO,SAASzuB,EAAIkC,CAAK,CAAC,ECJ9DmzB,GAAuBC,GACnBh7B,GAA6B,CACnC,MAAM0Q,EAAMuqB,EAAKj7B,EAAGk7B,GAAQF,CAAG,CAAC,EAC1B,CAAC99B,EAAK,GAAGi+B,CAAI,EAAIzqB,EACvB,MAAO,CAACxT,EAAKi+B,EAAK,KAAKH,CAAG,CAAC,CAAA,EAIzBI,GAAmB1J,GAChBA,EAAI,QACR,OAAQ7pB,GAAWA,EAAO,MAAM,EAChC,IAAKA,IAAY,CAChB,KAAMA,EAAO,IACb,MAAOA,EAAO,KACd,EAAA,EAGAwzB,GAAwB3J,GACrBA,EAAI,OACR,OAAQpF,GAAUA,EAAM,MAAM,EAC9B,IAAKA,IAAW,CACf,KAAMA,EAAM,IACZ,MAAOA,EAAM,KACb,EAAA,EAGAgP,GACJ5J,GAQIA,EAAI,KAAK,cAAgB,oCACpBuJ,EACLvJ,EAAI,KAAK,KACTwJ,GAAQ;AAAA,CAAI,EACZK,GACEC,GAGET,GAAoB,GAAG,EACvBQ,GAAOE,EAAM,EACb,CAAC,CAACv+B,EAAKC,CAAK,KAAO,CAEjB,KAAMD,EACN,MAAOC,GAAS,EAAA,EAEpB,CACF,EACAu+B,EAAG,EAIAhK,EAAI,KAAK,KAAK,QAAS4D,GACxBA,EAAM,OAEDA,EAAM,MAAM,IAChBqG,IACY,CACT,KAAMrG,EAAM,IACZ,SAAUA,EAAM,IAChB,YAAaqG,EAAK,IAAA,EACpB,EAGC,CACL,KAAMrG,EAAM,IACZ,MAAOA,EAAM,KAAA,CAEhB,EAGGsG,GAAoBlK,GAAmD,CACvE,GAACA,EAAI,KAAK,YAGZ,OAAAoJ,GAAoBpJ,EAAI,KAAM,cAAe,CAC3C,oCACA,qBAAA,CACQ,EAEH,CACL,SAAUA,EAAI,KAAK,YACnB,OAAQ4J,GAAmB5J,CAAU,CAAA,EAIlC,CACL,SAAUA,EAAI,KAAK,YACnB,KAAMA,EAAI,KAAK,IAAA,CAEnB,EAEamK,GACXnK,IAIO,CACL,SAAU,GACV,YAAa,GACb,YAAa,WACb,QAAS,CAAC,EACV,QAAS0J,GAAgB1J,CAAG,EAC5B,OAAQA,EAAI,OACZ,YAAa2J,GAAqB3J,CAAG,EACrC,IAAKA,EAAI,SACT,SAAUkK,GAAiBlK,CAAG,GAAK,CACjC,SAAU,YACV,OAAQ,CAAC,CACX,CAAA,GC9GSoK,GAAqB,CAChC,CACE,KAAM,SACN,KAAM,IACN,KAAM,UACN,QAAS,UACX,EACA,CACE,KAAM,mBACN,KAAM,UACN,KAAM,WACN,QAAS,oBACX,EACA,CACE,KAAM,oBACN,KAAM,SACN,KAAM,aACN,QAAS,iBACX,EACA,CACE,KAAM,mBACN,KAAM,SACN,KAAM,YACN,QAAS,gBACX,EACA,CACE,KAAM,YACN,KAAM,KACN,KAAM,SACN,QAAS,IACX,EACA,CACE,KAAM,eACN,KAAM,OACN,KAAM,UACN,QAAS,gCACX,EACA,CACE,KAAM,iBACN,KAAM,OACN,KAAM,YACN,QAAS,wBACX,EACA,CACE,KAAM,eACN,KAAM,OACN,KAAM,UACN,QAAS,sBACX,EACA,CACE,KAAM,cACN,KAAM,OACN,KAAM,SACN,QAAS,eACX,EACA,CACE,KAAM,eACN,KAAM,OACN,KAAM,UACN,QAAS,gBACX,EACA,CACE,KAAM,mBACN,KAAM,aACN,KAAM,QACN,QAAS,oBACX,EACA,CACE,KAAM,mBACN,KAAM,aACN,KAAM,QACN,QAAS,oBACX,EACA,CACE,KAAM,oBACN,KAAM,aACN,KAAM,SACN,QAAS,qBACX,EACA,CACE,KAAM,iBACN,KAAM,aACN,KAAM,MACN,QAAS,6BACX,EACA,CACE,KAAM,gBACN,KAAM,SACN,KAAM,SACN,QAAS,iBACX,EACA,CACE,KAAM,oBACN,KAAM,OACN,KAAM,eACN,QAAS,4BACX,EACA,CACE,KAAM,eACN,KAAM,QACN,KAAM,SACN,QAAS,gBACX,EACA,CACE,KAAM,WACN,KAAM,MACN,KAAM,OACN,QAAS,YACX,EACA,CACE,KAAM,wBACN,KAAM,aACN,KAAM,aACN,QAAS,gCACX,EACA,CACE,KAAM,wBACN,KAAM,aACN,KAAM,aACN,QAAS,gCACX,EACA,CACE,KAAM,iBACN,KAAM,SACN,KAAM,UACN,QAAS,0BACX,EACA,CACE,KAAM,kBACN,KAAM,SACN,KAAM,WACN,QAAS,mBACX,EACA,CACE,KAAM,SACN,KAAM,IACN,KAAM,OACN,QAAS,UACX,EACA,CACE,KAAM,cACN,KAAM,OACN,KAAM,SACN,QAAS,oBACX,EACA,CACE,KAAM,aACN,KAAM,QACN,KAAM,OACN,QAAS,cACX,EACA,CACE,KAAM,eACN,KAAM,QACN,KAAM,SACN,QAAS,gBACX,EACA,CACE,KAAM,aACN,KAAM,QACN,KAAM,OACN,QAAS,cACX,EACA,CACE,KAAM,qBACN,KAAM,QACN,KAAM,eACN,QAAS,sBACX,CACF,EAaaC,GAAe,CAC1BC,EACAtK,IACqB,CAErB,MAAMuK,EAAcH,GAAmB,KAAMp1B,GAAMA,EAAE,OAASs1B,CAAO,EAE9D,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","x_google_ignoreList":[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,140,160,161,162,163,164,168]}