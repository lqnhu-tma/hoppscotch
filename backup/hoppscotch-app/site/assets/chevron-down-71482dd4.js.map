{"version":3,"file":"chevron-down-71482dd4.js","sources":["../../../hoppscotch-common/src/components/app/PaneLayout.vue"],"sourcesContent":["<template>\n  <Splitpanes\n    :rtl=\"SIDEBAR_ON_LEFT && mdAndLarger\"\n    :class=\"{\n      '!flex-row-reverse': SIDEBAR_ON_LEFT && mdAndLarger,\n      'smart-splitter': SIDEBAR && hasSidebar,\n      'no-splitter': !(SIDEBAR && hasSidebar),\n    }\"\n    :horizontal=\"!mdAndLarger\"\n    @resize=\"setPaneEvent($event, 'vertical')\"\n  >\n    <Pane\n      :size=\"SIDEBAR && hasSidebar ? PANE_MAIN_SIZE : 100\"\n      min-size=\"65\"\n      class=\"flex flex-col !overflow-auto\"\n    >\n      <Splitpanes\n        class=\"smart-splitter\"\n        :horizontal=\"COLUMN_LAYOUT\"\n        @resize=\"setPaneEvent($event, 'horizontal')\"\n      >\n        <Pane\n          :size=\"PANE_MAIN_TOP_SIZE\"\n          class=\"flex flex-col !overflow-auto\"\n          min-size=\"25\"\n        >\n          <slot name=\"primary\" />\n        </Pane>\n        <Pane\n          v-if=\"hasSecondary\"\n          :size=\"PANE_MAIN_BOTTOM_SIZE\"\n          class=\"flex flex-col !overflow-auto\"\n          min-size=\"25\"\n        >\n          <slot name=\"secondary\" />\n        </Pane>\n      </Splitpanes>\n    </Pane>\n    <Pane\n      :size=\"SIDEBAR && hasSidebar ? PANE_SIDEBAR_SIZE : 0\"\n      :min-size=\"25\"\n      class=\"flex flex-col !overflow-auto bg-primaryContrast\"\n    >\n      <slot name=\"sidebar\" />\n    </Pane>\n  </Splitpanes>\n</template>\n\n<script setup lang=\"ts\">\nimport { Pane, Splitpanes } from \"splitpanes\"\n\nimport \"splitpanes/dist/splitpanes.css\"\n\nimport { useSetting } from \"@composables/settings\"\nimport { breakpointsTailwind, useBreakpoints } from \"@vueuse/core\"\nimport { useService } from \"dioc/vue\"\nimport { computed, ref, useSlots } from \"vue\"\nimport { PersistenceService } from \"~/services/persistence\"\n\nconst SIDEBAR_ON_LEFT = useSetting(\"SIDEBAR_ON_LEFT\")\n\nconst breakpoints = useBreakpoints(breakpointsTailwind)\nconst mdAndLarger = breakpoints.greater(\"md\")\n\nconst COLUMN_LAYOUT = useSetting(\"COLUMN_LAYOUT\")\n\nconst SIDEBAR = useSetting(\"SIDEBAR\")\n\nconst slots = useSlots()\n\nconst persistenceService = useService(PersistenceService)\n\nconst hasSidebar = computed(() => !!slots.sidebar)\nconst hasSecondary = computed(() => !!slots.secondary)\n\nconst props = defineProps({\n  layoutId: {\n    type: String,\n    default: null,\n  },\n})\n\ntype PaneEvent = {\n  max: number\n  min: number\n  size: number\n}\n\nconst PANE_MAIN_SIZE = ref(70)\nconst PANE_SIDEBAR_SIZE = ref(30)\nconst PANE_MAIN_TOP_SIZE = ref(35)\nconst PANE_MAIN_BOTTOM_SIZE = ref(65)\n\nif (!COLUMN_LAYOUT.value) {\n  PANE_MAIN_TOP_SIZE.value = 50\n  PANE_MAIN_BOTTOM_SIZE.value = 50\n}\n\nfunction setPaneEvent(event: PaneEvent[], type: \"vertical\" | \"horizontal\") {\n  if (!props.layoutId) return\n  const storageKey = `${props.layoutId}-pane-config-${type}`\n  persistenceService.setLocalConfig(storageKey, JSON.stringify(event))\n}\n\nfunction populatePaneEvent() {\n  if (!props.layoutId) return\n\n  const verticalPaneData = getPaneData(\"vertical\")\n  if (verticalPaneData) {\n    const [mainPane, sidebarPane] = verticalPaneData\n    PANE_MAIN_SIZE.value = mainPane?.size\n    PANE_SIDEBAR_SIZE.value = sidebarPane?.size\n  }\n\n  const horizontalPaneData = getPaneData(\"horizontal\")\n  if (horizontalPaneData) {\n    const [mainTopPane, mainBottomPane] = horizontalPaneData\n    PANE_MAIN_TOP_SIZE.value = mainTopPane?.size\n    PANE_MAIN_BOTTOM_SIZE.value = mainBottomPane?.size\n  }\n}\n\nfunction getPaneData(type: \"vertical\" | \"horizontal\"): PaneEvent[] | null {\n  const storageKey = `${props.layoutId}-pane-config-${type}`\n  const paneEvent = persistenceService.getLocalConfig(storageKey)\n  if (!paneEvent) return null\n  return JSON.parse(paneEvent)\n}\n\npopulatePaneEvent()\n</script>\n"],"names":["SIDEBAR_ON_LEFT","useSetting","mdAndLarger","useBreakpoints","breakpointsTailwind","COLUMN_LAYOUT","SIDEBAR","slots","useSlots","persistenceService","useService","PersistenceService","hasSidebar","computed","hasSecondary","props","__props","PANE_MAIN_SIZE","ref","PANE_SIDEBAR_SIZE","PANE_MAIN_TOP_SIZE","PANE_MAIN_BOTTOM_SIZE","setPaneEvent","event","type","storageKey","populatePaneEvent","verticalPaneData","getPaneData","mainPane","sidebarPane","horizontalPaneData","mainTopPane","mainBottomPane","paneEvent"],"mappings":"+QA2DA,MAAAA,EAAAC,EAAA,iBAAA,EAGAC,EADAC,EAAAC,CAAA,EACA,QAAA,IAAA,EAEAC,EAAAJ,EAAA,eAAA,EAEAK,EAAAL,EAAA,SAAA,EAEAM,EAAAC,IAEAC,EAAAC,EAAAC,CAAA,EAEAC,EAAAC,EAAA,IAAA,CAAA,CAAAN,EAAA,OAAA,EACAO,EAAAD,EAAA,IAAA,CAAA,CAAAN,EAAA,SAAA,EAEAQ,EAAAC,EAaAC,EAAAC,EAAA,EAAA,EACAC,EAAAD,EAAA,EAAA,EACAE,EAAAF,EAAA,EAAA,EACAG,EAAAH,EAAA,EAAA,EAEAb,EAAA,QACEe,EAAA,MAAA,GACAC,EAAA,MAAA,IAGF,SAAAC,EAAAC,EAAAC,EAAA,CACE,GAAA,CAAAT,EAAA,SAAqB,OACrB,MAAAU,EAAA,GAAAV,EAAA,QAAA,gBAAAS,CAAA,GACAf,EAAA,eAAAgB,EAAA,KAAA,UAAAF,CAAA,CAAA,CAAmE,CAGrE,SAAAG,GAAA,CACE,GAAA,CAAAX,EAAA,SAAqB,OAErB,MAAAY,EAAAC,EAAA,UAAA,EACA,GAAAD,EAAA,CACE,KAAA,CAAAE,EAAAC,CAAA,EAAAH,EACAV,EAAA,MAAAY,GAAA,YAAAA,EAAA,KACAV,EAAA,MAAAW,GAAA,YAAAA,EAAA,IAAuC,CAGzC,MAAAC,EAAAH,EAAA,YAAA,EACA,GAAAG,EAAA,CACE,KAAA,CAAAC,EAAAC,CAAA,EAAAF,EACAX,EAAA,MAAAY,GAAA,YAAAA,EAAA,KACAX,EAAA,MAAAY,GAAA,YAAAA,EAAA,IAA8C,CAChD,CAGF,SAAAL,EAAAJ,EAAA,CACE,MAAAC,EAAA,GAAAV,EAAA,QAAA,gBAAAS,CAAA,GACAU,EAAAzB,EAAA,eAAAgB,CAAA,EACA,OAAAS,EACA,KAAA,MAAAA,CAAA,EADgB,IACW,CAG7B,OAAAR"}