import{f as w,M as _,h as v,g as p,p as h,q as k,ed as g,bk as b,b3 as x,dc as L,ev as B,ew as R,t as S,bh as C,b8 as D,Y as A,aj as F,aS as j,i as M,o as f,d as U,e as l,Z as H,j as n,n as I,c as $,aY as z,m as E,v as N}from"./index-7d8b347c.js";import{g as P}from"./Headers-96f03a77.js";import"./EnvInput-6bb7a0e0.js";import"./oauth.service-b346be9c.js";import"./utils-7c6dc436.js";import"./index.es-0a8c9ae4.js";const T={class:"flex flex-1 flex-col"},V={class:"sticky top-lowerSecondaryStickyFold z-10 flex flex-shrink-0 items-center justify-between overflow-x-auto border-b border-dividerLight bg-primary pl-4"},Y={class:"truncate font-semibold text-secondaryLight"},q={class:"flex"},J=["src","alt"],X=w({__name:"ImageLensRenderer",props:{response:{}},setup(u){const c=_(),t=u,s=v(""),m=p(()=>h(t.response,C(P("type",["fail","success"])),g(b(e=>e.headers,S(e=>e.key.toLowerCase()==="content-type"),x(b(e=>e.value,L(";"),B,R)))),k(()=>"text/plain"))),{downloadIcon:y,downloadResponse:d}=D(m.value,p(()=>t.response.body));return A(t.response,()=>{s.value="";const e=t.response.body,r=new Uint8Array(e),a=new Blob([r.buffer]),o=new FileReader;o.onload=({target:i})=>{s.value=i.result},o.readAsDataURL(a)}),F(()=>{s.value="";const e=t.response.body,r=new Uint8Array(e),a=new Blob([r.buffer]),o=new FileReader;o.onload=({target:i})=>{s.value=i.result},o.readAsDataURL(a)}),j("response.file.download",()=>d()),(e,r)=>{const a=N,o=M("tippy");return f(),U("div",T,[l("div",V,[l("label",Y,H(n(c)("response.body")),1),l("div",q,[e.response.body?I((f(),$(a,{key:0,title:`${n(c)("action.download_file")} <kbd>${n(z)()}</kbd><kbd>J</kbd>`,icon:n(y),onClick:n(d)},null,8,["title","icon","onClick"])),[[o,{theme:"tooltip",allowHTML:!0}]]):E("",!0)])]),l("img",{class:"flex max-w-full border-b border-dividerLight",src:s.value,loading:"lazy",alt:s.value},null,8,J)])}}});export{X as default};
//# sourceMappingURL=ImageLensRenderer-71c8ba4a.js.map
